"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[390],{8230:function(e,t,a){a.d(t,{Z:function(){return Breadcrumbs}});var r=a(7437),n=a(1396),i=a.n(n),s=a(7480),c=a(7158),o=a(1628);function Breadcrumbs(e){let{items:t,className:a}=e;return(0,r.jsxs)("nav",{className:(0,o.cn)("flex items-center space-x-2 text-sm",a),children:[(0,r.jsx)(i(),{href:"/dashboard",className:"flex items-center text-text-secondary hover:text-text-primary transition-colors",children:(0,r.jsx)(s.Z,{className:"w-4 h-4"})}),t.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(c.Z,{className:"w-4 h-4 text-text-muted"}),e.href?(0,r.jsx)(i(),{href:e.href,className:"text-text-secondary hover:text-text-primary transition-colors",children:e.label}):(0,r.jsx)("span",{className:"text-text-primary font-medium",children:e.label})]},t))]})}},1617:function(e,t,a){a.d(t,{Z:function(){return DashboardLayout}});var r=a(7437),n=a(2265),i=a(1396),s=a.n(i),c=a(4033),o=a(1628),l=a(5119),u=a(2457),h=a(8203),v=a(998),d=a(272),f=a(6654),m=a(2431),g=a(5750),x=a(6141),p=a(6637),y=a(9409),b=a(7158),j=a(1291);let P=[{name:"Dashboard",href:"/dashboard",icon:l.Z},{name:"Analytics",href:"/analytics",icon:u.Z},{name:"Scheduler",href:"/scheduler",icon:h.Z},{name:"Activities",href:"/activities",icon:v.Z},{name:"Behaviors",href:"/behaviors",icon:d.Z},{name:"Goals",href:"/goals",icon:f.Z},{name:"Clients",href:"/clients",icon:m.Z},{name:"Users",href:"/users",icon:g.Z},{name:"Shifts",href:"/shifts",icon:x.Z},{name:"Reports",href:"/reports",icon:p.Z},{name:"Settings",href:"/settings",icon:y.Z}];function Sidebar(){let[e,t]=(0,n.useState)(!1),a=(0,c.usePathname)();return(0,r.jsx)("div",{className:(0,o.cn)("bg-nav-bg shadow-nav transition-all duration-300 ease-in-out",e?"w-16":"w-64"),children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-border-default",children:[!e&&(0,r.jsx)("h1",{className:"text-lg font-semibold text-text-primary",children:"Tavonga CareConnect"}),(0,r.jsx)("button",{onClick:()=>t(!e),className:"p-1 rounded-lg hover:bg-bg-highlight transition-colors",children:e?(0,r.jsx)(b.Z,{className:"w-4 h-4 text-nav-icon"}):(0,r.jsx)(j.Z,{className:"w-4 h-4 text-nav-icon"})})]}),(0,r.jsx)("nav",{className:"flex-1 p-4 space-y-2",children:P.map(t=>{let n=a===t.href;return(0,r.jsxs)(s(),{href:t.href,className:(0,o.cn)("sidebar-item",n&&"sidebar-item-active"),children:[(0,r.jsx)(t.icon,{className:(0,o.cn)("w-5 h-5",n?"nav-icon-active":"nav-icon")}),!e&&(0,r.jsx)("span",{className:(0,o.cn)("font-medium",n?"text-text-primary":"text-text-secondary"),children:t.name})]},t.name)})}),!e&&(0,r.jsx)("div",{className:"p-4 border-t border-border-default",children:(0,r.jsx)("div",{className:"text-xs text-text-muted",children:"\xa9 2024 Tavonga CareConnect | Fructox"})})]})})}var w=a(4301),S=a(3021),N=a(7972),Z=a(5883),E=a(2180);function Header(){let[e,t]=(0,n.useState)(!1),{user:a,logout:i}=(0,E.useAuth)(),c=(0,w.Z)(new Date,"EEEE, MMMM d, yyyy");return(0,r.jsx)("header",{className:"bg-bg-appbar border-b border-border-default px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"text-text-secondary",children:c}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("button",{className:"p-2 rounded-lg hover:bg-bg-highlight transition-colors relative",children:[(0,r.jsx)(S.Z,{className:"w-5 h-5 text-nav-icon"}),(0,r.jsx)("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-text-danger rounded-full"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:()=>t(!e),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-bg-highlight transition-colors",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-icon-profile-container rounded-full flex items-center justify-center",children:(null==a?void 0:a.profile_image)?(0,r.jsx)("img",{src:a.profile_image,alt:a.full_name,className:"w-8 h-8 rounded-full object-cover"}):(0,r.jsx)(N.Z,{className:"w-4 h-4 text-icon-profile"})}),(0,r.jsxs)("div",{className:"text-left",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-text-primary",children:(null==a?void 0:a.full_name)||"User"}),(0,r.jsx)("div",{className:"text-xs text-text-secondary",children:(null==a?void 0:a.email)||"user@tavonga.com"})]})]}),e&&(0,r.jsx)("div",{className:"absolute right-0 top-full mt-2 w-48 bg-bg-primary border border-border-default rounded-lg shadow-card z-50",children:(0,r.jsxs)("div",{className:"py-2",children:[(0,r.jsxs)(s(),{href:"/profile",className:"w-full flex items-center gap-3 px-4 py-2 text-left hover:bg-bg-highlight transition-colors",onClick:()=>t(!1),children:[(0,r.jsx)(N.Z,{className:"w-4 h-4 text-nav-icon"}),(0,r.jsx)("span",{className:"text-sm text-text-primary",children:"Profile"})]}),(0,r.jsxs)(s(),{href:"/settings",className:"w-full flex items-center gap-3 px-4 py-2 text-left hover:bg-bg-highlight transition-colors",onClick:()=>t(!1),children:[(0,r.jsx)(y.Z,{className:"w-4 h-4 text-nav-icon"}),(0,r.jsx)("span",{className:"text-sm text-text-primary",children:"Settings"})]}),(0,r.jsxs)("button",{onClick:()=>{i(),t(!1)},className:"w-full flex items-center gap-3 px-4 py-2 text-left hover:bg-bg-highlight transition-colors",children:[(0,r.jsx)(Z.Z,{className:"w-4 h-4 text-nav-icon"}),(0,r.jsx)("span",{className:"text-sm text-text-primary",children:"Logout"})]})]})})]})]})]})})}function DashboardLayout(e){let{children:t}=e;return(0,r.jsxs)("div",{className:"flex h-screen bg-bg-primary",children:[(0,r.jsx)(Sidebar,{}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,r.jsx)(Header,{}),(0,r.jsx)("main",{className:"flex-1 overflow-auto p-6",children:t})]})]})}},8823:function(e,t,a){a.d(t,{Ad:function(){return useTavongaBehaviorAnalytics},C2:function(){return useTavongaActivityAnalytics},Cm:function(){return usePrimaryClient},Ev:function(){return usePredictiveIndicators},G$:function(){return useActivities},Go:function(){return useOverdueActivities},JX:function(){return useInterventionAnalysis},Og:function(){return useMasteryTracking},Q9:function(){return useMyShifts},QK:function(){return useWorkerAnalysis},SU:function(){return useBehaviors},Tg:function(){return useCreateGoal},UV:function(){return useUsers},Yb:function(){return useTodayBehaviors},Zq:function(){return useTodayActivities},dE:function(){return useShifts},dP:function(){return useMyActivities},f_:function(){return useDashboardStats},g0:function(){return useGoals},gZ:function(){return useSchedules},lM:function(){return useTriggerAnalysis},sE:function(){return useMyBehaviors},sN:function(){return useGoalAnalytics},vc:function(){return useCriticalBehaviors},wV:function(){return useCurrentBehaviorTrends},xg:function(){return useUpdateGoal}});var r=a(2462),n=a(2922),i=a(3415);let fetcher=async e=>{try{let t=await fetch(e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token")),"Content-Type":"application/json"}});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));return t.json()}catch(e){throw console.error("SWR fetcher error:",e),e}};function useDashboardStats(){let{data:e,error:t,isLoading:a}=(0,r.ZP)("/api/v1/dashboard/stats",fetcher,{refreshInterval:3e4});return{stats:e,isLoading:a,isError:t,mutate:()=>(0,n.j)("/api/v1/dashboard/stats")}}function useUsers(e){let t=e?"?".concat(new URLSearchParams(e).toString()):"",a="/api/v1/users",{data:i,error:s,isLoading:c}=(0,r.ZP)("".concat(a).concat(t),fetcher);return{users:(null==i?void 0:i.results)||[],total:(null==i?void 0:i.count)||0,page:1,totalPages:Math.ceil(((null==i?void 0:i.count)||0)/20),isLoading:c,isError:s,mutate:()=>(0,n.j)("".concat(a).concat(t))}}function useBehaviors(e){let t=e?"?".concat(new URLSearchParams(e).toString()):"",{data:a,error:i,isLoading:s}=(0,r.ZP)("/api/v1/behaviors".concat(t),fetcher);return{behaviors:(null==a?void 0:a.results)||[],total:(null==a?void 0:a.count)||0,page:1,totalPages:Math.ceil(((null==a?void 0:a.count)||0)/20),isLoading:s,isError:i,mutate:()=>(0,n.j)("/api/v1/behaviors".concat(t))}}function useMyBehaviors(){let{data:e,error:t,isLoading:a}=(0,r.ZP)("/api/v1/behaviors/my_behaviors",fetcher);return{behaviors:e||[],isLoading:a,isError:t,mutate:()=>(0,n.j)("/api/v1/behaviors/my_behaviors")}}function useCriticalBehaviors(){let{data:e,error:t,isLoading:a}=(0,r.ZP)("/api/v1/behaviors/critical",fetcher,{refreshInterval:6e4});return{behaviors:e||[],isLoading:a,isError:t,mutate:()=>(0,n.j)("/api/v1/behaviors/critical")}}function useTodayBehaviors(){let{data:e,error:t,isLoading:a}=(0,r.ZP)("/api/v1/behaviors/today",fetcher);return{behaviors:e||[],isLoading:a,isError:t,mutate:()=>(0,n.j)("/api/v1/behaviors/today")}}function useActivities(e){let t=e?"?".concat(new URLSearchParams(e).toString()):"",{data:a,error:i,isLoading:s}=(0,r.ZP)("/api/v1/activities".concat(t),fetcher);return{activities:(null==a?void 0:a.results)||[],total:(null==a?void 0:a.count)||0,page:1,totalPages:Math.ceil(((null==a?void 0:a.count)||0)/20),isLoading:s,isError:i,mutate:()=>(0,n.j)("/api/v1/activities".concat(t))}}function useTodayActivities(){let{data:e,error:t,isLoading:a}=(0,r.ZP)("/api/v1/activities/logs/today",fetcher,{refreshInterval:6e4});return{activities:e||[],isLoading:a,isError:t,mutate:()=>(0,n.j)("/api/v1/activities/logs/today")}}function useMyActivities(){let{data:e,error:t,isLoading:a}=(0,r.ZP)("/api/v1/activities/logs/my_activities",fetcher);return{activities:e||[],isLoading:a,isError:t,mutate:()=>(0,n.j)("/api/v1/activities/logs/my_activities")}}function useOverdueActivities(){let{data:e,error:t,isLoading:a}=(0,r.ZP)("/api/v1/activities/logs/overdue",fetcher,{refreshInterval:3e5});return{activities:e||[],isLoading:a,isError:t,mutate:()=>(0,n.j)("/api/v1/activities/logs/overdue")}}function useSchedules(e){let t=e?"?".concat(new URLSearchParams(e).toString()):"",{data:a,error:i,isLoading:s}=(0,r.ZP)("/api/v1/scheduler/schedules".concat(t),fetcher);return{schedules:(null==a?void 0:a.results)||[],total:(null==a?void 0:a.count)||0,page:(null==a?void 0:a.page)||1,totalPages:Math.ceil(((null==a?void 0:a.count)||0)/20),isLoading:s,isError:i,mutate:()=>(0,n.j)("/api/v1/scheduler/schedules".concat(t))}}function useGoals(e){let t=e?"?".concat(new URLSearchParams(e).toString()):"",{data:a,error:i,isLoading:s}=(0,r.ZP)("/api/v1/goals".concat(t),fetcher);return{goals:(null==a?void 0:a.results)||[],total:(null==a?void 0:a.count)||0,page:1,totalPages:Math.ceil(((null==a?void 0:a.count)||0)/20),isLoading:s,isError:i,mutate:()=>(0,n.j)("/api/v1/goals".concat(t))}}function useShifts(e){let t=e?"?".concat(new URLSearchParams(e).toString()):"",{data:a,error:i,isLoading:s}=(0,r.ZP)("/api/v1/shifts".concat(t),fetcher);return{shifts:(null==a?void 0:a.results)||[],total:(null==a?void 0:a.count)||0,page:1,totalPages:Math.ceil(((null==a?void 0:a.count)||0)/20),isLoading:s,isError:i,mutate:()=>(0,n.j)("/api/v1/shifts".concat(t))}}function useMyShifts(){let{data:e,error:t,isLoading:a}=(0,r.ZP)("/api/v1/shifts/my_shifts",fetcher);return{shifts:e||[],isLoading:a,isError:t,mutate:()=>(0,n.j)("/api/v1/shifts/my_shifts")}}let useCreateGoal=()=>async e=>{let t=await i.x.createGoal(e);return(0,n.j)("/api/v1/goals"),t},useUpdateGoal=()=>async(e,t)=>{let a=await i.x.updateGoal(e,t);return(0,n.j)("/api/v1/goals"),(0,n.j)("/api/v1/goals/".concat(e)),a};function useTavongaBehaviorAnalytics(e){let t=e?"?".concat(new URLSearchParams(e).toString()):"",{data:a,error:i,isLoading:s}=(0,r.ZP)("/api/v1/behaviors/temporal_patterns".concat(t),fetcher);return{temporalPatterns:a,isLoading:s,isError:i,mutate:()=>(0,n.j)("/api/v1/behaviors/temporal_patterns".concat(t))}}function useTriggerAnalysis(e){let t=e?"?".concat(new URLSearchParams(e).toString()):"",{data:a,error:i,isLoading:s}=(0,r.ZP)("/api/v1/behaviors/trigger_analysis".concat(t),fetcher);return{triggerAnalysis:a,isLoading:s,isError:i,mutate:()=>(0,n.j)("/api/v1/behaviors/trigger_analysis".concat(t))}}function useInterventionAnalysis(e){let t=e?"?".concat(new URLSearchParams(e).toString()):"",{data:a,error:i,isLoading:s}=(0,r.ZP)("/api/v1/behaviors/intervention_effectiveness".concat(t),fetcher);return{interventionAnalysis:a,isLoading:s,isError:i,mutate:()=>(0,n.j)("/api/v1/behaviors/intervention_effectiveness".concat(t))}}function useWorkerAnalysis(e){let t=e?"?".concat(new URLSearchParams(e).toString()):"",{data:a,error:i,isLoading:s}=(0,r.ZP)("/api/v1/behaviors/worker_analysis".concat(t),fetcher);return{workerAnalysis:a,isLoading:s,isError:i,mutate:()=>(0,n.j)("/api/v1/behaviors/worker_analysis".concat(t))}}function usePredictiveIndicators(e){let t=e?"?".concat(new URLSearchParams(e).toString()):"",{data:a,error:i,isLoading:s}=(0,r.ZP)("/api/v1/behaviors/predictive_indicators".concat(t),fetcher);return{predictiveIndicators:a,isLoading:s,isError:i,mutate:()=>(0,n.j)("/api/v1/behaviors/predictive_indicators".concat(t))}}function useCurrentBehaviorTrends(e){let t=e?"?".concat(new URLSearchParams(e).toString()):"",{data:a,error:i,isLoading:s}=(0,r.ZP)("/api/v1/behaviors/current_trends".concat(t),fetcher,{refreshInterval:3e4});return{currentTrends:a,isLoading:s,isError:i,mutate:()=>(0,n.j)("/api/v1/behaviors/current_trends".concat(t))}}function useGoalAnalytics(e){let t=e?"?".concat(new URLSearchParams(e).toString()):"",{data:a,error:i,isLoading:s}=(0,r.ZP)("/api/v1/goals/analytics".concat(t),fetcher);return{goalAnalytics:a,isLoading:s,isError:i,mutate:()=>(0,n.j)("/api/v1/goals/analytics".concat(t))}}function useTavongaActivityAnalytics(e){let t=e?"?".concat(new URLSearchParams(e).toString()):"",{data:a,error:i,isLoading:s}=(0,r.ZP)("/api/v1/activities/logs/analytics".concat(t),fetcher);return{activityAnalytics:a,isLoading:s,isError:i,mutate:()=>(0,n.j)("/api/v1/activities/logs/analytics".concat(t))}}function useMasteryTracking(e){let t=e?"?".concat(new URLSearchParams(e).toString()):"",{data:a,error:i,isLoading:s}=(0,r.ZP)("/api/v1/activities/logs/mastery_tracking".concat(t),fetcher);return{masteryTracking:a,isLoading:s,isError:i,mutate:()=>(0,n.j)("/api/v1/activities/logs/mastery_tracking".concat(t))}}function usePrimaryClient(){let e="d21bc38c-7ab1-42cb-9c7f-dabd45f129d9",{data:t,error:a,isLoading:i}=(0,r.ZP)("/api/v1/clients/".concat(e,"/?v=2"),fetcher),{data:s}=(0,r.ZP)(e?"/api/v1/clients/".concat(e,"/contacts/?v=2"):null,fetcher),{data:c}=(0,r.ZP)(e?"/api/v1/clients/".concat(e,"/emergency_contacts/?v=2"):null,fetcher);return{client:t,contacts:s||[],emergencyContacts:c||[],isLoading:i,isError:a,mutate:()=>{(0,n.j)("/api/v1/clients/".concat(e,"/?v=2")),(0,n.j)("/api/v1/clients/".concat(e,"/contacts/?v=2")),(0,n.j)("/api/v1/clients/".concat(e,"/emergency_contacts/?v=2"))}}}},1628:function(e,t,a){a.d(t,{cn:function(){return cn},mr:function(){return formatTime},p6:function(){return formatDate}});var r=a(7042),n=a(4769);function cn(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,r.W)(t))}function formatDate(e){let t=new Date(e);return t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function formatTime(e){return new Date("2000-01-01T".concat(e)).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}}}]);