(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[109],{2894:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});var a=t(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},3008:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});var a=t(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9036:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});var a=t(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},2369:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});var a=t(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])},8705:function(e,s,t){Promise.resolve().then(t.bind(t,9176))},9176:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return TavongaAnalyticsPage}});var a=t(7437),i=t(2265),l=t(1617),r=t(8230),n=t(6141),c=t(8203),d=t(998),o=t(6654),x=t(2369),m=t(9036),v=t(2431),u=t(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,u.Z)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var p=t(3008);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,u.Z)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);var j=t(2457),b=t(5750),y=t(272),f=t(2894),N=t(105),_=t(1628),w=t(6527),k=t(8823);let BehaviorStatsCard=e=>{let{title:s,value:t,icon:i,trend:l,severity:r,color:n="blue"}=e;return(0,a.jsx)("div",{className:"card p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm text-text-secondary mb-1",children:s}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-text-primary",children:t}),l&&(0,a.jsx)("p",{className:"text-sm mt-1 text-text-secondary",children:l}),r&&(0,a.jsxs)("p",{className:(0,_.cn)("text-xs mt-1 font-medium",{low:"text-green-600",medium:"text-yellow-600",high:"text-orange-600",critical:"text-red-600"}[r]),children:[r.toUpperCase()," SEVERITY"]})]}),(0,a.jsx)("div",{className:(0,_.cn)("p-3 rounded-full",{blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",red:"bg-red-50 text-red-600",yellow:"bg-yellow-50 text-yellow-600",purple:"bg-purple-50 text-purple-600",orange:"bg-orange-50 text-orange-600"}[n]),children:(0,a.jsx)(i,{className:"w-6 h-6"})})]})})},HourlyBehaviorHeatmap=e=>{var s;let{temporalData:t}=e;if(!(null==t?void 0:null===(s=t.temporal_patterns)||void 0===s?void 0:s.hourly))return(0,a.jsx)("div",{children:"Loading..."});let i=t.temporal_patterns.hourly,l=Math.max(...i.map(e=>e.count));return(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title",children:"Hourly Behavior Patterns"}),(0,a.jsx)(n.Z,{className:"w-5 h-5 text-nav-icon"})]}),(0,a.jsx)("div",{className:"grid grid-cols-12 gap-1",children:i.map(e=>{let s=l>0?e.count/l:0;return(0,a.jsx)("div",{className:(0,_.cn)("aspect-square rounded-sm flex items-center justify-center text-xs font-medium text-white bg-red-500",s>.8?"opacity-100":s>.6?"opacity-80":s>.4?"opacity-60":s>.2?"opacity-40":"opacity-20"),title:"".concat(e.hour,":00 - ").concat(e.count," behaviors (").concat(e.percentage,"%)"),children:e.hour},e.hour)})}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-4 text-xs text-text-secondary",children:[(0,a.jsx)("span",{children:"12 AM"}),(0,a.jsx)("span",{children:"Peak behavior times highlighted"}),(0,a.jsx)("span",{children:"11 PM"})]})]})},WeeklyPatternsChart=e=>{var s;let{temporalData:t}=e;if(!(null==t?void 0:null===(s=t.temporal_patterns)||void 0===s?void 0:s.daily))return(0,a.jsx)("div",{children:"Loading..."});let i=t.temporal_patterns.daily,l={labels:i.map(e=>e.day_name),datasets:[{label:"Behavior Count",data:i.map(e=>e.count),backgroundColor:i.map(e=>e.count>5?"#EF4444":e.count>2?"#F59E0B":"#10B981"),borderWidth:0,borderRadius:4}]};return(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title",children:"Weekly Behavior Patterns"}),(0,a.jsx)(c.Z,{className:"w-5 h-5 text-nav-icon"})]}),(0,a.jsx)("div",{className:"h-64",children:(0,a.jsx)(N.$Q,{data:l,options:{...w.q_,plugins:{...w.q_.plugins,legend:{display:!1}}}})})]})},TriggerAnalysisSection=e=>{var s,t,i,l,r;let{triggerData:n}=e;if(!n)return(0,a.jsx)("div",{children:"Loading trigger analysis..."});let c={labels:(null===(s=n.activity_triggers)||void 0===s?void 0:s.slice(0,8).map(e=>e.related_activity__name))||[],datasets:[{label:"Incidents",data:(null===(t=n.activity_triggers)||void 0===t?void 0:t.slice(0,8).map(e=>e.count))||[],backgroundColor:"#FF6B6B",borderColor:"#E53E3E",borderWidth:2}]},m={labels:(null===(i=n.location_triggers)||void 0===i?void 0:i.map(e=>e.location))||[],datasets:[{data:(null===(l=n.location_triggers)||void 0===l?void 0:l.map(e=>e.count))||[],backgroundColor:["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7"],borderWidth:0}]};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title",children:"Activity Triggers"}),(0,a.jsx)(d.Z,{className:"w-5 h-5 text-nav-icon"})]}),(0,a.jsx)("div",{className:"h-64",children:(0,a.jsx)(N.$Q,{data:c,options:{...w.q_,plugins:{...w.q_.plugins,legend:{display:!1}},indexAxis:"y"}})})]}),(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title",children:"Location Patterns"}),(0,a.jsx)(o.Z,{className:"w-5 h-5 text-nav-icon"})]}),(0,a.jsx)("div",{className:"h-64",children:(0,a.jsx)(N.$I,{data:m,options:{...w.q_,plugins:{...w.q_.plugins,legend:{...w.q_.plugins.legend,position:"bottom"}},cutout:"60%"}})})]})]}),(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title",children:"Most Common Triggers"}),(0,a.jsx)(x.Z,{className:"w-5 h-5 text-nav-icon"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:null===(r=n.identified_triggers)||void 0===r?void 0:r.slice(0,9).map((e,s)=>{let[t,i]=e;return(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-red-800",children:t}),(0,a.jsxs)("span",{className:"text-xs bg-red-100 text-red-600 px-2 py-1 rounded-full",children:[i,"x"]})]})},s)})})]})]})},InterventionEffectivenessSection=e=>{var s,t,i,l,r,n;let{interventionData:c}=e;if(!c)return(0,a.jsx)("div",{children:"Loading intervention analysis..."});let d={labels:(null===(s=c.intervention_types)||void 0===s?void 0:s.map(e=>e.intervention_used))||[],datasets:[{label:"Success Rate (%)",data:(null===(t=c.intervention_types)||void 0===t?void 0:t.map(e=>(100*e.success_rate).toFixed(1)))||[],backgroundColor:(null===(i=c.intervention_types)||void 0===i?void 0:i.map(e=>e.success_rate>.8?"#10B981":e.success_rate>.6?"#F59E0B":"#EF4444"))||[],borderWidth:0,borderRadius:4}]},o={labels:(null===(l=c.worker_success_rates)||void 0===l?void 0:l.map(e=>"".concat(e.user__first_name," ").concat(e.user__last_name)))||[],datasets:[{label:"Success Rate (%)",data:(null===(r=c.worker_success_rates)||void 0===r?void 0:r.map(e=>(100*e.success_rate).toFixed(1)))||[],backgroundColor:"#4ECDC4",borderColor:"#3DB9B2",borderWidth:2,borderRadius:4}]};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title",children:"Intervention Success Rates"}),(0,a.jsx)(m.Z,{className:"w-5 h-5 text-nav-icon"})]}),(0,a.jsx)("div",{className:"h-64",children:(0,a.jsx)(N.$Q,{data:d,options:{...w.q_,plugins:{...w.q_.plugins,legend:{display:!1}},scales:{...w.q_.scales,y:{...w.q_.scales.y,beginAtZero:!0,max:100,ticks:{...w.q_.scales.y.ticks,callback:function(e){return e+"%"}}}}}})})]}),(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title",children:"Worker Effectiveness"}),(0,a.jsx)(v.Z,{className:"w-5 h-5 text-nav-icon"})]}),(0,a.jsx)("div",{className:"h-64",children:(0,a.jsx)(N.$Q,{data:o,options:{...w.q_,plugins:{...w.q_.plugins,legend:{display:!1}},scales:{...w.q_.scales,y:{...w.q_.scales.y,beginAtZero:!0,max:100,ticks:{...w.q_.scales.y.ticks,callback:function(e){return e+"%"}}}}}})})]})]}),(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title",children:"Best Practices"}),(0,a.jsx)(h,{className:"w-5 h-5 text-nav-icon"})]}),(0,a.jsx)("div",{className:"space-y-3",children:null===(n=c.best_practices)||void 0===n?void 0:n.slice(0,5).map((e,s)=>(0,a.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(p.Z,{className:"w-5 h-5 text-green-500 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-green-800",children:e.intervention_used}),(0,a.jsx)("p",{className:"text-sm text-green-700 mt-1",children:e.intervention_notes}),(0,a.jsxs)("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded-full mt-2 inline-block",children:["Used ",e.usage_count," times successfully"]})]})]})},s))})]})]})},GoalsActivitiesSection=e=>{var s,t,i,l,r;let{goalData:n,activityData:c,masteryData:x}=e;if(!n||!c)return(0,a.jsx)("div",{children:"Loading goals & activities analysis..."});let m={labels:(null===(s=n.successful_goals)||void 0===s?void 0:s.map(e=>e.name))||[],datasets:[{label:"Progress %",data:(null===(t=n.successful_goals)||void 0===t?void 0:t.map(e=>e.progress_percentage))||[],backgroundColor:"#10B981",borderColor:"#059669",borderWidth:2,borderRadius:4}]},v={labels:(null===(i=c.category_performance)||void 0===i?void 0:i.map(e=>e.activity__category))||[],datasets:[{label:"Completion Rate %",data:(null===(l=c.category_performance)||void 0===l?void 0:l.map(e=>(100*e.completion_rate).toFixed(1)))||[],backgroundColor:"#4F46E5",borderColor:"#4338CA",borderWidth:2,borderRadius:4}]};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title",children:"Goal Progress"}),(0,a.jsx)(o.Z,{className:"w-5 h-5 text-nav-icon"})]}),(0,a.jsx)("div",{className:"h-64",children:(0,a.jsx)(N.$Q,{data:m,options:{...w.q_,plugins:{...w.q_.plugins,legend:{display:!1}},scales:{...w.q_.scales,y:{...w.q_.scales.y,beginAtZero:!0,max:100,ticks:{...w.q_.scales.y.ticks,callback:function(e){return e+"%"}}}}}})})]}),(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title",children:"Activity Category Performance"}),(0,a.jsx)(d.Z,{className:"w-5 h-5 text-nav-icon"})]}),(0,a.jsx)("div",{className:"h-64",children:(0,a.jsx)(N.$Q,{data:v,options:{...w.q_,plugins:{...w.q_.plugins,legend:{display:!1}},scales:{...w.q_.scales,y:{...w.q_.scales.y,beginAtZero:!0,max:100,ticks:{...w.q_.scales.y.ticks,callback:function(e){return e+"%"}}}}}})})]})]}),x&&(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title",children:"Skill Mastery Progress"}),(0,a.jsx)(g,{className:"w-5 h-5 text-nav-icon"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:null===(r=x.mastery_analysis)||void 0===r?void 0:r.slice(0,6).map((e,s)=>(0,a.jsxs)("div",{className:(0,_.cn)("border rounded-lg p-4","advanced"===e.mastery_level?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h4",{className:"font-medium text-sm",children:e.activity_name}),(0,a.jsx)("span",{className:(0,_.cn)("text-xs px-2 py-1 rounded-full font-medium","advanced"===e.mastery_level?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"),children:e.mastery_level})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-600 space-y-1",children:[(0,a.jsxs)("div",{children:["Completions: ",e.total_completions]}),e.difficulty_improvement>0&&(0,a.jsxs)("div",{className:"text-green-600",children:["Difficulty ↓ ",e.difficulty_improvement.toFixed(1)]}),e.satisfaction_improvement>0&&(0,a.jsxs)("div",{className:"text-blue-600",children:["Satisfaction ↑ ",e.satisfaction_improvement.toFixed(1)]})]})]},s))})]})]})};function TavongaAnalyticsPage(){var e,s,t,c,d;let[v,u]=(0,i.useState)("30"),[p,g]=(0,i.useState)("all"),[N,w]=(0,i.useState)("overview"),{temporalPatterns:C,isLoading:Z}=(0,k.Ad)({days:v,worker:"all"===p?void 0:p}),{triggerAnalysis:q,isLoading:E}=(0,k.lM)({days:v,worker:"all"===p?void 0:p}),{interventionAnalysis:B,isLoading:A}=(0,k.JX)({days:v,worker:"all"===p?void 0:p}),{workerAnalysis:D,isLoading:S}=(0,k.QK)({days:v}),{predictiveIndicators:F,isLoading:L}=(0,k.Ev)({days:v}),{goalAnalytics:M,isLoading:P}=(0,k.sN)(),{activityAnalytics:W,isLoading:R}=(0,k.C2)(),{masteryTracking:T,isLoading:H}=(0,k.Og)(),I=[{id:"overview",label:"Overview",icon:j.Z},{id:"temporal",label:"Time Patterns",icon:n.Z},{id:"triggers",label:"Triggers",icon:x.Z},{id:"interventions",label:"Interventions",icon:m.Z},{id:"workers",label:"Support Workers",icon:b.Z},{id:"goals",label:"Goals & Activities",icon:o.Z},{id:"predictive",label:"Insights",icon:h}];return(0,a.jsx)(l.Z,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(r.Z,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Tavonga Analytics"}]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"Tavonga's Behavioral Analytics"}),(0,a.jsx)("p",{className:"text-text-secondary",children:"Comprehensive insights into behavior patterns, triggers, and interventions"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("select",{value:v,onChange:e=>u(e.target.value),className:"input-field w-32",children:[(0,a.jsx)("option",{value:"7",children:"Last 7 days"}),(0,a.jsx)("option",{value:"30",children:"Last 30 days"}),(0,a.jsx)("option",{value:"90",children:"Last 90 days"}),(0,a.jsx)("option",{value:"365",children:"Last year"})]}),(0,a.jsxs)("select",{value:p,onChange:e=>g(e.target.value),className:"input-field w-40",children:[(0,a.jsx)("option",{value:"all",children:"All Workers"}),(0,a.jsx)("option",{value:"1",children:"Sarah Johnson"}),(0,a.jsx)("option",{value:"2",children:"Michael Chen"}),(0,a.jsx)("option",{value:"3",children:"Emma Davis"})]})]})]}),(0,a.jsx)("div",{className:"border-b border-border-default",children:(0,a.jsx)("nav",{className:"flex space-x-8 overflow-x-auto",children:I.map(e=>(0,a.jsxs)("button",{onClick:()=>w(e.id),className:(0,_.cn)("flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap",N===e.id?"border-brand-primary text-brand-primary":"border-transparent text-text-secondary hover:text-text-primary hover:border-border-default"),children:[(0,a.jsx)(e.icon,{className:"w-4 h-4"}),e.label]},e.id))})}),"overview"===N&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)(BehaviorStatsCard,{title:"Total Behaviors",value:(null==C?void 0:null===(e=C.duration_stats)||void 0===e?void 0:e.total_behaviors)||0,icon:y.Z,trend:"Last 30 days",color:"red"}),(0,a.jsx)(BehaviorStatsCard,{title:"Avg Duration",value:"".concat((null==C?void 0:null===(t=C.duration_stats)||void 0===t?void 0:null===(s=t.avg_duration)||void 0===s?void 0:s.toFixed(1))||0," min"),icon:n.Z,trend:"Per incident",color:"orange"}),(0,a.jsx)(BehaviorStatsCard,{title:"Success Rate",value:"".concat((null==B?void 0:B.overall_success_rate)||0,"%"),icon:m.Z,trend:"Interventions",color:"green"}),(0,a.jsx)(BehaviorStatsCard,{title:"Goal Progress",value:"".concat((null==M?void 0:M.completion_rate)||0,"%"),icon:o.Z,trend:"Overall completion",color:"blue"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsx)(HourlyBehaviorHeatmap,{temporalData:C}),(0,a.jsx)(WeeklyPatternsChart,{temporalData:C})]})]}),"temporal"===N&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(HourlyBehaviorHeatmap,{temporalData:C}),(0,a.jsx)(WeeklyPatternsChart,{temporalData:C})]}),"triggers"===N&&(0,a.jsx)(TriggerAnalysisSection,{triggerData:q}),"interventions"===N&&(0,a.jsx)(InterventionEffectivenessSection,{interventionData:B}),"workers"===N&&(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title",children:"Support Worker Analysis"}),(0,a.jsx)(b.Z,{className:"w-5 h-5 text-nav-icon"})]}),S?(0,a.jsx)("p",{className:"text-text-secondary",children:"Loading worker analysis..."}):(0,a.jsx)("div",{className:"space-y-4",children:null==D?void 0:null===(c=D.worker_performance)||void 0===c?void 0:c.map((e,s)=>(0,a.jsx)("div",{className:"border rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h4",{className:"font-medium",children:[e.user__first_name," ",e.user__last_name]}),(0,a.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,a.jsxs)("span",{children:["Incidents: ",e.total_incidents]}),(0,a.jsxs)("span",{children:["Success Rate: ",(100*e.intervention_success_rate).toFixed(1),"%"]})]})]})},s))})]}),"goals"===N&&(0,a.jsx)(GoalsActivitiesSection,{goalData:M,activityData:W,masteryData:T}),"predictive"===N&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title",children:"Early Warning Signs"}),(0,a.jsx)(f.Z,{className:"w-5 h-5 text-nav-icon"})]}),L?(0,a.jsx)("p",{className:"text-text-secondary",children:"Loading predictive analysis..."}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:null==F?void 0:null===(d=F.warning_signs)||void 0===d?void 0:d.slice(0,8).map((e,s)=>{let[t,i]=e;return(0,a.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"font-medium text-yellow-800",children:t}),(0,a.jsxs)("span",{className:"text-xs bg-yellow-100 text-yellow-600 px-2 py-1 rounded-full",children:[i.escalation_rate.toFixed(1),"% escalation"]})]}),(0,a.jsxs)("div",{className:"text-sm text-yellow-700",children:[i.total_occurrences," occurrences, ",i.escalated_occurrences," escalated"]})]},s)})})]})})]})})}},6527:function(e,s,t){"use strict";t.d(s,{q_:function(){return i}});var a=t(6704);a.kL.register(a.uw,a.f$,a.od,a.jn,a.ZL,a.qi,a.Dx,a.u,a.De,a.Gu);let i={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#000000",font:{size:12}}},tooltip:{backgroundColor:"#FFFFFF",titleColor:"#000000",bodyColor:"#6D6D6D",borderColor:"#E0E0E0",borderWidth:1,cornerRadius:8,displayColors:!0}},scales:{x:{grid:{color:"#E5E5E5",drawBorder:!1},ticks:{color:"#6D6D6D",font:{size:11}}},y:{grid:{color:"#E5E5E5",drawBorder:!1},ticks:{color:"#6D6D6D",font:{size:11}}}}}}},function(e){e.O(0,[674,186,607,462,149,180,390,971,472,744],function(){return e(e.s=8705)}),_N_E=e.O()}]);