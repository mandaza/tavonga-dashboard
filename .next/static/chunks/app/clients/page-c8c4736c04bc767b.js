(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[849],{1981:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3523:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},9670:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2482:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},7810:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},6264:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9617:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},2741:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},9883:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6245:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},1827:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},5367:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2549:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1853:function(e,t,s){Promise.resolve().then(s.bind(s,9495))},9495:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ClientsPage}});var a=s(7437),l=s(2265),i=s(1617),r=s(8230),n=s(6264),c=s(9883),d=s(1827),m=s(2482),o=s(3523),x=s(2549),h=s(2431),u=s(7972),p=s(8203),b=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,b.Z)("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);var f=s(2741),j=s(5750),v=s(9670),N=s(9617),y=s(5367),_=s(7810),k=s(272),C=s(1981),w=s(1628),Z=s(3415),S=s(2180),M=s(5925),I=s(6245);function AddClientModal(e){let{isOpen:t,onClose:s,onClientAdded:i}=e,[r,c]=(0,l.useState)("basic"),[d,m]=(0,l.useState)(!1),[o,h]=(0,l.useState)({}),[p,b]=(0,l.useState)({first_name:"",middle_name:"",last_name:"",preferred_name:"",date_of_birth:"",gender:"prefer_not_to_say",address:"",phone:"",email:"",diagnosis:"",secondary_diagnoses:"",allergies:"",medications:"",medical_notes:"",care_level:"medium",interests:"",likes:"",dislikes:"",communication_preferences:"",behavioral_triggers:"",calming_strategies:"",notes:"",client_id:""}),handleInputChange=(e,t)=>{b(s=>({...s,[e]:t})),o[e]&&h(t=>({...t,[e]:""}))},validateForm=()=>{let e={};return p.first_name.trim()||(e.first_name="First name is required"),p.last_name.trim()||(e.last_name="Last name is required"),p.date_of_birth||(e.date_of_birth="Date of birth is required"),p.diagnosis.trim()||(e.diagnosis="Primary diagnosis is required"),p.client_id.trim()||(e.client_id="Client ID is required"),h(e),0===Object.keys(e).length},handleSubmit=async e=>{if(e.preventDefault(),validateForm()){m(!0);try{let e={...p,behavioral_triggers:p.behavioral_triggers?p.behavioral_triggers.split(",").map(e=>e.trim()).filter(e=>e):[],calming_strategies:p.calming_strategies?p.calming_strategies.split(",").map(e=>e.trim()).filter(e=>e):[]},t=await Z.x.createClient(e);i(t),M.default.success("Client created successfully!"),handleClose()}catch(e){M.default.error(e.message||"Failed to create client")}finally{m(!1)}}},handleClose=()=>{b({first_name:"",middle_name:"",last_name:"",preferred_name:"",date_of_birth:"",gender:"prefer_not_to_say",address:"",phone:"",email:"",diagnosis:"",secondary_diagnoses:"",allergies:"",medications:"",medical_notes:"",care_level:"medium",interests:"",likes:"",dislikes:"",communication_preferences:"",behavioral_triggers:"",calming_strategies:"",notes:"",client_id:""}),h({}),c("basic"),s()},f=[{id:"basic",label:"Basic Info",icon:u.Z},{id:"medical",label:"Medical",icon:g},{id:"personal",label:"Personal",icon:_.Z},{id:"behavioral",label:"Behavioral",icon:k.Z}];return t?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsx)("div",{className:"card max-w-4xl w-full max-h-[90vh] overflow-hidden",children:(0,a.jsxs)("form",{onSubmit:handleSubmit,className:"h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-card-border",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-card-title",children:"Add New Client"}),(0,a.jsx)("button",{type:"button",onClick:handleClose,className:"p-2 hover:bg-bg-highlight rounded-lg transition-colors",children:(0,a.jsx)(x.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"flex items-center gap-1 bg-bg-highlight p-1 m-6 mb-0 rounded-lg",children:f.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>c(e.id),className:(0,w.cn)("flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors flex-1 justify-center",r===e.id?"bg-bg-primary text-text-primary shadow-sm":"text-text-secondary hover:text-text-primary"),children:[(0,a.jsx)(e.icon,{className:"w-4 h-4"}),e.label]},e.id))}),(0,a.jsxs)("div",{className:"flex-1 overflow-auto p-6",children:["basic"===r&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"First Name *"}),(0,a.jsx)("input",{type:"text",value:p.first_name,onChange:e=>handleInputChange("first_name",e.target.value),className:(0,w.cn)("input-field",o.first_name&&"border-red-500"),placeholder:"Enter first name",disabled:d}),o.first_name&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:o.first_name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Last Name *"}),(0,a.jsx)("input",{type:"text",value:p.last_name,onChange:e=>handleInputChange("last_name",e.target.value),className:(0,w.cn)("input-field",o.last_name&&"border-red-500"),placeholder:"Enter last name",disabled:d}),o.last_name&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:o.last_name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Middle Name"}),(0,a.jsx)("input",{type:"text",value:p.middle_name,onChange:e=>handleInputChange("middle_name",e.target.value),className:"input-field",placeholder:"Enter middle name (optional)",disabled:d})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Preferred Name"}),(0,a.jsx)("input",{type:"text",value:p.preferred_name,onChange:e=>handleInputChange("preferred_name",e.target.value),className:"input-field",placeholder:"What they like to be called",disabled:d})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Client ID *"}),(0,a.jsx)("input",{type:"text",value:p.client_id,onChange:e=>handleInputChange("client_id",e.target.value),className:(0,w.cn)("input-field",o.client_id&&"border-red-500"),placeholder:"e.g. CLI-TV-001",disabled:d}),o.client_id&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:o.client_id})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Date of Birth *"}),(0,a.jsx)("input",{type:"date",value:p.date_of_birth,onChange:e=>handleInputChange("date_of_birth",e.target.value),className:(0,w.cn)("input-field",o.date_of_birth&&"border-red-500"),disabled:d}),o.date_of_birth&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:o.date_of_birth})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Gender"}),(0,a.jsxs)("select",{value:p.gender,onChange:e=>handleInputChange("gender",e.target.value),className:"input-field",disabled:d,children:[(0,a.jsx)("option",{value:"male",children:"Male"}),(0,a.jsx)("option",{value:"female",children:"Female"}),(0,a.jsx)("option",{value:"other",children:"Other"}),(0,a.jsx)("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Care Level"}),(0,a.jsxs)("select",{value:p.care_level,onChange:e=>handleInputChange("care_level",e.target.value),className:"input-field",disabled:d,children:[(0,a.jsx)("option",{value:"low",children:"Low Support"}),(0,a.jsx)("option",{value:"medium",children:"Medium Support"}),(0,a.jsx)("option",{value:"high",children:"High Support"}),(0,a.jsx)("option",{value:"critical",children:"Critical Support"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Phone"}),(0,a.jsx)("input",{type:"tel",value:p.phone,onChange:e=>handleInputChange("phone",e.target.value),className:"input-field",placeholder:"Enter phone number",disabled:d})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Email"}),(0,a.jsx)("input",{type:"email",value:p.email,onChange:e=>handleInputChange("email",e.target.value),className:"input-field",placeholder:"Enter email address",disabled:d})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Address"}),(0,a.jsx)("textarea",{value:p.address,onChange:e=>handleInputChange("address",e.target.value),className:"input-field",rows:3,placeholder:"Enter address",disabled:d})]})]}),"medical"===r&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Primary Diagnosis *"}),(0,a.jsx)("textarea",{value:p.diagnosis,onChange:e=>handleInputChange("diagnosis",e.target.value),className:(0,w.cn)("input-field",o.diagnosis&&"border-red-500"),rows:3,placeholder:"Enter primary diagnosis and conditions",disabled:d}),o.diagnosis&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:o.diagnosis})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Secondary Diagnoses"}),(0,a.jsx)("textarea",{value:p.secondary_diagnoses,onChange:e=>handleInputChange("secondary_diagnoses",e.target.value),className:"input-field",rows:3,placeholder:"Additional diagnoses or conditions",disabled:d})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Allergies"}),(0,a.jsx)("textarea",{value:p.allergies,onChange:e=>handleInputChange("allergies",e.target.value),className:"input-field",rows:3,placeholder:"Known allergies and reactions",disabled:d})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Current Medications"}),(0,a.jsx)("textarea",{value:p.medications,onChange:e=>handleInputChange("medications",e.target.value),className:"input-field",rows:3,placeholder:"Current medications and dosages",disabled:d})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Medical Notes"}),(0,a.jsx)("textarea",{value:p.medical_notes,onChange:e=>handleInputChange("medical_notes",e.target.value),className:"input-field",rows:3,placeholder:"Additional medical information",disabled:d})]})]}),"personal"===r&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Interests & Hobbies"}),(0,a.jsx)("textarea",{value:p.interests,onChange:e=>handleInputChange("interests",e.target.value),className:"input-field",rows:3,placeholder:"Client's interests and hobbies",disabled:d})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Likes"}),(0,a.jsx)("textarea",{value:p.likes,onChange:e=>handleInputChange("likes",e.target.value),className:"input-field",rows:3,placeholder:"Things the client enjoys",disabled:d})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Dislikes"}),(0,a.jsx)("textarea",{value:p.dislikes,onChange:e=>handleInputChange("dislikes",e.target.value),className:"input-field",rows:3,placeholder:"Things the client dislikes or finds distressing",disabled:d})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Communication Preferences"}),(0,a.jsx)("textarea",{value:p.communication_preferences,onChange:e=>handleInputChange("communication_preferences",e.target.value),className:"input-field",rows:3,placeholder:"How the client prefers to communicate",disabled:d})]})]}),"behavioral"===r&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Behavioral Triggers"}),(0,a.jsx)("textarea",{value:p.behavioral_triggers,onChange:e=>handleInputChange("behavioral_triggers",e.target.value),className:"input-field",rows:3,placeholder:"Enter triggers separated by commas",disabled:d}),(0,a.jsx)("p",{className:"text-xs text-text-muted mt-1",children:"Separate multiple triggers with commas (e.g. loud noises, crowds, bright lights)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Calming Strategies"}),(0,a.jsx)("textarea",{value:p.calming_strategies,onChange:e=>handleInputChange("calming_strategies",e.target.value),className:"input-field",rows:3,placeholder:"Enter strategies separated by commas",disabled:d}),(0,a.jsx)("p",{className:"text-xs text-text-muted mt-1",children:"Separate multiple strategies with commas (e.g. deep breathing, music, quiet space)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"General Notes"}),(0,a.jsx)("textarea",{value:p.notes,onChange:e=>handleInputChange("notes",e.target.value),className:"input-field",rows:4,placeholder:"Any additional notes about the client",disabled:d})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-card-border",children:[(0,a.jsx)("button",{type:"button",onClick:handleClose,disabled:d,className:"btn-secondary",children:"Cancel"}),(0,a.jsxs)("button",{type:"submit",disabled:d,className:"btn-primary flex items-center gap-2",children:[d?(0,a.jsx)(n.Z,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(I.Z,{className:"w-4 h-4"}),"Create Client"]})]})]})})}):null}function ClientsPage(){let{user:e}=(0,S.useAuth)(),[t,s]=(0,l.useState)([]),[b,I]=(0,l.useState)(!0),[D,A]=(0,l.useState)(""),[E,P]=(0,l.useState)(!1),[L,F]=(0,l.useState)(!1),[T,q]=(0,l.useState)(!1),[z,H]=(0,l.useState)(null),[B,V]=(0,l.useState)(!1),[U,G]=(0,l.useState)(1),[O,W]=(0,l.useState)(1),[Y,K]=(0,l.useState)(0),[R,X]=(0,l.useState)({search:"",care_level:"",is_active:"true",primary_support_worker:""}),[J,Q]=(0,l.useState)(!1);(0,l.useEffect)(()=>{fetchClients()},[U,R]);let fetchClients=async()=>{try{I(!0);let e={page:U,page_size:12};R.search&&(e.search=R.search),R.care_level&&(e.care_level=R.care_level),R.is_active&&(e.is_active=R.is_active),R.primary_support_worker&&(e.primary_support_worker=R.primary_support_worker);let t=await Z.x.getClients(e);s(t.results||[]),W(Math.ceil((t.count||0)/12)),K(t.count||0)}catch(e){M.default.error(e.message||"Failed to fetch clients")}finally{I(!1)}},handleSearch=e=>{A(e),X(t=>({...t,search:e})),G(1)},handleFilterChange=(e,t)=>{X(s=>({...s,[e]:t})),G(1)},handleViewClient=e=>{H(e),F(!0)},handleEditClient=e=>{H(e),(0,M.default)("Edit functionality would open here")},handleDeleteClient=e=>{H(e),q(!0)},confirmDelete=async()=>{if(z){V(!0);try{await Z.x.deleteClient(z.id),s(e=>e.filter(e=>e.id!==z.id)),q(!1),H(null),M.default.success("Client deleted successfully")}catch(e){M.default.error(e.message||"Failed to delete client")}finally{V(!1)}}},getCareLevelColor=e=>{switch(e){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-orange-100 text-orange-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},getAge=e=>{let t=new Date,s=new Date(e),a=t.getFullYear()-s.getFullYear(),l=t.getMonth()-s.getMonth();return(l<0||0===l&&t.getDate()<s.getDate())&&a--,a};return b&&0===t.length?(0,a.jsx)(i.Z,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)(n.Z,{className:"w-8 h-8 animate-spin text-btn-primary"})})}):(0,a.jsx)(i.Z,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(r.Z,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Clients"}]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"Client Management"}),(0,a.jsxs)("p",{className:"text-text-secondary",children:["Manage and view all clients in the system (",Y," total)"]})]}),(0,a.jsxs)("button",{onClick:()=>P(!0),className:"btn-primary flex items-center gap-2",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4"}),"Add New Client"]})]}),(0,a.jsxs)("div",{className:"card p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-text-muted"}),(0,a.jsx)("input",{type:"text",placeholder:"Search clients by name, ID, or diagnosis...",value:D,onChange:e=>handleSearch(e.target.value),className:"input-field pl-10"})]}),(0,a.jsxs)("button",{onClick:()=>Q(!J),className:(0,w.cn)("flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors",J?"bg-btn-primary text-white border-btn-primary":"bg-white text-text-primary border-card-border hover:bg-bg-highlight"),children:[(0,a.jsx)(m.Z,{className:"w-4 h-4"}),"Filters",(0,a.jsx)(o.Z,{className:(0,w.cn)("w-4 h-4 transition-transform",J&&"rotate-180")})]})]}),J&&(0,a.jsxs)("div",{className:"border-t border-card-border pt-4 grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Care Level"}),(0,a.jsxs)("select",{value:R.care_level,onChange:e=>handleFilterChange("care_level",e.target.value),className:"input-field",children:[(0,a.jsx)("option",{value:"",children:"All Levels"}),(0,a.jsx)("option",{value:"low",children:"Low Support"}),(0,a.jsx)("option",{value:"medium",children:"Medium Support"}),(0,a.jsx)("option",{value:"high",children:"High Support"}),(0,a.jsx)("option",{value:"critical",children:"Critical Support"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Status"}),(0,a.jsxs)("select",{value:R.is_active,onChange:e=>handleFilterChange("is_active",e.target.value),className:"input-field",children:[(0,a.jsx)("option",{value:"",children:"All Clients"}),(0,a.jsx)("option",{value:"true",children:"Active"}),(0,a.jsx)("option",{value:"false",children:"Inactive"})]})]}),(0,a.jsx)("div",{className:"md:col-span-2 flex items-end gap-2",children:(0,a.jsxs)("button",{onClick:()=>{X({search:"",care_level:"",is_active:"true",primary_support_worker:""}),A(""),G(1)},className:"btn-secondary flex items-center gap-2",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4"}),"Clear Filters"]})})]})]}),0===t.length?(0,a.jsxs)("div",{className:"card p-12 text-center",children:[(0,a.jsx)(h.Z,{className:"w-16 h-16 text-text-muted mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-text-primary mb-2",children:"No Clients Found"}),(0,a.jsx)("p",{className:"text-text-secondary mb-6",children:R.search||R.care_level?"No clients match your current filters.":"Get started by adding your first client."}),!R.search&&!R.care_level&&(0,a.jsx)("button",{onClick:()=>P(!0),className:"btn-primary",children:"Add First Client"})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(e=>(0,a.jsxs)("div",{className:"card p-6 hover:shadow-lg transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-icon-profile-container rounded-full flex items-center justify-center mr-3",children:e.profile_picture?(0,a.jsx)("img",{src:e.profile_picture,alt:e.first_name,className:"w-12 h-12 rounded-full object-cover"}):(0,a.jsx)(u.Z,{className:"w-6 h-6 text-icon-profile"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-card-title text-sm",children:e.preferred_name||"".concat(e.first_name," ").concat(e.last_name)}),(0,a.jsxs)("p",{className:"text-xs text-card-subtext",children:["ID: ",e.client_id]})]}),(0,a.jsx)("div",{className:(0,w.cn)("w-3 h-3 rounded-full",e.is_active?"bg-text-positive":"bg-text-muted")})]}),(0,a.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-card-subtext",children:[(0,a.jsx)(p.Z,{className:"w-3 h-3"}),"Age ",getAge(e.date_of_birth)]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-card-subtext",children:[(0,a.jsx)(g,{className:"w-3 h-3"}),e.diagnosis.length>30?"".concat(e.diagnosis.substring(0,30),"..."):e.diagnosis]}),e.phone&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-card-subtext",children:[(0,a.jsx)(f.Z,{className:"w-3 h-3"}),e.phone]})]}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("span",{className:(0,w.cn)("inline-block px-2 py-1 rounded-full text-xs font-medium",getCareLevelColor(e.care_level)),children:[e.care_level.charAt(0).toUpperCase()+e.care_level.slice(1)," Support"]})}),e.primary_support_worker&&(0,a.jsxs)("div",{className:"mb-4 p-2 bg-bg-highlight rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,a.jsx)(j.Z,{className:"w-3 h-3 text-text-positive"}),(0,a.jsx)("span",{className:"text-card-subtext",children:"Primary Support:"})]}),(0,a.jsxs)("p",{className:"text-xs font-medium text-card-title mt-1",children:[e.primary_support_worker.first_name," ",e.primary_support_worker.last_name]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{onClick:()=>handleViewClient(e),className:"flex-1 btn-secondary text-xs py-2 flex items-center justify-center gap-1",children:[(0,a.jsx)(v.Z,{className:"w-3 h-3"}),"View"]}),(0,a.jsxs)("button",{onClick:()=>handleEditClient(e),className:"flex-1 btn-primary text-xs py-2 flex items-center justify-center gap-1",children:[(0,a.jsx)(N.Z,{className:"w-3 h-3"}),"Edit"]}),(0,a.jsx)("button",{onClick:()=>handleDeleteClient(e),className:"px-3 py-2 text-text-danger hover:bg-red-50 rounded-lg transition-colors",children:(0,a.jsx)(y.Z,{className:"w-3 h-3"})})]})]},e.id))}),O>1&&(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>G(e=>Math.max(e-1,1)),disabled:1===U,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,a.jsxs)("span",{className:"text-sm text-text-secondary",children:["Page ",U," of ",O]}),(0,a.jsx)("button",{onClick:()=>G(e=>Math.min(e+1,O)),disabled:U===O,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),L&&z&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"card max-w-4xl w-full max-h-[90vh] overflow-auto p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-card-title",children:"Client Details"}),(0,a.jsx)("button",{onClick:()=>F(!1),className:"p-2 hover:bg-bg-highlight rounded-lg transition-colors",children:(0,a.jsx)(x.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-1",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("div",{className:"w-24 h-24 bg-icon-profile-container rounded-full flex items-center justify-center mx-auto mb-4",children:z.profile_picture?(0,a.jsx)("img",{src:z.profile_picture,alt:z.first_name,className:"w-24 h-24 rounded-full object-cover"}):(0,a.jsx)(u.Z,{className:"w-12 h-12 text-icon-profile"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title mb-1",children:z.preferred_name||"".concat(z.first_name," ").concat(z.last_name)}),(0,a.jsxs)("p",{className:"text-card-subtext mb-2",children:["ID: ",z.client_id]}),(0,a.jsxs)("span",{className:(0,w.cn)("inline-block px-3 py-1 rounded-full text-sm font-medium",getCareLevelColor(z.care_level)),children:[z.care_level.charAt(0).toUpperCase()+z.care_level.slice(1)," Support"]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Age"}),(0,a.jsxs)("p",{className:"text-card-subtext",children:[getAge(z.date_of_birth)," years old"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Gender"}),(0,a.jsx)("p",{className:"text-card-subtext capitalize",children:z.gender.replace("_"," ")})]}),z.phone&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Phone"}),(0,a.jsx)("p",{className:"text-card-subtext",children:z.phone})]}),z.email&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Email"}),(0,a.jsx)("p",{className:"text-card-subtext",children:z.email})]}),z.address&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Address"}),(0,a.jsx)("p",{className:"text-card-subtext",children:z.address})]})]})]}),(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-lg font-semibold text-card-title mb-4 flex items-center gap-2",children:[(0,a.jsx)(g,{className:"w-5 h-5"}),"Medical Information"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Primary Diagnosis"}),(0,a.jsx)("p",{className:"text-card-subtext",children:z.diagnosis})]}),z.secondary_diagnoses&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Secondary Diagnoses"}),(0,a.jsx)("p",{className:"text-card-subtext",children:z.secondary_diagnoses})]}),z.allergies&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Allergies"}),(0,a.jsx)("p",{className:"text-card-subtext",children:z.allergies})]}),z.medications&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Medications"}),(0,a.jsx)("p",{className:"text-card-subtext",children:z.medications})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-lg font-semibold text-card-title mb-4 flex items-center gap-2",children:[(0,a.jsx)(_.Z,{className:"w-5 h-5"}),"Personal Information"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[z.interests&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Interests"}),(0,a.jsx)("p",{className:"text-card-subtext",children:z.interests})]}),z.likes&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Likes"}),(0,a.jsx)("p",{className:"text-card-subtext",children:z.likes})]}),z.dislikes&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Dislikes"}),(0,a.jsx)("p",{className:"text-card-subtext",children:z.dislikes})]}),z.communication_preferences&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Communication Preferences"}),(0,a.jsx)("p",{className:"text-card-subtext",children:z.communication_preferences})]})]})]}),(z.behavioral_triggers.length>0||z.calming_strategies.length>0)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-lg font-semibold text-card-title mb-4 flex items-center gap-2",children:[(0,a.jsx)(k.Z,{className:"w-5 h-5"}),"Behavioral Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[z.behavioral_triggers.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-card-title mb-2",children:"Behavioral Triggers"}),(0,a.jsx)("div",{className:"space-y-1",children:z.behavioral_triggers.map((e,t)=>(0,a.jsx)("span",{className:"inline-block bg-red-100 text-red-800 px-2 py-1 rounded-lg text-xs mr-1 mb-1",children:e},t))})]}),z.calming_strategies.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-card-title mb-2",children:"Calming Strategies"}),(0,a.jsx)("div",{className:"space-y-1",children:z.calming_strategies.map((e,t)=>(0,a.jsx)("span",{className:"inline-block bg-green-100 text-green-800 px-2 py-1 rounded-lg text-xs mr-1 mb-1",children:e},t))})]})]})]}),(z.primary_support_worker||z.case_manager||z.support_team.length>0)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-lg font-semibold text-card-title mb-4 flex items-center gap-2",children:[(0,a.jsx)(j.Z,{className:"w-5 h-5"}),"Support Team"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[z.primary_support_worker&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Primary Support Worker"}),(0,a.jsxs)("p",{className:"text-card-subtext",children:[z.primary_support_worker.first_name," ",z.primary_support_worker.last_name]})]}),z.case_manager&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Case Manager"}),(0,a.jsxs)("p",{className:"text-card-subtext",children:[z.case_manager.first_name," ",z.case_manager.last_name]})]}),z.support_team.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-card-title mb-2",children:"Support Team Members"}),(0,a.jsx)("div",{className:"space-y-1",children:z.support_team.map((e,t)=>(0,a.jsxs)("span",{className:"inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded-lg text-xs mr-1 mb-1",children:[e.first_name," ",e.last_name]},t))})]})]})]})]})]})]})}),T&&z&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsx)("div",{className:"card max-w-md w-full p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(C.Z,{className:"w-6 h-6 text-red-600"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title mb-2",children:"Delete Client"}),(0,a.jsxs)("p",{className:"text-card-subtext mb-6",children:["Are you sure you want to delete ",z.preferred_name||"".concat(z.first_name," ").concat(z.last_name),"? This action cannot be undone."]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("button",{onClick:()=>q(!1),disabled:B,className:"flex-1 btn-secondary",children:"Cancel"}),(0,a.jsxs)("button",{onClick:confirmDelete,disabled:B,className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[B?(0,a.jsx)(n.Z,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(y.Z,{className:"w-4 h-4"}),"Delete"]})]})]})})}),(0,a.jsx)(AddClientModal,{isOpen:E,onClose:()=>P(!1),onClientAdded:e=>{s(t=>[e,...t]),K(e=>e+1)}})]})})}},8230:function(e,t,s){"use strict";s.d(t,{Z:function(){return Breadcrumbs}});var a=s(7437),l=s(1396),i=s.n(l),r=s(7480),n=s(7158),c=s(1628);function Breadcrumbs(e){let{items:t,className:s}=e;return(0,a.jsxs)("nav",{className:(0,c.cn)("flex items-center space-x-2 text-sm",s),children:[(0,a.jsx)(i(),{href:"/dashboard",className:"flex items-center text-text-secondary hover:text-text-primary transition-colors",children:(0,a.jsx)(r.Z,{className:"w-4 h-4"})}),t.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(n.Z,{className:"w-4 h-4 text-text-muted"}),e.href?(0,a.jsx)(i(),{href:e.href,className:"text-text-secondary hover:text-text-primary transition-colors",children:e.label}):(0,a.jsx)("span",{className:"text-text-primary font-medium",children:e.label})]},t))]})}},1617:function(e,t,s){"use strict";s.d(t,{Z:function(){return DashboardLayout}});var a=s(7437),l=s(2265),i=s(1396),r=s.n(i),n=s(4033),c=s(1628),d=s(5119),m=s(2457),o=s(8203),x=s(998),h=s(272),u=s(6654),p=s(2431),b=s(5750),g=s(6141),f=s(6637),j=s(9409),v=s(7158),N=s(1291);let y=[{name:"Dashboard",href:"/dashboard",icon:d.Z},{name:"Analytics",href:"/analytics",icon:m.Z},{name:"Scheduler",href:"/scheduler",icon:o.Z},{name:"Activities",href:"/activities",icon:x.Z},{name:"Behaviors",href:"/behaviors",icon:h.Z},{name:"Goals",href:"/goals",icon:u.Z},{name:"Clients",href:"/clients",icon:p.Z},{name:"Users",href:"/users",icon:b.Z},{name:"Shifts",href:"/shifts",icon:g.Z},{name:"Reports",href:"/reports",icon:f.Z},{name:"Settings",href:"/settings",icon:j.Z}];function Sidebar(){let[e,t]=(0,l.useState)(!1),s=(0,n.usePathname)();return(0,a.jsx)("div",{className:(0,c.cn)("bg-nav-bg shadow-nav transition-all duration-300 ease-in-out",e?"w-16":"w-64"),children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-border-default",children:[!e&&(0,a.jsx)("h1",{className:"text-lg font-semibold text-text-primary",children:"Tavonga CareConnect"}),(0,a.jsx)("button",{onClick:()=>t(!e),className:"p-1 rounded-lg hover:bg-bg-highlight transition-colors",children:e?(0,a.jsx)(v.Z,{className:"w-4 h-4 text-nav-icon"}):(0,a.jsx)(N.Z,{className:"w-4 h-4 text-nav-icon"})})]}),(0,a.jsx)("nav",{className:"flex-1 p-4 space-y-2",children:y.map(t=>{let l=s===t.href;return(0,a.jsxs)(r(),{href:t.href,className:(0,c.cn)("sidebar-item",l&&"sidebar-item-active"),children:[(0,a.jsx)(t.icon,{className:(0,c.cn)("w-5 h-5",l?"nav-icon-active":"nav-icon")}),!e&&(0,a.jsx)("span",{className:(0,c.cn)("font-medium",l?"text-text-primary":"text-text-secondary"),children:t.name})]},t.name)})}),!e&&(0,a.jsx)("div",{className:"p-4 border-t border-border-default",children:(0,a.jsx)("div",{className:"text-xs text-text-muted",children:"\xa9 2024 Tavonga CareConnect | Fructox"})})]})})}var _=s(4301),k=s(3021),C=s(7972),w=s(5883),Z=s(2180);function Header(){let[e,t]=(0,l.useState)(!1),{user:s,logout:i}=(0,Z.useAuth)(),n=(0,_.Z)(new Date,"EEEE, MMMM d, yyyy");return(0,a.jsx)("header",{className:"bg-bg-appbar border-b border-border-default px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"text-text-secondary",children:n}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("button",{className:"p-2 rounded-lg hover:bg-bg-highlight transition-colors relative",children:[(0,a.jsx)(k.Z,{className:"w-5 h-5 text-nav-icon"}),(0,a.jsx)("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-text-danger rounded-full"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>t(!e),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-bg-highlight transition-colors",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-icon-profile-container rounded-full flex items-center justify-center",children:(null==s?void 0:s.profile_image)?(0,a.jsx)("img",{src:s.profile_image,alt:s.full_name,className:"w-8 h-8 rounded-full object-cover"}):(0,a.jsx)(C.Z,{className:"w-4 h-4 text-icon-profile"})}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-text-primary",children:(null==s?void 0:s.full_name)||"User"}),(0,a.jsx)("div",{className:"text-xs text-text-secondary",children:(null==s?void 0:s.email)||"user@tavonga.com"})]})]}),e&&(0,a.jsx)("div",{className:"absolute right-0 top-full mt-2 w-48 bg-bg-primary border border-border-default rounded-lg shadow-card z-50",children:(0,a.jsxs)("div",{className:"py-2",children:[(0,a.jsxs)(r(),{href:"/profile",className:"w-full flex items-center gap-3 px-4 py-2 text-left hover:bg-bg-highlight transition-colors",onClick:()=>t(!1),children:[(0,a.jsx)(C.Z,{className:"w-4 h-4 text-nav-icon"}),(0,a.jsx)("span",{className:"text-sm text-text-primary",children:"Profile"})]}),(0,a.jsxs)(r(),{href:"/settings",className:"w-full flex items-center gap-3 px-4 py-2 text-left hover:bg-bg-highlight transition-colors",onClick:()=>t(!1),children:[(0,a.jsx)(j.Z,{className:"w-4 h-4 text-nav-icon"}),(0,a.jsx)("span",{className:"text-sm text-text-primary",children:"Settings"})]}),(0,a.jsxs)("button",{onClick:()=>{i(),t(!1)},className:"w-full flex items-center gap-3 px-4 py-2 text-left hover:bg-bg-highlight transition-colors",children:[(0,a.jsx)(w.Z,{className:"w-4 h-4 text-nav-icon"}),(0,a.jsx)("span",{className:"text-sm text-text-primary",children:"Logout"})]})]})})]})]})]})})}function DashboardLayout(e){let{children:t}=e;return(0,a.jsxs)("div",{className:"flex h-screen bg-bg-primary",children:[(0,a.jsx)(Sidebar,{}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,a.jsx)(Header,{}),(0,a.jsx)("main",{className:"flex-1 overflow-auto p-6",children:t})]})]})}},1628:function(e,t,s){"use strict";s.d(t,{cn:function(){return cn},mr:function(){return formatTime},p6:function(){return formatDate}});var a=s(7042),l=s(4769);function cn(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,l.m6)((0,a.W)(t))}function formatDate(e){let t=new Date(e);return t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function formatTime(e){return new Date("2000-01-01T".concat(e)).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}}},function(e){e.O(0,[186,607,180,971,472,744],function(){return e(e.s=1853)}),_N_E=e.O()}]);