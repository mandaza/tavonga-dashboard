(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{2894:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},3523:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},7810:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},6264:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1295:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},6142:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},9617:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},2741:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},5790:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},3394:function(e,t,s){Promise.resolve().then(s.bind(s,6050))},6050:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return DashboardPage}});var a=s(7437),i=s(1617),l=s(8230),r=s(1396),c=s.n(r),d=s(2457),n=s(5790),x=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,x.Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);var m=s(2894),h=s(998),u=s(6654),v=s(6141),p=s(5750),j=s(105),g=s(1628),N=s(6527),b=s(2180),f=s(8823),y=s(2265),_=s(6264),w=s(7972);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let k=(0,x.Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var Z=s(3523),C=s(8203),A=s(7810),D=s(6142);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let q=(0,x.Z)("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]),M=(0,x.Z)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),L=(0,x.Z)("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);var T=s(2741),F=s(1295),S=s(9617);function ClientProfileCard(e){var t;let{className:s,compact:i=!1}=e,[l,r]=(0,y.useState)(!i),{client:c,contacts:d,emergencyContacts:n,isLoading:x,isError:o}=(0,f.Cm)();if(x)return(0,a.jsx)("div",{className:(0,g.cn)("card p-6",s),children:(0,a.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(_.Z,{className:"w-6 h-6 animate-spin mx-auto mb-2 text-btn-primary"}),(0,a.jsx)("p",{className:"text-sm text-text-secondary",children:"Loading client profile..."})]})})});if(o||!c)return(0,a.jsx)("div",{className:(0,g.cn)("card p-6",s),children:(0,a.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(m.Z,{className:"w-6 h-6 mx-auto mb-2 text-red-500"}),(0,a.jsx)("p",{className:"text-sm text-text-secondary",children:"Unable to load client profile"})]})})});let u=n.find(e=>e.is_primary_contact)||n[0],formatList=e=>e?e.split(",").map(e=>e.trim()).join(", "):"None specified";return(0,a.jsxs)("div",{className:(0,g.cn)("card p-6",s),children:[(0,a.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:c.profile_picture?(0,a.jsx)("img",{src:c.profile_picture,alt:"".concat(c.first_name," ").concat(c.last_name),className:"w-16 h-16 rounded-full object-cover border-2 border-border"}):(0,a.jsx)("div",{className:"w-16 h-16 bg-btn-primary/20 rounded-full flex items-center justify-center",children:(0,a.jsx)(w.Z,{className:"w-8 h-8 text-btn-primary"})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title truncate",children:c.preferred_name||"".concat(c.first_name," ").concat(c.last_name)}),i&&(0,a.jsx)("button",{onClick:()=>r(!l),className:"p-1 hover:bg-hover rounded-lg transition-colors",children:l?(0,a.jsx)(k,{className:"w-4 h-4 text-nav-icon"}):(0,a.jsx)(Z.Z,{className:"w-4 h-4 text-nav-icon"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-text-secondary mb-2",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(C.Z,{className:"w-3 h-3"}),"Age ",(e=>{let t=new Date,s=new Date(e),a=t.getFullYear()-s.getFullYear(),i=t.getMonth()-s.getMonth();return(i<0||0===i&&t.getDate()<s.getDate())&&a--,a})(c.date_of_birth)]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(h.Z,{className:"w-3 h-3"}),null===(t=c.care_level)||void 0===t?void 0:t.replace("_"," ")," support"]})]}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)(A.Z,{className:"w-4 h-4 text-red-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-card-title",children:"Diagnosis"})]}),(0,a.jsx)("p",{className:"text-sm text-text-secondary pl-6",children:c.diagnosis})]})]})]}),l&&(0,a.jsxs)("div",{className:"space-y-4 pt-4 border-t border-border",children:[c.address&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(D.Z,{className:"w-4 h-4 text-blue-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-card-title",children:"Address"})]}),(0,a.jsx)("p",{className:"text-sm text-text-secondary pl-6",children:c.address})]}),c.medications&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(q,{className:"w-4 h-4 text-purple-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-card-title",children:"Medications"})]}),(0,a.jsx)("p",{className:"text-sm text-text-secondary pl-6",children:c.medications})]}),c.interests&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(M,{className:"w-4 h-4 text-green-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-card-title",children:"Interests"})]}),(0,a.jsx)("p",{className:"text-sm text-text-secondary pl-6",children:formatList(c.interests)})]}),c.dislikes&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(L,{className:"w-4 h-4 text-orange-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-card-title",children:"Dislikes"})]}),(0,a.jsx)("p",{className:"text-sm text-text-secondary pl-6",children:formatList(c.dislikes)})]}),u&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 text-red-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-card-title",children:"Emergency Contact"})]}),(0,a.jsxs)("div",{className:"pl-6 space-y-1",children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-card-title",children:[u.first_name," ",u.last_name]}),u.relationship&&(0,a.jsx)("p",{className:"text-xs text-text-secondary",children:u.relationship.replace("_"," ")}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-text-secondary",children:[u.phone_primary&&(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(T.Z,{className:"w-3 h-3"}),u.phone_primary]}),u.email&&(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(F.Z,{className:"w-3 h-3"}),u.email]})]})]})]}),(c.allergies||c.medical_notes)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 text-yellow-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-card-title",children:"Important Notes"})]}),(0,a.jsxs)("div",{className:"pl-6 space-y-1",children:[c.allergies&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-xs font-medium text-red-600",children:"Allergies: "}),(0,a.jsx)("span",{className:"text-xs text-text-secondary",children:c.allergies})]}),c.medical_notes&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-xs font-medium text-card-title",children:"Medical Notes: "}),(0,a.jsx)("span",{className:"text-xs text-text-secondary",children:c.medical_notes})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-border",children:[(0,a.jsxs)("div",{className:"text-xs text-text-secondary",children:["ID: ",c.client_id]}),(0,a.jsxs)("a",{href:"/client-profile/edit",className:"flex items-center gap-1 text-xs text-btn-primary hover:text-btn-primary/80 transition-colors",children:[(0,a.jsx)(S.Z,{className:"w-3 h-3"}),"Edit Profile"]})]})]})]})}let BehaviorChart=()=>{var e,t,s,i,l,r,c,x,h,u,v;let{currentTrends:p,isLoading:g}=(0,f.wV)({days:7});if(g||!p)return(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title",children:"Current Behavior Trends"}),(0,a.jsx)(d.Z,{className:"w-5 h-5 text-nav-icon"})]}),(0,a.jsx)("div",{className:"h-48 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-btn-primary mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-text-secondary text-sm",children:"Loading trends..."})]})})]});let b={labels:(null===(e=p.daily_breakdown)||void 0===e?void 0:e.map(e=>e.day_short))||[],datasets:[{label:"Critical",data:(null===(t=p.daily_breakdown)||void 0===t?void 0:t.map(e=>e.critical))||[],borderColor:"#FF4444",backgroundColor:"rgba(255, 68, 68, 0.1)",tension:.4,fill:!0},{label:"High",data:(null===(s=p.daily_breakdown)||void 0===s?void 0:s.map(e=>e.high))||[],borderColor:"#FF6B6B",backgroundColor:"rgba(255, 107, 107, 0.1)",tension:.4,fill:!0},{label:"Medium",data:(null===(i=p.daily_breakdown)||void 0===i?void 0:i.map(e=>e.medium))||[],borderColor:"#FFA500",backgroundColor:"rgba(255, 165, 0, 0.1)",tension:.4,fill:!0},{label:"Low",data:(null===(l=p.daily_breakdown)||void 0===l?void 0:l.map(e=>e.low))||[],borderColor:"#4ECDC4",backgroundColor:"rgba(78, 205, 196, 0.1)",tension:.4,fill:!0}]};return(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title",children:"Current Behavior Trends"}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-1",children:[(0,a.jsxs)("span",{className:"text-sm text-text-secondary",children:["Today: ",(null===(r=p.current_stats)||void 0===r?void 0:r.today_total)||0," behaviors"]}),(0,a.jsxs)("span",{className:"text-sm flex items-center gap-1 ".concat((null===(c=p.current_stats)||void 0===c?void 0:c.week_trend_direction)==="up"?"text-red-600":(null===(x=p.current_stats)||void 0===x?void 0:x.week_trend_direction)==="down"?"text-green-600":"text-gray-600"),children:[(null===(h=p.current_stats)||void 0===h?void 0:h.week_trend_direction)==="up"&&(0,a.jsx)(n.Z,{className:"w-3 h-3"}),(null===(u=p.current_stats)||void 0===u?void 0:u.week_trend_direction)==="down"&&(0,a.jsx)(o,{className:"w-3 h-3"}),null===(v=p.current_stats)||void 0===v?void 0:v.week_trend_percentage,"% this week"]})]})]}),(0,a.jsx)(d.Z,{className:"w-5 h-5 text-nav-icon"})]}),p.critical_alerts&&p.critical_alerts.length>0&&(0,a.jsx)("div",{className:"mb-4 space-y-2",children:p.critical_alerts.map((e,t)=>(0,a.jsxs)("div",{className:"p-2 rounded-md text-sm flex items-center gap-2 ".concat("critical"===e.severity?"bg-red-100 text-red-800":"high"===e.severity?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800"),children:[(0,a.jsx)(m.Z,{className:"w-4 h-4"}),e.message]},t))}),(0,a.jsx)("div",{className:"h-48",children:(0,a.jsx)(j.x1,{data:b,options:{...N.q_,plugins:{...N.q_.plugins,legend:{...N.q_.plugins.legend,position:"top",labels:{...N.q_.plugins.legend.labels,boxWidth:12,padding:15}}},scales:{x:{...N.q_.scales.x,grid:{display:!1}},y:{...N.q_.scales.y,beginAtZero:!0,ticks:{...N.q_.scales.y.ticks,stepSize:1}}}}})})]})},WeeklyActivityChart=e=>{var t,s,i;let{analytics:l}=e,r={labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],datasets:[{label:"Completed Activities",data:(null==l?void 0:null===(t=l.completion_by_day)||void 0===t?void 0:t.map(e=>e.completion_count))||[0,0,0,0,0,0,0],backgroundColor:"rgba(99, 102, 241, 0.5)",borderColor:"rgb(99, 102, 241)",borderWidth:1},{label:"Total Activities",data:(null==l?void 0:null===(i=l.daily_completion_trend)||void 0===i?void 0:null===(s=i.slice(-7))||void 0===s?void 0:s.map(e=>e.total_activities))||[0,0,0,0,0,0,0],backgroundColor:"rgba(156, 163, 175, 0.5)",borderColor:"rgb(156, 163, 175)",borderWidth:1}]};return(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title",children:"Weekly Activities"}),(0,a.jsx)(h.Z,{className:"w-5 h-5 text-nav-icon"})]}),(0,a.jsx)("div",{className:"h-48",children:(0,a.jsx)(j.$Q,{data:r,options:{...N.q_,plugins:{...N.q_.plugins,legend:{display:!0,position:"top",labels:{boxWidth:12,padding:15}}},scales:{x:{...N.q_.scales.x,grid:{display:!1}},y:{...N.q_.scales.y,beginAtZero:!0,ticks:{...N.q_.scales.y.ticks,stepSize:5}}}}})})]})},TodayActivitiesCard=e=>{let{activities:t}=e;return(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title",children:"Today's Activities"}),(0,a.jsx)(h.Z,{className:"w-5 h-5 text-nav-icon"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[t.slice(0,3).map(e=>{var t;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-bg-highlight rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-card-title",children:null===(t=e.activity)||void 0===t?void 0:t.name}),(0,a.jsx)("p",{className:"text-sm text-card-subtext",children:e.scheduled_time?"Scheduled: ".concat(e.scheduled_time):(0,g.p6)(e.date)})]}),(0,a.jsx)("span",{className:(0,g.cn)("px-2 py-1 rounded-full text-xs font-medium",e.completed&&"bg-text-positive/10 text-text-positive","in_progress"===e.status&&"bg-blue-100 text-blue-800","scheduled"===e.status&&"bg-gray-100 text-gray-800","cancelled"===e.status&&"bg-text-danger/10 text-text-danger"),children:e.completed?"Completed":e.status})]},e.id)}),0===t.length&&(0,a.jsx)("div",{className:"text-center py-4 text-card-subtext",children:"No activities scheduled for today"})]})]})},OverdueActivitiesCard=e=>{let{activities:t}=e;return(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title",children:"Overdue Activities"}),(0,a.jsx)(m.Z,{className:"w-5 h-5 text-text-danger"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[t.slice(0,3).map(e=>{var t;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-bg-highlight rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-card-title",children:null===(t=e.activity)||void 0===t?void 0:t.name}),(0,a.jsxs)("p",{className:"text-sm text-card-subtext",children:["Due: ",(0,g.p6)(e.date)," ",e.scheduled_time]})]}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-text-danger/10 text-text-danger",children:"Overdue"})]},e.id)}),0===t.length&&(0,a.jsx)("div",{className:"text-center py-4 text-text-positive",children:"No overdue activities! \uD83C\uDF89"})]})]})},ActivityStatsCard=e=>{var t,s;let{analytics:i}=e;return(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title",children:"Activity Progress"}),(0,a.jsx)(u.Z,{className:"w-5 h-5 text-nav-icon"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-card-subtext",children:"Completion Rate"}),(0,a.jsxs)("span",{className:"text-lg font-semibold text-card-title",children:[(null==i?void 0:i.overall_completion_rate)||0,"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-bg-highlight rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-btn-primary h-2 rounded-full transition-all duration-300",style:{width:"".concat((null==i?void 0:i.overall_completion_rate)||0,"%")}})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"font-medium text-card-title",children:(null==i?void 0:null===(t=i.completion_statistics)||void 0===t?void 0:t.completed_activities)||0}),(0,a.jsx)("p",{className:"text-card-subtext",children:"Completed"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"font-medium text-card-title",children:(null==i?void 0:null===(s=i.completion_statistics)||void 0===s?void 0:s.total_activities)||0}),(0,a.jsx)("p",{className:"text-card-subtext",children:"Total"})]})]})]})]})},ShiftStatusCard=e=>{let{shifts:t}=e;return(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title",children:"Today's Shifts"}),(0,a.jsx)(v.Z,{className:"w-5 h-5 text-nav-icon"})]}),(0,a.jsx)("div",{className:"space-y-3",children:t.slice(0,3).map(e=>{var t;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-bg-highlight rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-card-title",children:null===(t=e.carer)||void 0===t?void 0:t.full_name}),(0,a.jsxs)("p",{className:"text-sm text-card-subtext",children:[e.start_time," - ",e.end_time]})]}),(0,a.jsx)("span",{className:(0,g.cn)("px-2 py-1 rounded-full text-xs font-medium","completed"===e.status&&"bg-text-positive/10 text-text-positive","in_progress"===e.status&&"bg-blue-100 text-blue-800","scheduled"===e.status&&"bg-gray-100 text-gray-800","cancelled"===e.status&&"bg-text-danger/10 text-text-danger"),children:e.status})]},e.id)})})]})};function DashboardPage(){var e,t,s,r,d,x,u,v,j;let{user:g,loading:N}=(0,b.useRequireAuth)(),{stats:y,isLoading:_}=(0,f.f_)(),{behaviors:w,isLoading:k}=(0,f.vc)(),{shifts:Z,isLoading:C}=(0,f.Q9)(),{behaviors:A}=(0,f.Yb)(),{activities:D}=(0,f.Zq)(),{activities:q}=(0,f.Go)(),{activityAnalytics:M}=(0,f.C2)(),{currentTrends:L}=(0,f.wV)({days:7});return N||_?(0,a.jsx)(i.Z,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-btn-primary mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-text-secondary",children:"Loading dashboard..."})]})})}):(0,a.jsx)(i.Z,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(l.Z,{items:[{label:"Dashboard"}]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-text-secondary",children:"Welcome back! Here's what's happening today."})]}),(null==L?void 0:null===(e=L.critical_alerts)||void 0===e?void 0:e.length)>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-red-100 text-red-800 rounded-lg",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[L.critical_alerts.length," Alert",1!==L.critical_alerts.length?"s":""]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"card p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-card-subtext",children:"Total Carers"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-card-title",children:(null==y?void 0:y.total_carers)||0}),(0,a.jsxs)("p",{className:"text-xs text-green-600",children:[(null==y?void 0:y.active_carers)||0," active"]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-btn-primary rounded-lg flex items-center justify-center",children:(0,a.jsx)(p.Z,{className:"w-6 h-6 text-white"})})]})}),(0,a.jsx)("div",{className:"card p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-card-subtext",children:"Behaviors Today"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-card-title",children:(null==L?void 0:null===(t=L.current_stats)||void 0===t?void 0:t.today_total)||0}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(null==L?void 0:null===(s=L.current_stats)||void 0===s?void 0:s.week_trend_direction)==="up"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.Z,{className:"w-3 h-3 text-red-600"}),(0,a.jsxs)("span",{className:"text-xs text-red-600",children:["+",null==L?void 0:null===(r=L.current_stats)||void 0===r?void 0:r.week_trend_percentage,"%"]})]}),(null==L?void 0:null===(d=L.current_stats)||void 0===d?void 0:d.week_trend_direction)==="down"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o,{className:"w-3 h-3 text-green-600"}),(0,a.jsxs)("span",{className:"text-xs text-green-600",children:[null==L?void 0:null===(x=L.current_stats)||void 0===x?void 0:x.week_trend_percentage,"%"]})]}),(null==L?void 0:null===(u=L.current_stats)||void 0===u?void 0:u.week_trend_direction)==="stable"&&(0,a.jsx)("span",{className:"text-xs text-gray-600",children:"Stable"}),(0,a.jsx)("span",{className:"text-xs text-card-subtext",children:"this week"})]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(m.Z,{className:"w-6 h-6 text-red-600"})})]})}),(0,a.jsx)("div",{className:"card p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-card-subtext",children:"Activities Today"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-card-title",children:(null==D?void 0:D.length)||0}),(0,a.jsxs)("p",{className:"text-xs text-card-subtext",children:[(null==q?void 0:q.length)||0," overdue"]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(h.Z,{className:"w-6 h-6 text-green-600"})})]})}),(0,a.jsx)("div",{className:"card p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-card-subtext",children:"Critical Behaviors"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-card-title",children:(null==L?void 0:null===(v=L.current_stats)||void 0===v?void 0:v.today_critical)||0}),(0,a.jsxs)("p",{className:"text-xs text-card-subtext",children:[(null==L?void 0:null===(j=L.current_stats)||void 0===j?void 0:j.intervention_success_rate)||0,"% intervention success"]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(m.Z,{className:"w-6 h-6 text-orange-600"})})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsx)(BehaviorChart,{}),(0,a.jsx)(WeeklyActivityChart,{analytics:M})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(ClientProfileCard,{compact:!0}),(0,a.jsx)(ActivityStatsCard,{analytics:M}),(0,a.jsx)(TodayActivitiesCard,{activities:D}),(0,a.jsx)(OverdueActivitiesCard,{activities:q}),(0,a.jsx)(ShiftStatusCard,{shifts:Z})]})]}),(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title mb-4",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(c(),{href:"/activities",className:"btn-primary text-center",children:"Log Activity"}),(0,a.jsx)(c(),{href:"/behaviors",className:"btn-secondary text-center",children:"Log Behavior"}),(0,a.jsx)(c(),{href:"/shifts",className:"btn-secondary text-center",children:"Manage Shifts"}),(0,a.jsx)(c(),{href:"/reports",className:"btn-secondary text-center",children:"Generate Reports"})]})]})]})})}},6527:function(e,t,s){"use strict";s.d(t,{q_:function(){return i}});var a=s(6704);a.kL.register(a.uw,a.f$,a.od,a.jn,a.ZL,a.qi,a.Dx,a.u,a.De,a.Gu);let i={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#000000",font:{size:12}}},tooltip:{backgroundColor:"#FFFFFF",titleColor:"#000000",bodyColor:"#6D6D6D",borderColor:"#E0E0E0",borderWidth:1,cornerRadius:8,displayColors:!0}},scales:{x:{grid:{color:"#E5E5E5",drawBorder:!1},ticks:{color:"#6D6D6D",font:{size:11}}},y:{grid:{color:"#E5E5E5",drawBorder:!1},ticks:{color:"#6D6D6D",font:{size:11}}}}}}},function(e){e.O(0,[674,186,607,462,149,180,390,971,472,744],function(){return e(e.s=3394)}),_N_E=e.O()}]);