(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[225],{2894:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},3008:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},5817:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},6264:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},6142:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},9617:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},9883:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1827:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},5367:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2104:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},2549:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1887:function(e,t,s){Promise.resolve().then(s.bind(s,5447))},5447:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ShiftsPage}});var a=s(7437),l=s(2265),n=s(1617),r=s(8230),i=s(9883),c=s(2549),d=s(6142),o=s(7972),x=s(6264),m=s(8203),u=s(1628),h=s(3415),p=s(5925);let f=[{value:"morning",label:"Morning (6AM - 2PM)"},{value:"afternoon",label:"Afternoon (2PM - 10PM)"},{value:"evening",label:"Evening (6PM - 12AM)"},{value:"night",label:"Night (10PM - 6AM)"},{value:"full_day",label:"Full Day (24 hours)"},{value:"custom",label:"Custom Hours"}],getDefaultTimes=e=>{switch(e){case"morning":return{start:"06:00",end:"14:00"};case"afternoon":return{start:"14:00",end:"22:00"};case"evening":return{start:"18:00",end:"00:00"};case"night":return{start:"22:00",end:"06:00"};case"full_day":return{start:"00:00",end:"23:59"};default:return{start:"",end:""}}};function AddShiftModal(e){let{isOpen:t,onClose:s,onSuccess:n}=e,[r,g]=(0,l.useState)({carer:"",date:"",shift_type:"morning",start_time:"06:00",end_time:"14:00",break_duration:"30",location:"",client_name:"",client_address:"",notes:"",special_instructions:"",emergency_contact:""}),[b,j]=(0,l.useState)([]),[N,y]=(0,l.useState)(!1),[v,C]=(0,l.useState)(!1),[_,D]=(0,l.useState)({});(0,l.useEffect)(()=>{t&&loadCarers()},[t]),(0,l.useEffect)(()=>{if("custom"!==r.shift_type){let e=getDefaultTimes(r.shift_type);g(t=>({...t,start_time:e.start,end_time:e.end}))}},[r.shift_type]);let loadCarers=async()=>{C(!0);try{let e=await h.x.getUsers({role:"carer"});j(e.results||[])}catch(e){console.error("Error loading carers:",e),p.default.error("Failed to load carers")}finally{C(!1)}},handleInputChange=(e,t)=>{g(s=>({...s,[e]:t})),_[e]&&D(t=>({...t,[e]:""}))},validateForm=()=>{let e={};if(r.carer||(e.carer="Carer is required"),r.date||(e.date="Date is required"),r.start_time||(e.start_time="Start time is required"),r.end_time||(e.end_time="End time is required"),r.start_time&&r.end_time){let t=new Date("2000-01-01T".concat(r.start_time)),s=new Date("2000-01-01T".concat(r.end_time));("night"===r.shift_type||"evening"===r.shift_type)&&s<t&&s.setDate(s.getDate()+1),s<=t&&"night"!==r.shift_type&&"evening"!==r.shift_type&&(e.end_time="End time must be after start time")}return r.break_duration&&isNaN(Number(r.break_duration))&&(e.break_duration="Break duration must be a valid number"),r.location.trim()||(e.location="Location is required"),D(e),0===Object.keys(e).length},handleSubmit=async e=>{if(e.preventDefault(),validateForm()){y(!0);try{let e={carer:r.carer,date:r.date,shift_type:r.shift_type,start_time:r.start_time,end_time:r.end_time,break_duration:r.break_duration?parseInt(r.break_duration):0,location:r.location,client_name:r.client_name||void 0,client_address:r.client_address||void 0,notes:r.notes||void 0,special_instructions:r.special_instructions||void 0,emergency_contact:r.emergency_contact||void 0};await h.x.createShift(e),p.default.success("Shift scheduled successfully!"),n(),handleClose()}catch(e){console.error("Error creating shift:",e),p.default.error(e.message||"Failed to schedule shift")}finally{y(!1)}}},handleClose=()=>{N||(g({carer:"",date:"",shift_type:"morning",start_time:"06:00",end_time:"14:00",break_duration:"30",location:"",client_name:"",client_address:"",notes:"",special_instructions:"",emergency_contact:""}),D({}),s())};return t?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-[20px] w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-[#4ECDC4] rounded-lg flex items-center justify-center",children:(0,a.jsx)(i.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-[#000000]",children:"Schedule New Shift"}),(0,a.jsx)("p",{className:"text-sm text-[#6D6D6D]",children:"Create a new shift assignment for carers"})]})]}),(0,a.jsx)("button",{onClick:handleClose,disabled:N,className:"p-2 hover:bg-[#F9F5F4] rounded-lg transition-colors",children:(0,a.jsx)(c.Z,{className:"w-5 h-5 text-[#6D6D6D]"})})]}),(0,a.jsxs)("form",{onSubmit:handleSubmit,className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-[#000000]",children:"Basic Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Assigned Carer *"}),(0,a.jsxs)("select",{value:r.carer,onChange:e=>handleInputChange("carer",e.target.value),className:(0,u.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",_.carer?"border-[#FF6B6B]":"border-[#D3D3D3]"),disabled:N||v,children:[(0,a.jsx)("option",{value:"",children:"Select a carer"}),b.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.full_name," (",e.email,")"]},e.id))]}),_.carer&&(0,a.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:_.carer})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Date *"}),(0,a.jsx)("input",{type:"date",value:r.date,onChange:e=>handleInputChange("date",e.target.value),min:(()=>{let e=new Date;return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]})(),className:(0,u.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",_.date?"border-[#FF6B6B]":"border-[#D3D3D3]"),disabled:N}),_.date&&(0,a.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:_.date})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Shift Type *"}),(0,a.jsx)("select",{value:r.shift_type,onChange:e=>handleInputChange("shift_type",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",disabled:N,children:f.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-[#000000]",children:"Time Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Start Time *"}),(0,a.jsx)("input",{type:"time",value:r.start_time,onChange:e=>handleInputChange("start_time",e.target.value),disabled:"custom"!==r.shift_type||N,className:(0,u.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",_.start_time?"border-[#FF6B6B]":"border-[#D3D3D3]","custom"!==r.shift_type&&"bg-gray-100")}),_.start_time&&(0,a.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:_.start_time})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"End Time *"}),(0,a.jsx)("input",{type:"time",value:r.end_time,onChange:e=>handleInputChange("end_time",e.target.value),disabled:"custom"!==r.shift_type||N,className:(0,u.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",_.end_time?"border-[#FF6B6B]":"border-[#D3D3D3]","custom"!==r.shift_type&&"bg-gray-100")}),_.end_time&&(0,a.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:_.end_time})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Break Duration (minutes)"}),(0,a.jsx)("input",{type:"number",value:r.break_duration,onChange:e=>handleInputChange("break_duration",e.target.value),className:(0,u.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",_.break_duration?"border-[#FF6B6B]":"border-[#D3D3D3]"),placeholder:"30",min:"0",max:"480",disabled:N}),_.break_duration&&(0,a.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:_.break_duration})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-[#000000]",children:"Location & Client Details"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 inline mr-1"}),"Location *"]}),(0,a.jsx)("input",{type:"text",value:r.location,onChange:e=>handleInputChange("location",e.target.value),className:(0,u.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",_.location?"border-[#FF6B6B]":"border-[#D3D3D3]"),placeholder:"e.g., Main Facility, Client Home, Community Center",disabled:N}),_.location&&(0,a.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:_.location})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 inline mr-1"}),"Client Name"]}),(0,a.jsx)("input",{type:"text",value:r.client_name,onChange:e=>handleInputChange("client_name",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",placeholder:"Client name (if applicable)",disabled:N})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Client Address"}),(0,a.jsx)("input",{type:"text",value:r.client_address,onChange:e=>handleInputChange("client_address",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",placeholder:"Client address (if applicable)",disabled:N})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Emergency Contact"}),(0,a.jsx)("input",{type:"text",value:r.emergency_contact,onChange:e=>handleInputChange("emergency_contact",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",placeholder:"Emergency contact information",disabled:N})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-[#000000]",children:"Notes & Instructions"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Special Instructions"}),(0,a.jsx)("textarea",{value:r.special_instructions,onChange:e=>handleInputChange("special_instructions",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] resize-none",placeholder:"Any special instructions for this shift",rows:3,disabled:N})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"General Notes"}),(0,a.jsx)("textarea",{value:r.notes,onChange:e=>handleInputChange("notes",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] resize-none",placeholder:"Additional notes about this shift",rows:3,disabled:N})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,a.jsx)("button",{type:"button",onClick:handleClose,disabled:N,className:"px-6 py-2 border border-[#E0E0E0] rounded-lg text-[#000000] hover:bg-[#F0F0F0] transition-colors disabled:opacity-50",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:N,className:"px-6 py-2 bg-[#4ECDC4] text-white rounded-lg hover:bg-[#3DB9B2] transition-colors disabled:opacity-50 flex items-center space-x-2",children:N?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 animate-spin"}),(0,a.jsx)("span",{children:"Scheduling..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Schedule Shift"})]})})]})]})]})}):null}var g=s(9617),b=s(6141),j=s(2894);let N=[{value:"morning",label:"Morning (6AM - 2PM)"},{value:"afternoon",label:"Afternoon (2PM - 10PM)"},{value:"evening",label:"Evening (6PM - 12AM)"},{value:"night",label:"Night (10PM - 6AM)"},{value:"full_day",label:"Full Day (24 hours)"},{value:"custom",label:"Custom Hours"}];function EditShiftModal(e){let{isOpen:t,onClose:s,onSuccess:n,shift:r}=e,[i,m]=(0,l.useState)({carer:"",date:"",shift_type:"morning",start_time:"",end_time:"",break_duration:"30",location:"",client_name:"",client_address:"",notes:"",special_instructions:"",emergency_contact:""}),[f,y]=(0,l.useState)([]),[v,C]=(0,l.useState)(!1),[_,D]=(0,l.useState)(!1),[w,k]=(0,l.useState)({});(0,l.useEffect)(()=>{t&&(loadCarers(),r&&populateForm(r))},[t,r]);let loadCarers=async()=>{D(!0);try{let e=await h.x.getUsers({role:"carer"});y(e.results||[])}catch(e){console.error("Error loading carers:",e),p.default.error("Failed to load carers")}finally{D(!1)}},populateForm=e=>{m({carer:e.carer.id||"",date:e.date||"",shift_type:e.shift_type||"morning",start_time:e.start_time||"",end_time:e.end_time||"",break_duration:e.break_duration?e.break_duration.toString():"30",location:e.location||"",client_name:e.client_name||"",client_address:e.client_address||"",notes:e.notes||"",special_instructions:e.special_instructions||"",emergency_contact:e.emergency_contact||""})},handleInputChange=(e,t)=>{m(s=>({...s,[e]:t})),w[e]&&k(t=>({...t,[e]:""}))},validateForm=()=>{let e={};if(i.carer||(e.carer="Carer is required"),i.date||(e.date="Date is required"),i.start_time||(e.start_time="Start time is required"),i.end_time||(e.end_time="End time is required"),i.start_time&&i.end_time){let t=new Date("2000-01-01T".concat(i.start_time)),s=new Date("2000-01-01T".concat(i.end_time));("night"===i.shift_type||"evening"===i.shift_type)&&s<t&&s.setDate(s.getDate()+1),s<=t&&"night"!==i.shift_type&&"evening"!==i.shift_type&&(e.end_time="End time must be after start time")}return i.break_duration&&isNaN(Number(i.break_duration))&&(e.break_duration="Break duration must be a valid number"),i.location.trim()||(e.location="Location is required"),k(e),0===Object.keys(e).length},handleSubmit=async e=>{if(e.preventDefault(),r&&validateForm()){C(!0);try{let e={carer:i.carer,date:i.date,shift_type:i.shift_type,start_time:i.start_time,end_time:i.end_time,break_duration:i.break_duration?parseInt(i.break_duration):0,location:i.location,client_name:i.client_name||void 0,client_address:i.client_address||void 0,notes:i.notes||void 0,special_instructions:i.special_instructions||void 0,emergency_contact:i.emergency_contact||void 0};await h.x.updateShift(r.id,e),p.default.success("Shift updated successfully!"),n(),handleClose()}catch(e){console.error("Error updating shift:",e),p.default.error(e.message||"Failed to update shift")}finally{C(!1)}}},handleClose=()=>{v||(k({}),s())},F=r&&("scheduled"===r.status||"cancelled"===r.status);return t&&r?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-[20px] w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-[#4ECDC4] rounded-lg flex items-center justify-center",children:(0,a.jsx)(g.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-[#000000]",children:"Edit Shift"}),(0,a.jsx)("p",{className:"text-sm text-[#6D6D6D]",children:"Update shift information and assignments"})]})]}),(0,a.jsx)("button",{onClick:handleClose,disabled:v,className:"p-2 hover:bg-[#F9F5F4] rounded-lg transition-colors",children:(0,a.jsx)(c.Z,{className:"w-5 h-5 text-[#6D6D6D]"})})]}),(0,a.jsx)("div",{className:"p-6 bg-[#F9F5F4] border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-[#4ECDC4] rounded-lg flex items-center justify-center",children:(0,a.jsx)(b.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-[#000000]",children:r.carer.full_name}),(0,a.jsx)("span",{className:(0,u.cn)("px-2 py-1 rounded-full text-xs font-medium",(e=>{switch(e){case"completed":return"bg-[#4ECDC4]/10 text-[#4ECDC4]";case"in_progress":return"bg-blue-100 text-blue-800";case"scheduled":default:return"bg-gray-100 text-gray-800";case"cancelled":return"bg-[#FF6B6B]/10 text-[#FF6B6B]";case"no_show":return"bg-orange-100 text-orange-800"}})(r.status)),children:r.status.replace("_"," ")}),(0,a.jsx)("span",{className:(0,u.cn)("px-2 py-1 rounded-full text-xs font-medium",(e=>{switch(e){case"morning":return"bg-yellow-100 text-yellow-800";case"afternoon":return"bg-orange-100 text-orange-800";case"evening":return"bg-purple-100 text-purple-800";case"night":return"bg-blue-100 text-blue-800";case"full_day":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(r.shift_type)),children:r.shift_type.replace("_"," ")})]}),(0,a.jsx)("p",{className:"text-sm text-[#6D6D6D] mb-3",children:(0,u.p6)(r.date)}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-[#6D6D6D]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(b.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[(0,u.mr)(r.start_time)," - ",(0,u.mr)(r.end_time)]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:r.location})]}),r.duration_hours&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(b.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[r.duration_hours,"h"]})]})]})]})]})}),!F&&(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-orange-50 rounded-lg border border-orange-200",children:[(0,a.jsx)(j.Z,{className:"w-5 h-5 text-orange-500 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-orange-800 mb-1",children:"Limited Editing"}),(0,a.jsxs)("p",{className:"text-sm text-orange-700",children:["This shift is ",r.status,". Only certain fields can be modified for ",r.status," shifts."]})]})]})}),(0,a.jsxs)("form",{onSubmit:handleSubmit,className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-[#000000]",children:"Basic Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Assigned Carer *"}),(0,a.jsxs)("select",{value:i.carer,onChange:e=>handleInputChange("carer",e.target.value),className:(0,u.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",w.carer?"border-[#FF6B6B]":"border-[#D3D3D3]",!F&&"bg-gray-100"),disabled:!F||v||_,children:[(0,a.jsx)("option",{value:"",children:"Select a carer"}),f.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.full_name," (",e.email,")"]},e.id))]}),w.carer&&(0,a.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:w.carer})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Date *"}),(0,a.jsx)("input",{type:"date",value:i.date,onChange:e=>handleInputChange("date",e.target.value),className:(0,u.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",w.date?"border-[#FF6B6B]":"border-[#D3D3D3]",!F&&"bg-gray-100"),disabled:!F||v}),w.date&&(0,a.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:w.date})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Shift Type *"}),(0,a.jsx)("select",{value:i.shift_type,onChange:e=>handleInputChange("shift_type",e.target.value),className:(0,u.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]","border-[#D3D3D3]",!F&&"bg-gray-100"),disabled:!F||v,children:N.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-[#000000]",children:"Time Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Start Time *"}),(0,a.jsx)("input",{type:"time",value:i.start_time,onChange:e=>handleInputChange("start_time",e.target.value),className:(0,u.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",w.start_time?"border-[#FF6B6B]":"border-[#D3D3D3]",!F&&"bg-gray-100"),disabled:!F||v}),w.start_time&&(0,a.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:w.start_time})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"End Time *"}),(0,a.jsx)("input",{type:"time",value:i.end_time,onChange:e=>handleInputChange("end_time",e.target.value),className:(0,u.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",w.end_time?"border-[#FF6B6B]":"border-[#D3D3D3]",!F&&"bg-gray-100"),disabled:!F||v}),w.end_time&&(0,a.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:w.end_time})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Break Duration (minutes)"}),(0,a.jsx)("input",{type:"number",value:i.break_duration,onChange:e=>handleInputChange("break_duration",e.target.value),className:(0,u.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",w.break_duration?"border-[#FF6B6B]":"border-[#D3D3D3]"),placeholder:"30",min:"0",max:"480",disabled:v}),w.break_duration&&(0,a.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:w.break_duration})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-[#000000]",children:"Location & Client Details"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 inline mr-1"}),"Location *"]}),(0,a.jsx)("input",{type:"text",value:i.location,onChange:e=>handleInputChange("location",e.target.value),className:(0,u.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",w.location?"border-[#FF6B6B]":"border-[#D3D3D3]"),placeholder:"e.g., Main Facility, Client Home, Community Center",disabled:v}),w.location&&(0,a.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:w.location})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 inline mr-1"}),"Client Name"]}),(0,a.jsx)("input",{type:"text",value:i.client_name,onChange:e=>handleInputChange("client_name",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",placeholder:"Client name (if applicable)",disabled:v})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Client Address"}),(0,a.jsx)("input",{type:"text",value:i.client_address,onChange:e=>handleInputChange("client_address",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",placeholder:"Client address (if applicable)",disabled:v})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Emergency Contact"}),(0,a.jsx)("input",{type:"text",value:i.emergency_contact,onChange:e=>handleInputChange("emergency_contact",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",placeholder:"Emergency contact information",disabled:v})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-[#000000]",children:"Notes & Instructions"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Special Instructions"}),(0,a.jsx)("textarea",{value:i.special_instructions,onChange:e=>handleInputChange("special_instructions",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] resize-none",placeholder:"Any special instructions for this shift",rows:3,disabled:v})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"General Notes"}),(0,a.jsx)("textarea",{value:i.notes,onChange:e=>handleInputChange("notes",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] resize-none",placeholder:"Additional notes about this shift",rows:3,disabled:v})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,a.jsx)("button",{type:"button",onClick:handleClose,disabled:v,className:"px-6 py-2 border border-[#E0E0E0] rounded-lg text-[#000000] hover:bg-[#F0F0F0] transition-colors disabled:opacity-50",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:v,className:"px-6 py-2 bg-[#4ECDC4] text-white rounded-lg hover:bg-[#3DB9B2] transition-colors disabled:opacity-50 flex items-center space-x-2",children:v?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 animate-spin"}),(0,a.jsx)("span",{children:"Updating..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Update Shift"})]})})]})]})]})}):null}var y=s(5367),v=s(3008);function DeleteShiftModal(e){let{isOpen:t,onClose:s,onSuccess:n,shift:r}=e,[i,f]=(0,l.useState)(!1),[g,N]=(0,l.useState)(0),handleDelete=async()=>{if(r){f(!0);try{await h.x.deleteShift(r.id),p.default.success("Shift deleted successfully!"),n(),handleClose()}catch(e){console.error("Error deleting shift:",e),p.default.error(e.message||"Failed to delete shift")}finally{f(!1)}}},handleClose=()=>{i||(N(0),s())};return t&&r?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-[20px] w-full max-w-2xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-[#FF6B6B] rounded-lg flex items-center justify-center",children:(0,a.jsx)(y.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-[#000000]",children:"Delete Shift"}),(0,a.jsx)("p",{className:"text-sm text-[#6D6D6D]",children:0===g?"Review shift details before deletion":"Final confirmation required"})]})]}),(0,a.jsx)("button",{onClick:handleClose,disabled:i,className:"p-2 hover:bg-[#F9F5F4] rounded-lg transition-colors disabled:opacity-50",children:(0,a.jsx)(c.Z,{className:"w-5 h-5 text-[#6D6D6D]"})})]}),(0,a.jsx)("div",{className:"p-6",children:0===g?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-orange-50 rounded-lg border border-orange-200",children:[(0,a.jsx)(j.Z,{className:"w-5 h-5 text-orange-500 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-orange-800 mb-1",children:"Warning"}),(0,a.jsx)("p",{className:"text-sm text-orange-700",children:r?"in_progress"===r.status?"This shift is currently in progress. Deleting it will affect clock-in/out records.":"completed"===r.status?"This shift has been completed with recorded clock-in/out times. Deleting it will permanently remove this data.":r.clock_in||r.clock_out?"This shift has clock-in/out records. Deleting it will permanently remove this attendance data.":"This shift will be permanently deleted from the system.":""})]})]}),(0,a.jsxs)("div",{className:"bg-[#F9F5F4] rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-[#000000] mb-4",children:"Shift Details"}),(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-[#4ECDC4] rounded-lg flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(b.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("h4",{className:"font-semibold text-[#000000]",children:r.carer.full_name}),(0,a.jsx)("span",{className:(0,u.cn)("px-2 py-1 rounded-full text-xs font-medium",(e=>{switch(e){case"completed":return"bg-[#4ECDC4]/10 text-[#4ECDC4]";case"in_progress":return"bg-blue-100 text-blue-800";case"scheduled":default:return"bg-gray-100 text-gray-800";case"cancelled":return"bg-[#FF6B6B]/10 text-[#FF6B6B]";case"no_show":return"bg-orange-100 text-orange-800"}})(r.status)),children:r.status.replace("_"," ")}),(0,a.jsx)("span",{className:(0,u.cn)("px-2 py-1 rounded-full text-xs font-medium",(e=>{switch(e){case"morning":return"bg-yellow-100 text-yellow-800";case"afternoon":return"bg-orange-100 text-orange-800";case"evening":return"bg-purple-100 text-purple-800";case"night":return"bg-blue-100 text-blue-800";case"full_day":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(r.shift_type)),children:r.shift_type.replace("_"," ")})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm text-[#6D6D6D]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:(0,u.p6)(r.date)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(b.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[(0,u.mr)(r.start_time)," - ",(0,u.mr)(r.end_time)]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:r.location})]}),r.client_name&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:r.client_name})]})]})]})]})]}),(r.clock_in||r.clock_out)&&(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[(0,a.jsx)("h4",{className:"font-semibold text-blue-800 mb-2",children:"Attendance Records"}),(0,a.jsxs)("div",{className:"space-y-2",children:[r.clock_in&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(v.Z,{className:"w-4 h-4 text-green-500"}),(0,a.jsxs)("span",{className:"text-blue-700",children:["Clock In: ",(0,u.mr)(r.clock_in),r.clock_in_location&&" at ".concat(r.clock_in_location)]})]}),r.clock_out&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(v.Z,{className:"w-4 h-4 text-green-500"}),(0,a.jsxs)("span",{className:"text-blue-700",children:["Clock Out: ",(0,u.mr)(r.clock_out),r.clock_out_location&&" at ".concat(r.clock_out_location)]})]}),r.duration_hours&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(b.Z,{className:"w-4 h-4 text-blue-500"}),(0,a.jsxs)("span",{className:"text-blue-700",children:["Total Duration: ",r.duration_hours," hours"]})]})]})]}),(r.notes||r.special_instructions)&&(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-[#000000] mb-2",children:"Notes & Instructions"}),r.special_instructions&&(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-[#6D6D6D]",children:"Special Instructions:"}),(0,a.jsx)("p",{className:"text-sm text-[#000000]",children:r.special_instructions})]}),r.notes&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-[#6D6D6D]",children:"Notes:"}),(0,a.jsx)("p",{className:"text-sm text-[#000000]",children:r.notes})]})]})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-[#FF6B6B] rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(j.Z,{className:"w-8 h-8 text-white"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-[#000000] mb-2",children:"Are you absolutely sure?"}),(0,a.jsxs)("p",{className:"text-[#6D6D6D] mb-4",children:["This action cannot be undone. The shift for ",(0,a.jsx)("strong",{children:r.carer.full_name})," on"," ",(0,a.jsx)("strong",{children:(0,u.p6)(r.date)})," will be permanently deleted."]}),(0,a.jsxs)("div",{className:"bg-red-50 rounded-lg p-4 border border-red-200",children:[(0,a.jsx)("p",{className:"text-sm text-red-700 font-medium",children:"This will permanently remove:"}),(0,a.jsxs)("ul",{className:"text-sm text-red-700 mt-2 space-y-1",children:[(0,a.jsx)("li",{children:"• Shift schedule information"}),(r.clock_in||r.clock_out)&&(0,a.jsx)("li",{children:"• Clock-in/out records"}),r.duration_hours&&(0,a.jsx)("li",{children:"• Attendance duration data"}),(r.notes||r.special_instructions)&&(0,a.jsx)("li",{children:"• Notes and instructions"}),(0,a.jsx)("li",{children:"• All associated shift data"})]})]})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-[#4ECDC4] rounded-full flex items-center justify-center",children:(0,a.jsx)(v.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("div",{className:"w-8 h-1 bg-[#4ECDC4] rounded-full"}),(0,a.jsx)("div",{className:"w-8 h-8 bg-[#FF6B6B] rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold text-sm",children:"2"})})]})})]})}),(0,a.jsx)("div",{className:"flex justify-end space-x-4 p-6 border-t border-gray-200",children:0===g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:handleClose,disabled:i,className:"px-6 py-2 border border-[#E0E0E0] rounded-lg text-[#000000] hover:bg-[#F0F0F0] transition-colors disabled:opacity-50",children:"Cancel"}),(0,a.jsxs)("button",{onClick:()=>{N(1)},disabled:i,className:"px-6 py-2 bg-[#FF6B6B] text-white rounded-lg hover:bg-red-600 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Proceed to Delete"})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>{N(0)},disabled:i,className:"px-6 py-2 border border-[#E0E0E0] rounded-lg text-[#000000] hover:bg-[#F0F0F0] transition-colors disabled:opacity-50",children:"Go Back"}),(0,a.jsx)("button",{onClick:handleDelete,disabled:i,className:"px-6 py-2 bg-[#FF6B6B] text-white rounded-lg hover:bg-red-600 transition-colors disabled:opacity-50 flex items-center space-x-2",children:i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 animate-spin"}),(0,a.jsx)("span",{children:"Deleting..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Delete Permanently"})]})})]})})]})}):null}var C=s(2104),_=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let D=(0,_.Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),w=(0,_.Z)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);var k=s(1827),F=s(5817),S=s(8823);let ShiftCard=e=>{let{shift:t,onClockIn:s,onClockOut:n,onEdit:r,onDelete:i}=e,[c,m]=(0,l.useState)(!1),handleClockIn=async()=>{m(!0);try{await s(t.id)}catch(e){console.error("Error clocking in:",e)}finally{m(!1)}},handleClockOut=async()=>{m(!0);try{await n(t.id)}catch(e){console.error("Error clocking out:",e)}finally{m(!1)}};return(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-card-title",children:t.carer.full_name}),(0,a.jsx)("p",{className:"text-sm text-card-subtext",children:(0,u.p6)(t.date)})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,a.jsx)("span",{className:(0,u.cn)("px-2 py-1 rounded-full text-xs font-medium",(e=>{switch(e){case"completed":return"bg-text-positive/10 text-text-positive";case"in_progress":return"bg-blue-100 text-blue-800";case"scheduled":default:return"bg-gray-100 text-gray-800";case"cancelled":return"bg-text-danger/10 text-text-danger";case"no_show":return"bg-orange-100 text-orange-800"}})(t.status)),children:t.status.replace("_"," ")}),(0,a.jsx)("span",{className:(0,u.cn)("px-2 py-1 rounded-full text-xs font-medium",(e=>{switch(e){case"morning":return"bg-yellow-100 text-yellow-800";case"afternoon":return"bg-orange-100 text-orange-800";case"evening":return"bg-purple-100 text-purple-800";case"night":return"bg-blue-100 text-blue-800";case"full_day":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(t.shift_type)),children:t.shift_type.replace("_"," ")})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(b.Z,{className:"w-4 h-4 text-nav-icon"}),(0,a.jsxs)("span",{className:"text-sm text-card-subtext",children:[(0,u.mr)(t.start_time)," - ",(0,u.mr)(t.end_time)]})]}),t.location&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 text-nav-icon"}),(0,a.jsx)("span",{className:"text-sm text-card-subtext",children:t.location})]}),t.client_name&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 text-nav-icon"}),(0,a.jsx)("span",{className:"text-sm text-card-subtext",children:t.client_name})]}),t.clock_in&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v.Z,{className:"w-4 h-4 text-text-positive"}),(0,a.jsxs)("span",{className:"text-sm text-card-subtext",children:["Clock in: ",(0,u.mr)(t.clock_in),t.clock_in_location&&" (".concat(t.clock_in_location,")")]})]}),t.clock_out&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(C.Z,{className:"w-4 h-4 text-text-danger"}),(0,a.jsxs)("span",{className:"text-sm text-card-subtext",children:["Clock out: ",(0,u.mr)(t.clock_out),t.clock_out_location&&" (".concat(t.clock_out_location,")")]})]}),t.duration_hours&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(b.Z,{className:"w-4 h-4 text-nav-icon"}),(0,a.jsxs)("span",{className:"text-sm text-card-subtext",children:["Duration: ",t.duration_hours," hours"]})]}),t.is_late&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4 text-orange-500"}),(0,a.jsx)("span",{className:"text-sm text-orange-600",children:"Late arrival"})]}),t.is_early_leave&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4 text-orange-500"}),(0,a.jsx)("span",{className:"text-sm text-orange-600",children:"Left early"})]}),t.is_overdue&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4 text-red-500"}),(0,a.jsx)("span",{className:"text-sm text-red-600",children:"Overdue"})]})]}),"scheduled"===t.status&&(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-4 pt-4 border-t border-border-default",children:[(0,a.jsxs)("button",{onClick:handleClockIn,disabled:c,className:"btn-primary flex items-center gap-2",children:[c?(0,a.jsx)(x.Z,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(D,{className:"w-4 h-4"}),"Start Shift"]}),(0,a.jsxs)("button",{className:"btn-secondary flex items-center gap-2",children:[(0,a.jsx)(C.Z,{className:"w-4 h-4"}),"Cancel"]})]}),"in_progress"===t.status&&(0,a.jsx)("div",{className:"flex items-center gap-2 mt-4 pt-4 border-t border-border-default",children:(0,a.jsxs)("button",{onClick:handleClockOut,disabled:c,className:"btn-primary flex items-center gap-2",children:[c?(0,a.jsx)(x.Z,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(w,{className:"w-4 h-4"}),"End Shift"]})}),t.notes&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-border-default",children:[(0,a.jsx)("p",{className:"text-xs text-card-subtext mb-2",children:"Notes:"}),(0,a.jsx)("p",{className:"text-sm text-card-subtext",children:t.notes})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-4 pt-4 border-t border-border-default",children:[(0,a.jsxs)("button",{onClick:()=>r(t),className:"btn-secondary flex items-center gap-2",disabled:c,children:[(0,a.jsx)(g.Z,{className:"w-4 h-4"}),"Edit"]}),(0,a.jsxs)("button",{onClick:()=>i(t),className:"text-[#FF6B6B] hover:bg-[#FF6B6B]/10 px-3 py-1 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2",disabled:c,children:[(0,a.jsx)(y.Z,{className:"w-4 h-4"}),"Delete"]})]})]})},ShiftTable=e=>{let{shifts:t,onClockIn:s,onClockOut:l,onEdit:n,onDelete:r}=e;return(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title",children:"All Shifts"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(k.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-text-muted"}),(0,a.jsx)("input",{type:"text",placeholder:"Search shifts...",className:"input-field pl-10 w-64"})]}),(0,a.jsxs)("select",{className:"input-field w-32",children:[(0,a.jsx)("option",{value:"all",children:"All Status"}),(0,a.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,a.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,a.jsx)("option",{value:"completed",children:"Completed"}),(0,a.jsx)("option",{value:"cancelled",children:"Cancelled"}),(0,a.jsx)("option",{value:"no_show",children:"No Show"})]}),(0,a.jsxs)("button",{className:"btn-secondary flex items-center gap-2",children:[(0,a.jsx)(F.Z,{className:"w-4 h-4"}),"Export"]})]})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-border-default",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-text-primary",children:"Carer"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-text-primary",children:"Date"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-text-primary",children:"Time"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-text-primary",children:"Type"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-text-primary",children:"Location"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-text-primary",children:"Status"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-text-primary",children:"Clock In"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-text-primary",children:"Clock Out"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-text-primary",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:t.map(e=>(0,a.jsxs)("tr",{className:"border-b border-border-default hover:bg-bg-highlight",children:[(0,a.jsx)("td",{className:"py-3 px-4 text-text-primary",children:e.carer.full_name}),(0,a.jsx)("td",{className:"py-3 px-4 text-text-secondary",children:(0,u.p6)(e.date)}),(0,a.jsxs)("td",{className:"py-3 px-4 text-text-secondary",children:[(0,u.mr)(e.start_time)," - ",(0,u.mr)(e.end_time)]}),(0,a.jsx)("td",{className:"py-3 px-4 text-text-secondary capitalize",children:e.shift_type.replace("_"," ")}),(0,a.jsx)("td",{className:"py-3 px-4 text-text-secondary",children:e.location||"-"}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsx)("span",{className:(0,u.cn)("px-2 py-1 rounded-full text-xs font-medium","completed"===e.status&&"bg-text-positive/10 text-text-positive","in_progress"===e.status&&"bg-blue-100 text-blue-800","scheduled"===e.status&&"bg-gray-100 text-gray-800","cancelled"===e.status&&"bg-text-danger/10 text-text-danger","no_show"===e.status&&"bg-orange-100 text-orange-800"),children:e.status.replace("_"," ")})}),(0,a.jsx)("td",{className:"py-3 px-4 text-text-secondary",children:e.clock_in?(0,u.mr)(e.clock_in):"-"}),(0,a.jsx)("td",{className:"py-3 px-4 text-text-secondary",children:e.clock_out?(0,u.mr)(e.clock_out):"-"}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["scheduled"===e.status&&(0,a.jsx)("button",{onClick:()=>s(e.id),className:"p-1 text-text-positive hover:bg-text-positive/10 rounded",title:"Start Shift",children:(0,a.jsx)(D,{className:"w-4 h-4"})}),"in_progress"===e.status&&(0,a.jsx)("button",{onClick:()=>l(e.id),className:"p-1 text-text-danger hover:bg-text-danger/10 rounded",title:"End Shift",children:(0,a.jsx)(w,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>n(e),className:"p-1 text-blue-500 hover:bg-blue-50 rounded",title:"Edit Shift",children:(0,a.jsx)(g.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>r(e),className:"p-1 text-[#FF6B6B] hover:bg-red-50 rounded",title:"Delete Shift",children:(0,a.jsx)(y.Z,{className:"w-4 h-4"})})]})})]},e.id))})]})})]})};function ShiftsPage(){let{shifts:e,isLoading:t,mutate:s}=(0,S.dE)(),[c,d]=(0,l.useState)("grid"),[o,f]=(0,l.useState)(""),[g,N]=(0,l.useState)("all"),[y,C]=(0,l.useState)(""),[_,D]=(0,l.useState)(!1),[w,E]=(0,l.useState)(!1),[Z,B]=(0,l.useState)(!1),[M,I]=(0,l.useState)(null),T=e.filter(e=>{var t,s,a;let l=(null===(t=e.carer.full_name)||void 0===t?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null===(s=e.client_name)||void 0===s?void 0:s.toLowerCase().includes(o.toLowerCase()))||(null===(a=e.location)||void 0===a?void 0:a.toLowerCase().includes(o.toLowerCase())),n="all"===g||e.status===g,r=!y||e.date===y;return l&&n&&r}),handleClockIn=async e=>{try{await h.x.clockIn(e),p.default.success("Shift started successfully"),s()}catch(e){p.default.error(e.message||"Failed to start shift")}},handleClockOut=async e=>{try{await h.x.clockOut(e),p.default.success("Shift ended successfully"),s()}catch(e){p.default.error(e.message||"Failed to end shift")}},handleEditShift=e=>{I(e),E(!0)},handleDeleteShift=e=>{I(e),B(!0)},handleModalClose=()=>{D(!1),E(!1),B(!1),I(null)},handleModalSuccess=()=>{s()};return t?(0,a.jsx)(n.Z,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(x.Z,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-btn-primary"}),(0,a.jsx)("p",{className:"text-text-secondary",children:"Loading shifts..."})]})})}):(0,a.jsx)(n.Z,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(r.Z,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Shifts"}]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"Shift Management"}),(0,a.jsx)("p",{className:"text-text-secondary",children:"Schedule, monitor, and manage carer shifts"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center bg-bg-highlight rounded-lg p-1",children:[(0,a.jsx)("button",{onClick:()=>d("grid"),className:(0,u.cn)("px-3 py-1 rounded-md text-sm font-medium transition-colors","grid"===c?"bg-bg-primary text-text-primary shadow-sm":"text-text-secondary hover:text-text-primary"),children:"Grid"}),(0,a.jsx)("button",{onClick:()=>d("table"),className:(0,u.cn)("px-3 py-1 rounded-md text-sm font-medium transition-colors","table"===c?"bg-bg-primary text-text-primary shadow-sm":"text-text-secondary hover:text-text-primary"),children:"Table"})]}),(0,a.jsxs)("button",{onClick:()=>{D(!0)},className:"btn-primary flex items-center gap-2",children:[(0,a.jsx)(i.Z,{className:"w-4 h-4"}),"Schedule Shift"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"card p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-card-subtext",children:"Total Shifts"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-card-title",children:e.length})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-btn-primary rounded-lg flex items-center justify-center",children:(0,a.jsx)(b.Z,{className:"w-6 h-6 text-white"})})]})}),(0,a.jsx)("div",{className:"card p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-card-subtext",children:"Scheduled"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-card-title",children:e.filter(e=>"scheduled"===e.status).length})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(m.Z,{className:"w-6 h-6 text-gray-800"})})]})}),(0,a.jsx)("div",{className:"card p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-card-subtext",children:"In Progress"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-card-title",children:e.filter(e=>"in_progress"===e.status).length})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(b.Z,{className:"w-6 h-6 text-blue-800"})})]})}),(0,a.jsx)("div",{className:"card p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-card-subtext",children:"Completed"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-card-title",children:e.filter(e=>"completed"===e.status).length})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-text-positive/10 rounded-lg flex items-center justify-center",children:(0,a.jsx)(v.Z,{className:"w-6 h-6 text-text-positive"})})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"card p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-card-subtext",children:"Morning Shifts"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-card-title",children:e.filter(e=>"morning"===e.shift_type).length})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(b.Z,{className:"w-6 h-6 text-yellow-800"})})]})}),(0,a.jsx)("div",{className:"card p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-card-subtext",children:"Afternoon Shifts"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-card-title",children:e.filter(e=>"afternoon"===e.shift_type).length})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(b.Z,{className:"w-6 h-6 text-orange-800"})})]})}),(0,a.jsx)("div",{className:"card p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-card-subtext",children:"Full Day Shifts"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-card-title",children:e.filter(e=>"full_day"===e.shift_type).length})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(b.Z,{className:"w-6 h-6 text-green-800"})})]})})]}),(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title mb-4",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("button",{className:"btn-secondary flex items-center gap-2",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4"}),"View Calendar"]}),(0,a.jsxs)("button",{className:"btn-secondary flex items-center gap-2",children:[(0,a.jsx)(F.Z,{className:"w-4 h-4"}),"Export Schedule"]}),(0,a.jsxs)("button",{className:"btn-secondary flex items-center gap-2",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4"}),"View Alerts"]})]})]}),(0,a.jsx)("div",{className:"card p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(k.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-text-muted"}),(0,a.jsx)("input",{type:"text",placeholder:"Search shifts by carer, client, or location...",value:o,onChange:e=>f(e.target.value),className:"input-field pl-10"})]}),(0,a.jsxs)("select",{value:g,onChange:e=>N(e.target.value),className:"input-field w-40",children:[(0,a.jsx)("option",{value:"all",children:"All Status"}),(0,a.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,a.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,a.jsx)("option",{value:"completed",children:"Completed"}),(0,a.jsx)("option",{value:"cancelled",children:"Cancelled"}),(0,a.jsx)("option",{value:"no_show",children:"No Show"})]}),(0,a.jsx)("input",{type:"date",value:y,onChange:e=>C(e.target.value),className:"input-field w-40"})]})}),0===T.length?(0,a.jsxs)("div",{className:"card p-12 text-center",children:[(0,a.jsx)(b.Z,{className:"w-12 h-12 text-text-muted mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-card-title mb-2",children:"No shifts found"}),(0,a.jsx)("p",{className:"text-text-secondary",children:o||"all"!==g||y?"Try adjusting your search or filters":"No shifts have been scheduled yet"})]}):"grid"===c?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(e=>(0,a.jsx)(ShiftCard,{shift:e,onClockIn:handleClockIn,onClockOut:handleClockOut,onEdit:handleEditShift,onDelete:handleDeleteShift},e.id))}):(0,a.jsx)(ShiftTable,{shifts:T,onClockIn:handleClockIn,onClockOut:handleClockOut,onEdit:handleEditShift,onDelete:handleDeleteShift}),(0,a.jsx)(AddShiftModal,{isOpen:_,onClose:handleModalClose,onSuccess:handleModalSuccess}),(0,a.jsx)(EditShiftModal,{isOpen:w,onClose:handleModalClose,onSuccess:handleModalSuccess,shift:M}),(0,a.jsx)(DeleteShiftModal,{isOpen:Z,onClose:handleModalClose,onSuccess:handleModalSuccess,shift:M})]})})}}},function(e){e.O(0,[186,607,462,180,390,971,472,744],function(){return e(e.s=1887)}),_N_E=e.O()}]);