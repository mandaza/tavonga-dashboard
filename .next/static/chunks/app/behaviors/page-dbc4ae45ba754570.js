(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[572],{1981:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var i=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,i.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},2894:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var i=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,i.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},3008:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var i=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,i.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9670:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var i=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,i.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6264:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var i=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,i.Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},6142:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var i=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,i.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},290:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var i=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,i.Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},9617:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var i=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,i.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},9883:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var i=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,i.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1827:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var i=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,i.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9036:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var i=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,i.Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},5367:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var i=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,i.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},5790:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var i=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,i.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},2104:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var i=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,i.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},2549:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var i=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,i.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},2369:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var i=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,i.Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])},1905:function(e,t,s){Promise.resolve().then(s.bind(s,926))},926:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return BehaviorsPage}});var i=s(7437),a=s(2265),r=s(1617),l=s(8230),n=s(2457),o=s(1981),d=s(2369),c=s(8203),x=s(6142),m=s(6141),u=s(6264),h=s(290),p=s(9670),g=s(9617),b=s(5367),v=s(2894),f=s(9036),j=s(998),y=s(3008),N=s(2104),_=s(1827),C=s(9883),D=s(5790),w=s(105),k=s(1628),F=s(6527),B=s(8823),E=s(2549),Z=s(7972),S=s(3415),I=s(5925);let q=[{value:"home",label:"Home"},{value:"school",label:"School"},{value:"community",label:"Community"},{value:"therapy",label:"Therapy"},{value:"transport",label:"Transport"},{value:"other",label:"Other"}],A=[{value:"aggression",label:"Aggression"},{value:"self_injury",label:"Self Injury"},{value:"property_damage",label:"Property Damage"},{value:"elopement",label:"Elopement"},{value:"non_compliance",label:"Non Compliance"},{value:"disruption",label:"Disruption"},{value:"other",label:"Other"}],T=[{value:"low",label:"Low",color:"bg-green-100 text-green-800"},{value:"medium",label:"Medium",color:"bg-yellow-100 text-yellow-800"},{value:"high",label:"High",color:"bg-orange-100 text-orange-800"},{value:"critical",label:"Critical",color:"bg-red-100 text-red-800"}],L=["Hitting","Kicking","Biting","Scratching","Throwing objects","Spitting","Verbal aggression","Screaming","Crying","Self-hitting","Head banging","Scratching self","Running away","Hiding","Refusing instructions","Destroying property","Making noise","Interrupting"],M=["Loud noises","Change in routine","Denied request","Frustration","Overstimulation","Fatigue","Hunger","Social pressure","Confusion","Physical discomfort","Transition between activities","Crowded spaces"],z=["Increased agitation","Restlessness","Verbal complaints","Fidgeting","Facial expressions changes","Repetitive movements","Withdrawal","Increased volume","Clenched fists","Pacing","Difficulty following instructions"];function AddBehaviorModal(e){let{isOpen:t,onClose:s,onSuccess:r}=e,[l,n]=(0,a.useState)({user:"",date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().slice(0,5),location:"home",specific_location:"",activity_before:"",behavior_type:"aggression",behaviors:[],warning_signs:[],duration_minutes:"",severity:"medium",harm_to_self:!1,harm_to_others:!1,property_damage:!1,damage_description:"",intervention_used:"",intervention_effective:!1,intervention_notes:"",follow_up_required:!1,follow_up_notes:"",notes:"",triggers_identified:[]}),[o,d]=(0,a.useState)([]),[c,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!1),[b,f]=(0,a.useState)({}),[y,N]=(0,a.useState)(""),[_,D]=(0,a.useState)(""),[w,F]=(0,a.useState)("");(0,a.useEffect)(()=>{t&&loadUsers()},[t]);let loadUsers=async()=>{g(!0);try{let e=await S.x.getUsers();d(e.results||[])}catch(e){console.error("Error loading users:",e),I.default.error("Failed to load users")}finally{g(!1)}},handleInputChange=(e,t)=>{n(s=>({...s,[e]:t})),b[e]&&f(t=>({...t,[e]:""}))},handleArrayToggle=(e,t)=>{n(s=>({...s,[e]:s[e].includes(t)?s[e].filter(e=>e!==t):[...s[e],t]}))},addCustomItem=(e,t)=>{t.trim()&&!l[e].includes(t.trim())&&n(s=>({...s,[e]:[...s[e],t.trim()]}))},removeItem=(e,t)=>{n(s=>({...s,[e]:s[e].filter(e=>e!==t)}))},validateForm=()=>{let e={};return l.user||(e.user="User is required"),l.date||(e.date="Date is required"),l.time||(e.time="Time is required"),0===l.behaviors.length&&(e.behaviors="At least one behavior must be selected"),l.intervention_used.trim()||(e.intervention_used="Intervention used is required"),l.duration_minutes&&isNaN(Number(l.duration_minutes))&&(e.duration_minutes="Duration must be a valid number"),l.property_damage&&!l.damage_description.trim()&&(e.damage_description="Damage description is required when property damage occurred"),l.follow_up_required&&!l.follow_up_notes.trim()&&(e.follow_up_notes="Follow-up notes are required when follow-up is needed"),f(e),0===Object.keys(e).length},handleSubmit=async e=>{if(e.preventDefault(),validateForm()){h(!0);try{let e={user:l.user,date:l.date,time:l.time,location:l.location,specific_location:l.specific_location||void 0,activity_before:l.activity_before||void 0,behavior_type:l.behavior_type,behaviors:l.behaviors,warning_signs:l.warning_signs,duration_minutes:l.duration_minutes?parseInt(l.duration_minutes):void 0,severity:l.severity,harm_to_self:l.harm_to_self,harm_to_others:l.harm_to_others,property_damage:l.property_damage,damage_description:l.damage_description||void 0,intervention_used:l.intervention_used,intervention_effective:l.intervention_effective,intervention_notes:l.intervention_notes||void 0,follow_up_required:l.follow_up_required,follow_up_notes:l.follow_up_notes||void 0,notes:l.notes||void 0,triggers_identified:l.triggers_identified,photos:[],videos:[],is_critical:"critical"===l.severity,requires_immediate_attention:"critical"===l.severity||l.follow_up_required};await S.x.createBehavior(e),I.default.success("Behavior log created successfully!"),r(),handleClose()}catch(e){console.error("Error creating behavior:",e),I.default.error(e.message||"Failed to create behavior log")}finally{h(!1)}}},handleClose=()=>{c||(n({user:"",date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().slice(0,5),location:"home",specific_location:"",activity_before:"",behavior_type:"aggression",behaviors:[],warning_signs:[],duration_minutes:"",severity:"medium",harm_to_self:!1,harm_to_others:!1,property_damage:!1,damage_description:"",intervention_used:"",intervention_effective:!1,intervention_notes:"",follow_up_required:!1,follow_up_notes:"",notes:"",triggers_identified:[]}),f({}),N(""),D(""),F(""),s())};return t?(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,i.jsxs)("div",{className:"bg-white rounded-[20px] w-full max-w-5xl max-h-[90vh] overflow-y-auto",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("div",{className:"w-10 h-10 bg-[#4ECDC4] rounded-lg flex items-center justify-center",children:(0,i.jsx)(v.Z,{className:"w-5 h-5 text-white"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-xl font-semibold text-[#000000]",children:"Add Behavior Log"}),(0,i.jsx)("p",{className:"text-sm text-[#6D6D6D]",children:"Record a new behavior incident"})]})]}),(0,i.jsx)("button",{onClick:handleClose,disabled:c,className:"p-2 hover:bg-[#F9F5F4] rounded-lg transition-colors",children:(0,i.jsx)(E.Z,{className:"w-5 h-5 text-[#6D6D6D]"})})]}),(0,i.jsxs)("form",{onSubmit:handleSubmit,className:"p-6 space-y-6",children:[(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-[#000000]",children:"Basic Information"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:[(0,i.jsx)(Z.Z,{className:"w-4 h-4 inline mr-1"}),"User *"]}),(0,i.jsxs)("select",{value:l.user,onChange:e=>handleInputChange("user",e.target.value),className:(0,k.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",b.user?"border-[#FF6B6B]":"border-[#D3D3D3]"),disabled:c||p,children:[(0,i.jsx)("option",{value:"",children:"Select user"}),o.map(e=>(0,i.jsx)("option",{value:e.id,children:e.full_name||"".concat(e.first_name," ").concat(e.last_name)},e.id))]}),b.user&&(0,i.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:b.user})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Date *"}),(0,i.jsx)("input",{type:"date",value:l.date,onChange:e=>handleInputChange("date",e.target.value),className:(0,k.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",b.date?"border-[#FF6B6B]":"border-[#D3D3D3]"),disabled:c}),b.date&&(0,i.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:b.date})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:[(0,i.jsx)(m.Z,{className:"w-4 h-4 inline mr-1"}),"Time *"]}),(0,i.jsx)("input",{type:"time",value:l.time,onChange:e=>handleInputChange("time",e.target.value),className:(0,k.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",b.time?"border-[#FF6B6B]":"border-[#D3D3D3]"),disabled:c}),b.time&&(0,i.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:b.time})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:[(0,i.jsx)(x.Z,{className:"w-4 h-4 inline mr-1"}),"Location *"]}),(0,i.jsx)("select",{value:l.location,onChange:e=>handleInputChange("location",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",disabled:c,children:q.map(e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Specific Location"}),(0,i.jsx)("input",{type:"text",value:l.specific_location,onChange:e=>handleInputChange("specific_location",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",placeholder:"e.g., Living room, Classroom 2A",disabled:c})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:[(0,i.jsx)(j.Z,{className:"w-4 h-4 inline mr-1"}),"Activity Before"]}),(0,i.jsx)("input",{type:"text",value:l.activity_before,onChange:e=>handleInputChange("activity_before",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",placeholder:"What was happening before the behavior?",disabled:c})]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-[#000000]",children:"Behavior Details"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Behavior Type *"}),(0,i.jsx)("select",{value:l.behavior_type,onChange:e=>handleInputChange("behavior_type",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",disabled:c,children:A.map(e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Severity *"}),(0,i.jsx)("select",{value:l.severity,onChange:e=>handleInputChange("severity",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",disabled:c,children:T.map(e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Duration (minutes)"}),(0,i.jsx)("input",{type:"number",value:l.duration_minutes,onChange:e=>handleInputChange("duration_minutes",e.target.value),className:(0,k.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",b.duration_minutes?"border-[#FF6B6B]":"border-[#D3D3D3]"),placeholder:"5",min:"1",disabled:c}),b.duration_minutes&&(0,i.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:b.duration_minutes})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Specific Behaviors *"}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:L.map(e=>(0,i.jsx)("button",{type:"button",onClick:()=>handleArrayToggle("behaviors",e),className:(0,k.cn)("px-3 py-1 text-sm rounded-full border transition-colors",l.behaviors.includes(e)?"bg-[#4ECDC4] text-white border-[#4ECDC4]":"bg-white text-[#6D6D6D] border-[#D3D3D3] hover:border-[#4ECDC4]"),disabled:c,children:e},e))}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)("input",{type:"text",value:y,onChange:e=>N(e.target.value),placeholder:"Add custom behavior",className:"flex-1 px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",disabled:c}),(0,i.jsx)("button",{type:"button",onClick:()=>{addCustomItem("behaviors",y),N("")},className:"px-4 py-2 bg-[#4ECDC4] text-white rounded-lg hover:bg-[#3DB9B2] transition-colors",disabled:c||!y.trim(),children:"Add"})]}),l.behaviors.length>0&&(0,i.jsx)("div",{className:"flex flex-wrap gap-2 pt-2",children:l.behaviors.map(e=>(0,i.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-[#4ECDC4] text-white text-sm rounded-full",children:[e,(0,i.jsx)("button",{type:"button",onClick:()=>removeItem("behaviors",e),className:"text-white hover:text-red-200 ml-1",disabled:c,children:(0,i.jsx)(E.Z,{className:"w-3 h-3"})})]},e))}),b.behaviors&&(0,i.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:b.behaviors})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Warning Signs"}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:z.map(e=>(0,i.jsx)("button",{type:"button",onClick:()=>handleArrayToggle("warning_signs",e),className:(0,k.cn)("px-3 py-1 text-sm rounded-full border transition-colors",l.warning_signs.includes(e)?"bg-[#4ECDC4] text-white border-[#4ECDC4]":"bg-white text-[#6D6D6D] border-[#D3D3D3] hover:border-[#4ECDC4]"),disabled:c,children:e},e))}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)("input",{type:"text",value:w,onChange:e=>F(e.target.value),placeholder:"Add custom warning sign",className:"flex-1 px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",disabled:c}),(0,i.jsx)("button",{type:"button",onClick:()=>{addCustomItem("warning_signs",w),F("")},className:"px-4 py-2 bg-[#4ECDC4] text-white rounded-lg hover:bg-[#3DB9B2] transition-colors",disabled:c||!w.trim(),children:"Add"})]}),l.warning_signs.length>0&&(0,i.jsx)("div",{className:"flex flex-wrap gap-2 pt-2",children:l.warning_signs.map(e=>(0,i.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-[#4ECDC4] text-white text-sm rounded-full",children:[e,(0,i.jsx)("button",{type:"button",onClick:()=>removeItem("warning_signs",e),className:"text-white hover:text-red-200 ml-1",disabled:c,children:(0,i.jsx)(E.Z,{className:"w-3 h-3"})})]},e))})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Triggers Identified"}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:M.map(e=>(0,i.jsx)("button",{type:"button",onClick:()=>handleArrayToggle("triggers_identified",e),className:(0,k.cn)("px-3 py-1 text-sm rounded-full border transition-colors",l.triggers_identified.includes(e)?"bg-[#4ECDC4] text-white border-[#4ECDC4]":"bg-white text-[#6D6D6D] border-[#D3D3D3] hover:border-[#4ECDC4]"),disabled:c,children:e},e))}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)("input",{type:"text",value:_,onChange:e=>D(e.target.value),placeholder:"Add custom trigger",className:"flex-1 px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",disabled:c}),(0,i.jsx)("button",{type:"button",onClick:()=>{addCustomItem("triggers_identified",_),D("")},className:"px-4 py-2 bg-[#4ECDC4] text-white rounded-lg hover:bg-[#3DB9B2] transition-colors",disabled:c||!_.trim(),children:"Add"})]}),l.triggers_identified.length>0&&(0,i.jsx)("div",{className:"flex flex-wrap gap-2 pt-2",children:l.triggers_identified.map(e=>(0,i.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-[#4ECDC4] text-white text-sm rounded-full",children:[e,(0,i.jsx)("button",{type:"button",onClick:()=>removeItem("triggers_identified",e),className:"text-white hover:text-red-200 ml-1",disabled:c,children:(0,i.jsx)(E.Z,{className:"w-3 h-3"})})]},e))})]})]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-[#000000]",children:"Risk Assessment"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("input",{type:"checkbox",id:"harm_to_self",checked:l.harm_to_self,onChange:e=>handleInputChange("harm_to_self",e.target.checked),className:"w-4 h-4 text-[#4ECDC4] rounded focus:ring-[#4ECDC4]",disabled:c}),(0,i.jsx)("label",{htmlFor:"harm_to_self",className:"text-sm text-[#000000]",children:"Harm to Self"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("input",{type:"checkbox",id:"harm_to_others",checked:l.harm_to_others,onChange:e=>handleInputChange("harm_to_others",e.target.checked),className:"w-4 h-4 text-[#4ECDC4] rounded focus:ring-[#4ECDC4]",disabled:c}),(0,i.jsx)("label",{htmlFor:"harm_to_others",className:"text-sm text-[#000000]",children:"Harm to Others"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("input",{type:"checkbox",id:"property_damage",checked:l.property_damage,onChange:e=>handleInputChange("property_damage",e.target.checked),className:"w-4 h-4 text-[#4ECDC4] rounded focus:ring-[#4ECDC4]",disabled:c}),(0,i.jsx)("label",{htmlFor:"property_damage",className:"text-sm text-[#000000]",children:"Property Damage"})]})]}),l.property_damage&&(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Damage Description *"}),(0,i.jsx)("textarea",{value:l.damage_description,onChange:e=>handleInputChange("damage_description",e.target.value),className:(0,k.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] resize-none",b.damage_description?"border-[#FF6B6B]":"border-[#D3D3D3]"),placeholder:"Describe the property damage",rows:2,disabled:c}),b.damage_description&&(0,i.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:b.damage_description})]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-[#000000]",children:"Intervention"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Intervention Used *"}),(0,i.jsx)("textarea",{value:l.intervention_used,onChange:e=>handleInputChange("intervention_used",e.target.value),className:(0,k.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] resize-none",b.intervention_used?"border-[#FF6B6B]":"border-[#D3D3D3]"),placeholder:"Describe the intervention that was used",rows:3,disabled:c}),b.intervention_used&&(0,i.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:b.intervention_used})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("input",{type:"checkbox",id:"intervention_effective",checked:l.intervention_effective,onChange:e=>handleInputChange("intervention_effective",e.target.checked),className:"w-4 h-4 text-[#4ECDC4] rounded focus:ring-[#4ECDC4]",disabled:c}),(0,i.jsx)("label",{htmlFor:"intervention_effective",className:"text-sm text-[#000000]",children:"Intervention was effective"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("input",{type:"checkbox",id:"follow_up_required",checked:l.follow_up_required,onChange:e=>handleInputChange("follow_up_required",e.target.checked),className:"w-4 h-4 text-[#4ECDC4] rounded focus:ring-[#4ECDC4]",disabled:c}),(0,i.jsx)("label",{htmlFor:"follow_up_required",className:"text-sm text-[#000000]",children:"Follow-up required"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Intervention Notes"}),(0,i.jsx)("textarea",{value:l.intervention_notes,onChange:e=>handleInputChange("intervention_notes",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] resize-none",placeholder:"Additional notes about the intervention",rows:2,disabled:c})]}),l.follow_up_required&&(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Follow-up Notes *"}),(0,i.jsx)("textarea",{value:l.follow_up_notes,onChange:e=>handleInputChange("follow_up_notes",e.target.value),className:(0,k.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] resize-none",b.follow_up_notes?"border-[#FF6B6B]":"border-[#D3D3D3]"),placeholder:"Describe the follow-up actions required",rows:2,disabled:c}),b.follow_up_notes&&(0,i.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:b.follow_up_notes})]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-[#000000]",children:"Additional Information"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Notes"}),(0,i.jsx)("textarea",{value:l.notes,onChange:e=>handleInputChange("notes",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] resize-none",placeholder:"Any additional notes or observations",rows:3,disabled:c})]})]}),(0,i.jsxs)("div",{className:"flex gap-4 pt-4 border-t border-gray-200",children:[(0,i.jsx)("button",{type:"button",onClick:handleClose,disabled:c,className:"flex-1 px-4 py-2 border border-[#D3D3D3] text-[#6D6D6D] rounded-lg hover:bg-[#F9F5F4] transition-colors disabled:opacity-50",children:"Cancel"}),(0,i.jsx)("button",{type:"submit",disabled:c,className:"flex-1 px-4 py-2 bg-[#4ECDC4] text-white rounded-lg hover:bg-[#3DB9B2] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:c?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Z,{className:"w-4 h-4 animate-spin"}),"Creating..."]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(C.Z,{className:"w-4 h-4"}),"Create Behavior Log"]})})]})]})]})}):null}let H=[{value:"home",label:"Home"},{value:"school",label:"School"},{value:"community",label:"Community"},{value:"therapy",label:"Therapy"},{value:"transport",label:"Transport"},{value:"other",label:"Other"}],O=[{value:"aggression",label:"Aggression"},{value:"self_injury",label:"Self Injury"},{value:"property_damage",label:"Property Damage"},{value:"elopement",label:"Elopement"},{value:"non_compliance",label:"Non Compliance"},{value:"disruption",label:"Disruption"},{value:"other",label:"Other"}],U=[{value:"low",label:"Low",color:"bg-green-100 text-green-800"},{value:"medium",label:"Medium",color:"bg-yellow-100 text-yellow-800"},{value:"high",label:"High",color:"bg-orange-100 text-orange-800"},{value:"critical",label:"Critical",color:"bg-red-100 text-red-800"}],P=["Hitting","Kicking","Biting","Scratching","Throwing objects","Spitting","Verbal aggression","Screaming","Crying","Self-hitting","Head banging","Scratching self","Running away","Hiding","Refusing instructions","Destroying property","Making noise","Interrupting"],R=["Loud noises","Change in routine","Denied request","Frustration","Overstimulation","Fatigue","Hunger","Social pressure","Confusion","Physical discomfort","Transition between activities","Crowded spaces"],V=["Increased agitation","Restlessness","Verbal complaints","Fidgeting","Facial expressions changes","Repetitive movements","Withdrawal","Increased volume","Clenched fists","Pacing","Difficulty following instructions"];function EditBehaviorModal(e){let{isOpen:t,onClose:s,onSuccess:r,behavior:l}=e,[n,o]=(0,a.useState)({user:"",date:"",time:"",location:"home",specific_location:"",activity_before:"",behavior_type:"aggression",behaviors:[],warning_signs:[],duration_minutes:"",severity:"medium",harm_to_self:!1,harm_to_others:!1,property_damage:!1,damage_description:"",intervention_used:"",intervention_effective:!1,intervention_notes:"",follow_up_required:!1,follow_up_notes:"",notes:"",triggers_identified:[]}),[d,c]=(0,a.useState)([]),[h,p]=(0,a.useState)(!1),[b,v]=(0,a.useState)(!1),[f,y]=(0,a.useState)({}),[N,_]=(0,a.useState)(""),[C,D]=(0,a.useState)(""),[w,F]=(0,a.useState)("");(0,a.useEffect)(()=>{if(t&&l){var e;loadUsers(),o({user:(null===(e=l.user)||void 0===e?void 0:e.id)||"",date:l.date||"",time:l.time||"",location:l.location||"home",specific_location:l.specific_location||"",activity_before:l.activity_before||"",behavior_type:l.behavior_type||"aggression",behaviors:l.behaviors||[],warning_signs:l.warning_signs||[],duration_minutes:l.duration_minutes?String(l.duration_minutes):"",severity:l.severity||"medium",harm_to_self:l.harm_to_self||!1,harm_to_others:l.harm_to_others||!1,property_damage:l.property_damage||!1,damage_description:l.damage_description||"",intervention_used:l.intervention_used||"",intervention_effective:l.intervention_effective||!1,intervention_notes:l.intervention_notes||"",follow_up_required:l.follow_up_required||!1,follow_up_notes:l.follow_up_notes||"",notes:l.notes||"",triggers_identified:l.triggers_identified||[]})}},[t,l]);let loadUsers=async()=>{v(!0);try{let e=await S.x.getUsers();c(e.results||[])}catch(e){console.error("Error loading users:",e),I.default.error("Failed to load users")}finally{v(!1)}},handleInputChange=(e,t)=>{o(s=>({...s,[e]:t})),f[e]&&y(t=>({...t,[e]:""}))},handleArrayToggle=(e,t)=>{o(s=>({...s,[e]:s[e].includes(t)?s[e].filter(e=>e!==t):[...s[e],t]}))},addCustomItem=(e,t)=>{t.trim()&&!n[e].includes(t.trim())&&o(s=>({...s,[e]:[...s[e],t.trim()]}))},removeItem=(e,t)=>{o(s=>({...s,[e]:s[e].filter(e=>e!==t)}))},validateForm=()=>{let e={};return n.user||(e.user="User is required"),n.date||(e.date="Date is required"),n.time||(e.time="Time is required"),0===n.behaviors.length&&(e.behaviors="At least one behavior must be selected"),n.intervention_used.trim()||(e.intervention_used="Intervention used is required"),n.duration_minutes&&isNaN(Number(n.duration_minutes))&&(e.duration_minutes="Duration must be a valid number"),n.property_damage&&!n.damage_description.trim()&&(e.damage_description="Damage description is required when property damage occurred"),n.follow_up_required&&!n.follow_up_notes.trim()&&(e.follow_up_notes="Follow-up notes are required when follow-up is needed"),y(e),0===Object.keys(e).length},handleSubmit=async e=>{if(e.preventDefault(),validateForm()&&l){p(!0);try{let e={user:n.user,date:n.date,time:n.time,location:n.location,specific_location:n.specific_location||void 0,activity_before:n.activity_before||void 0,behavior_type:n.behavior_type,behaviors:n.behaviors,warning_signs:n.warning_signs,duration_minutes:n.duration_minutes?parseInt(n.duration_minutes):void 0,severity:n.severity,harm_to_self:n.harm_to_self,harm_to_others:n.harm_to_others,property_damage:n.property_damage,damage_description:n.damage_description||void 0,intervention_used:n.intervention_used,intervention_effective:n.intervention_effective,intervention_notes:n.intervention_notes||void 0,follow_up_required:n.follow_up_required,follow_up_notes:n.follow_up_notes||void 0,notes:n.notes||void 0,triggers_identified:n.triggers_identified,is_critical:"critical"===n.severity,requires_immediate_attention:"critical"===n.severity||n.follow_up_required};await S.x.updateBehavior(l.id,e),I.default.success("Behavior log updated successfully!"),r(),handleClose()}catch(e){console.error("Error updating behavior:",e),I.default.error(e.message||"Failed to update behavior log")}finally{p(!1)}}},handleClose=()=>{h||(y({}),_(""),D(""),F(""),s())};return t&&l?(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,i.jsxs)("div",{className:"bg-white rounded-[20px] w-full max-w-5xl max-h-[90vh] overflow-y-auto",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("div",{className:"w-10 h-10 bg-[#4ECDC4] rounded-lg flex items-center justify-center",children:(0,i.jsx)(g.Z,{className:"w-5 h-5 text-white"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-xl font-semibold text-[#000000]",children:"Edit Behavior Log"}),(0,i.jsx)("p",{className:"text-sm text-[#6D6D6D]",children:"Update behavior incident details"})]})]}),(0,i.jsx)("button",{onClick:handleClose,disabled:h,className:"p-2 hover:bg-[#F9F5F4] rounded-lg transition-colors",children:(0,i.jsx)(E.Z,{className:"w-5 h-5 text-[#6D6D6D]"})})]}),(0,i.jsxs)("form",{onSubmit:handleSubmit,className:"p-6 space-y-6",children:[(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-[#000000]",children:"Basic Information"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:[(0,i.jsx)(Z.Z,{className:"w-4 h-4 inline mr-1"}),"User *"]}),(0,i.jsxs)("select",{value:n.user,onChange:e=>handleInputChange("user",e.target.value),className:(0,k.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",f.user?"border-[#FF6B6B]":"border-[#D3D3D3]"),disabled:h||b,children:[(0,i.jsx)("option",{value:"",children:"Select user"}),d.map(e=>(0,i.jsx)("option",{value:e.id,children:e.full_name||"".concat(e.first_name," ").concat(e.last_name)},e.id))]}),f.user&&(0,i.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:f.user})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Date *"}),(0,i.jsx)("input",{type:"date",value:n.date,onChange:e=>handleInputChange("date",e.target.value),className:(0,k.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",f.date?"border-[#FF6B6B]":"border-[#D3D3D3]"),disabled:h}),f.date&&(0,i.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:f.date})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:[(0,i.jsx)(m.Z,{className:"w-4 h-4 inline mr-1"}),"Time *"]}),(0,i.jsx)("input",{type:"time",value:n.time,onChange:e=>handleInputChange("time",e.target.value),className:(0,k.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",f.time?"border-[#FF6B6B]":"border-[#D3D3D3]"),disabled:h}),f.time&&(0,i.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:f.time})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:[(0,i.jsx)(x.Z,{className:"w-4 h-4 inline mr-1"}),"Location *"]}),(0,i.jsx)("select",{value:n.location,onChange:e=>handleInputChange("location",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",disabled:h,children:H.map(e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Specific Location"}),(0,i.jsx)("input",{type:"text",value:n.specific_location,onChange:e=>handleInputChange("specific_location",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",placeholder:"e.g., Living room, Classroom 2A",disabled:h})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:[(0,i.jsx)(j.Z,{className:"w-4 h-4 inline mr-1"}),"Activity Before"]}),(0,i.jsx)("input",{type:"text",value:n.activity_before,onChange:e=>handleInputChange("activity_before",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",placeholder:"What was happening before the behavior?",disabled:h})]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-[#000000]",children:"Behavior Details"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Behavior Type *"}),(0,i.jsx)("select",{value:n.behavior_type,onChange:e=>handleInputChange("behavior_type",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",disabled:h,children:O.map(e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Severity *"}),(0,i.jsx)("select",{value:n.severity,onChange:e=>handleInputChange("severity",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",disabled:h,children:U.map(e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Duration (minutes)"}),(0,i.jsx)("input",{type:"number",value:n.duration_minutes,onChange:e=>handleInputChange("duration_minutes",e.target.value),className:(0,k.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",f.duration_minutes?"border-[#FF6B6B]":"border-[#D3D3D3]"),placeholder:"5",min:"1",disabled:h}),f.duration_minutes&&(0,i.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:f.duration_minutes})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Specific Behaviors *"}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:P.map(e=>(0,i.jsx)("button",{type:"button",onClick:()=>handleArrayToggle("behaviors",e),className:(0,k.cn)("px-3 py-1 text-sm rounded-full border transition-colors",n.behaviors.includes(e)?"bg-[#4ECDC4] text-white border-[#4ECDC4]":"bg-white text-[#6D6D6D] border-[#D3D3D3] hover:border-[#4ECDC4]"),disabled:h,children:e},e))}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)("input",{type:"text",value:N,onChange:e=>_(e.target.value),placeholder:"Add custom behavior",className:"flex-1 px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",disabled:h}),(0,i.jsx)("button",{type:"button",onClick:()=>{addCustomItem("behaviors",N),_("")},className:"px-4 py-2 bg-[#4ECDC4] text-white rounded-lg hover:bg-[#3DB9B2] transition-colors",disabled:h||!N.trim(),children:"Add"})]}),n.behaviors.length>0&&(0,i.jsx)("div",{className:"flex flex-wrap gap-2 pt-2",children:n.behaviors.map(e=>(0,i.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-[#4ECDC4] text-white text-sm rounded-full",children:[e,(0,i.jsx)("button",{type:"button",onClick:()=>removeItem("behaviors",e),className:"text-white hover:text-red-200 ml-1",disabled:h,children:(0,i.jsx)(E.Z,{className:"w-3 h-3"})})]},e))}),f.behaviors&&(0,i.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:f.behaviors})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Warning Signs"}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:V.map(e=>(0,i.jsx)("button",{type:"button",onClick:()=>handleArrayToggle("warning_signs",e),className:(0,k.cn)("px-3 py-1 text-sm rounded-full border transition-colors",n.warning_signs.includes(e)?"bg-[#4ECDC4] text-white border-[#4ECDC4]":"bg-white text-[#6D6D6D] border-[#D3D3D3] hover:border-[#4ECDC4]"),disabled:h,children:e},e))}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)("input",{type:"text",value:w,onChange:e=>F(e.target.value),placeholder:"Add custom warning sign",className:"flex-1 px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",disabled:h}),(0,i.jsx)("button",{type:"button",onClick:()=>{addCustomItem("warning_signs",w),F("")},className:"px-4 py-2 bg-[#4ECDC4] text-white rounded-lg hover:bg-[#3DB9B2] transition-colors",disabled:h||!w.trim(),children:"Add"})]}),n.warning_signs.length>0&&(0,i.jsx)("div",{className:"flex flex-wrap gap-2 pt-2",children:n.warning_signs.map(e=>(0,i.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-[#4ECDC4] text-white text-sm rounded-full",children:[e,(0,i.jsx)("button",{type:"button",onClick:()=>removeItem("warning_signs",e),className:"text-white hover:text-red-200 ml-1",disabled:h,children:(0,i.jsx)(E.Z,{className:"w-3 h-3"})})]},e))})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Triggers Identified"}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:R.map(e=>(0,i.jsx)("button",{type:"button",onClick:()=>handleArrayToggle("triggers_identified",e),className:(0,k.cn)("px-3 py-1 text-sm rounded-full border transition-colors",n.triggers_identified.includes(e)?"bg-[#4ECDC4] text-white border-[#4ECDC4]":"bg-white text-[#6D6D6D] border-[#D3D3D3] hover:border-[#4ECDC4]"),disabled:h,children:e},e))}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)("input",{type:"text",value:C,onChange:e=>D(e.target.value),placeholder:"Add custom trigger",className:"flex-1 px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",disabled:h}),(0,i.jsx)("button",{type:"button",onClick:()=>{addCustomItem("triggers_identified",C),D("")},className:"px-4 py-2 bg-[#4ECDC4] text-white rounded-lg hover:bg-[#3DB9B2] transition-colors",disabled:h||!C.trim(),children:"Add"})]}),n.triggers_identified.length>0&&(0,i.jsx)("div",{className:"flex flex-wrap gap-2 pt-2",children:n.triggers_identified.map(e=>(0,i.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-[#4ECDC4] text-white text-sm rounded-full",children:[e,(0,i.jsx)("button",{type:"button",onClick:()=>removeItem("triggers_identified",e),className:"text-white hover:text-red-200 ml-1",disabled:h,children:(0,i.jsx)(E.Z,{className:"w-3 h-3"})})]},e))})]})]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-[#000000]",children:"Risk Assessment"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("input",{type:"checkbox",id:"harm_to_self",checked:n.harm_to_self,onChange:e=>handleInputChange("harm_to_self",e.target.checked),className:"w-4 h-4 text-[#4ECDC4] rounded focus:ring-[#4ECDC4]",disabled:h}),(0,i.jsx)("label",{htmlFor:"harm_to_self",className:"text-sm text-[#000000]",children:"Harm to Self"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("input",{type:"checkbox",id:"harm_to_others",checked:n.harm_to_others,onChange:e=>handleInputChange("harm_to_others",e.target.checked),className:"w-4 h-4 text-[#4ECDC4] rounded focus:ring-[#4ECDC4]",disabled:h}),(0,i.jsx)("label",{htmlFor:"harm_to_others",className:"text-sm text-[#000000]",children:"Harm to Others"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("input",{type:"checkbox",id:"property_damage",checked:n.property_damage,onChange:e=>handleInputChange("property_damage",e.target.checked),className:"w-4 h-4 text-[#4ECDC4] rounded focus:ring-[#4ECDC4]",disabled:h}),(0,i.jsx)("label",{htmlFor:"property_damage",className:"text-sm text-[#000000]",children:"Property Damage"})]})]}),n.property_damage&&(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Damage Description *"}),(0,i.jsx)("textarea",{value:n.damage_description,onChange:e=>handleInputChange("damage_description",e.target.value),className:(0,k.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] resize-none",f.damage_description?"border-[#FF6B6B]":"border-[#D3D3D3]"),placeholder:"Describe the property damage",rows:2,disabled:h}),f.damage_description&&(0,i.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:f.damage_description})]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-[#000000]",children:"Intervention"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Intervention Used *"}),(0,i.jsx)("textarea",{value:n.intervention_used,onChange:e=>handleInputChange("intervention_used",e.target.value),className:(0,k.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] resize-none",f.intervention_used?"border-[#FF6B6B]":"border-[#D3D3D3]"),placeholder:"Describe the intervention that was used",rows:3,disabled:h}),f.intervention_used&&(0,i.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:f.intervention_used})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("input",{type:"checkbox",id:"intervention_effective",checked:n.intervention_effective,onChange:e=>handleInputChange("intervention_effective",e.target.checked),className:"w-4 h-4 text-[#4ECDC4] rounded focus:ring-[#4ECDC4]",disabled:h}),(0,i.jsx)("label",{htmlFor:"intervention_effective",className:"text-sm text-[#000000]",children:"Intervention was effective"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("input",{type:"checkbox",id:"follow_up_required",checked:n.follow_up_required,onChange:e=>handleInputChange("follow_up_required",e.target.checked),className:"w-4 h-4 text-[#4ECDC4] rounded focus:ring-[#4ECDC4]",disabled:h}),(0,i.jsx)("label",{htmlFor:"follow_up_required",className:"text-sm text-[#000000]",children:"Follow-up required"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Intervention Notes"}),(0,i.jsx)("textarea",{value:n.intervention_notes,onChange:e=>handleInputChange("intervention_notes",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] resize-none",placeholder:"Additional notes about the intervention",rows:2,disabled:h})]}),n.follow_up_required&&(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Follow-up Notes *"}),(0,i.jsx)("textarea",{value:n.follow_up_notes,onChange:e=>handleInputChange("follow_up_notes",e.target.value),className:(0,k.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] resize-none",f.follow_up_notes?"border-[#FF6B6B]":"border-[#D3D3D3]"),placeholder:"Describe the follow-up actions required",rows:2,disabled:h}),f.follow_up_notes&&(0,i.jsx)("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:f.follow_up_notes})]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-[#000000]",children:"Additional Information"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Notes"}),(0,i.jsx)("textarea",{value:n.notes,onChange:e=>handleInputChange("notes",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] resize-none",placeholder:"Any additional notes or observations",rows:3,disabled:h})]})]}),(0,i.jsxs)("div",{className:"flex gap-4 pt-4 border-t border-gray-200",children:[(0,i.jsx)("button",{type:"button",onClick:handleClose,disabled:h,className:"flex-1 px-4 py-2 border border-[#D3D3D3] text-[#6D6D6D] rounded-lg hover:bg-[#F9F5F4] transition-colors disabled:opacity-50",children:"Cancel"}),(0,i.jsx)("button",{type:"submit",disabled:h,className:"flex-1 px-4 py-2 bg-[#4ECDC4] text-white rounded-lg hover:bg-[#3DB9B2] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:h?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Z,{className:"w-4 h-4 animate-spin"}),"Updating..."]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.Z,{className:"w-4 h-4"}),"Update Behavior Log"]})})]})]})]})}):null}function DeleteBehaviorModal(e){var t,s,r;let{isOpen:l,onClose:n,onSuccess:o,behavior:d}=e,[c,x]=(0,a.useState)(!1),handleDelete=async()=>{if(d){x(!0);try{await S.x.deleteBehavior(d.id),I.default.success("Behavior log deleted successfully!"),o(),n()}catch(e){console.error("Error deleting behavior:",e),I.default.error(e.message||"Failed to delete behavior log")}finally{x(!1)}}};return l&&d?(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,i.jsxs)("div",{className:"bg-white rounded-[20px] w-full max-w-md",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("div",{className:"w-10 h-10 bg-[#FF6B6B] rounded-lg flex items-center justify-center",children:(0,i.jsx)(b.Z,{className:"w-5 h-5 text-white"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-xl font-semibold text-[#000000]",children:"Delete Behavior Log"}),(0,i.jsx)("p",{className:"text-sm text-[#6D6D6D]",children:"This action cannot be undone"})]})]}),(0,i.jsx)("button",{onClick:n,disabled:c,className:"p-2 hover:bg-[#F9F5F4] rounded-lg transition-colors",children:(0,i.jsx)(E.Z,{className:"w-5 h-5 text-[#6D6D6D]"})})]}),(0,i.jsxs)("div",{className:"p-6 space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-[#FFF5F5] rounded-lg border border-[#FF6B6B] border-opacity-20",children:[(0,i.jsx)(v.Z,{className:"w-5 h-5 text-[#FF6B6B]"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm font-medium text-[#000000]",children:"Are you sure you want to delete this behavior log?"}),(0,i.jsx)("p",{className:"text-sm text-[#6D6D6D] mt-1",children:"This will permanently remove all data associated with this incident."})]})]}),(0,i.jsxs)("div",{className:"bg-[#F9F5F4] rounded-lg p-4 space-y-3",children:[(0,i.jsx)("h3",{className:"text-sm font-semibold text-[#000000]",children:"Behavior Summary"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-[#6D6D6D]",children:"User:"}),(0,i.jsx)("div",{className:"text-[#000000] font-medium",children:(null===(t=d.user)||void 0===t?void 0:t.full_name)||"".concat(null===(s=d.user)||void 0===s?void 0:s.first_name," ").concat(null===(r=d.user)||void 0===r?void 0:r.last_name)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-[#6D6D6D]",children:"Date & Time:"}),(0,i.jsxs)("div",{className:"text-[#000000] font-medium",children:[(0,k.p6)(d.date)," at ",(0,k.mr)(d.time)]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-[#6D6D6D]",children:"Location:"}),(0,i.jsx)("div",{className:"text-[#000000] font-medium capitalize",children:d.location.replace("_"," ")})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-[#6D6D6D]",children:"Severity:"}),(0,i.jsx)("div",{children:(0,i.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat((e=>{switch(e){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(d.severity)),children:d.severity.charAt(0).toUpperCase()+d.severity.slice(1)})})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-[#6D6D6D] text-sm",children:"Behavior Type:"}),(0,i.jsx)("div",{className:"text-[#000000] font-medium capitalize",children:d.behavior_type.replace("_"," ")})]}),d.behaviors&&d.behaviors.length>0&&(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-[#6D6D6D] text-sm",children:"Behaviors:"}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[d.behaviors.slice(0,3).map((e,t)=>(0,i.jsx)("span",{className:"px-2 py-1 bg-[#4ECDC4] text-white text-xs rounded-full",children:e},t)),d.behaviors.length>3&&(0,i.jsxs)("span",{className:"px-2 py-1 bg-[#D3D3D3] text-[#6D6D6D] text-xs rounded-full",children:["+",d.behaviors.length-3," more"]})]})]}),d.follow_up_required&&(0,i.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,i.jsx)(v.Z,{className:"w-4 h-4 text-[#FF6B6B]"}),(0,i.jsx)("span",{className:"text-[#FF6B6B] font-medium",children:"Follow-up required"})]})]}),(0,i.jsx)("div",{className:"bg-[#FFF5F5] border border-[#FF6B6B] border-opacity-20 rounded-lg p-4",children:(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[(0,i.jsx)(v.Z,{className:"w-5 h-5 text-[#FF6B6B] mt-0.5"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm font-medium text-[#000000]",children:"This action is irreversible"}),(0,i.jsx)("p",{className:"text-sm text-[#6D6D6D] mt-1",children:"Once deleted, this behavior log and all associated data will be permanently removed from the system. This includes any photos, videos, notes, and intervention records."})]})]})})]}),(0,i.jsxs)("div",{className:"flex gap-4 p-6 border-t border-gray-200",children:[(0,i.jsx)("button",{type:"button",onClick:n,disabled:c,className:"flex-1 px-4 py-2 border border-[#D3D3D3] text-[#6D6D6D] rounded-lg hover:bg-[#F9F5F4] transition-colors disabled:opacity-50",children:"Cancel"}),(0,i.jsx)("button",{type:"button",onClick:handleDelete,disabled:c,className:"flex-1 px-4 py-2 bg-[#FF6B6B] text-white rounded-lg hover:bg-[#FF5252] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:c?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Z,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(b.Z,{className:"w-4 h-4"}),"Delete Behavior Log"]})})]})]})}):null}let BehaviorChart=e=>{let{behaviors:t}=e,s=Array.from({length:7},(e,t)=>{let s=new Date;return s.setDate(s.getDate()-t),s.toISOString().split("T")[0]}).reverse(),a=s.map(e=>t.filter(t=>t.date===e).length),r={labels:s.map(e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})),datasets:[{label:"Behaviors",data:a,backgroundColor:"#FF6B6B",borderColor:"#FF5252",borderWidth:2,tension:.4}]};return(0,i.jsxs)("div",{className:"card p-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-card-title",children:"Behavior Trends (Last 7 Days)"}),(0,i.jsx)(n.Z,{className:"w-5 h-5 text-nav-icon"})]}),(0,i.jsx)("div",{className:"h-64",children:(0,i.jsx)(w.x1,{data:r,options:{...F.q_,plugins:{...F.q_.plugins,legend:{display:!1}},scales:{x:{...F.q_.scales.x,grid:{display:!1}},y:{...F.q_.scales.y,beginAtZero:!0,ticks:{...F.q_.scales.y.ticks,stepSize:1}}}}})})]})},SeverityChart=e=>{let{behaviors:t}=e,s={low:t.filter(e=>"low"===e.severity).length,medium:t.filter(e=>"medium"===e.severity).length,high:t.filter(e=>"high"===e.severity).length,critical:t.filter(e=>"critical"===e.severity).length},a={labels:["Low","Medium","High","Critical"],datasets:[{label:"Behaviors by Severity",data:[s.low,s.medium,s.high,s.critical],backgroundColor:["#4ECDC4","#FFA726","#FF6B6B","#D32F2F"],borderColor:["#3DB9B2","#FF9800","#FF5252","#C62828"],borderWidth:2,borderRadius:4}]};return(0,i.jsxs)("div",{className:"card p-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-card-title",children:"Behaviors by Severity"}),(0,i.jsx)(n.Z,{className:"w-5 h-5 text-nav-icon"})]}),(0,i.jsx)("div",{className:"h-64",children:(0,i.jsx)(w.$Q,{data:a,options:{...F.q_,plugins:{...F.q_.plugins,legend:{display:!1}},scales:{x:{...F.q_.scales.x,grid:{display:!1}},y:{...F.q_.scales.y,beginAtZero:!0,ticks:{...F.q_.scales.y.ticks,stepSize:1}}}}})})]})},BehaviorCard=e=>{let{behavior:t,onEdit:s,onDelete:r}=e,[l,n]=(0,a.useState)(!1),[_,C]=(0,a.useState)(!1),handleDelete=async()=>{C(!0);try{await r(t.id),n(!1)}catch(e){console.error("Error deleting behavior:",e)}finally{C(!1)}};return(0,i.jsxs)("div",{className:"card p-6",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,i.jsx)("h3",{className:"font-semibold text-card-title",children:t.user.full_name}),t.is_critical&&(0,i.jsx)(o.Z,{className:"w-4 h-4 text-red-500"}),t.requires_immediate_attention&&(0,i.jsx)(d.Z,{className:"w-4 h-4 text-orange-500"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(c.Z,{className:"w-4 h-4 text-nav-icon"}),(0,i.jsxs)("span",{className:"text-sm text-card-subtext",children:[(0,k.p6)(t.date)," at ",(0,k.mr)(t.time)]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(x.Z,{className:"w-4 h-4 text-nav-icon"}),(0,i.jsxs)("span",{className:"text-sm text-card-subtext",children:[t.location,t.specific_location&&" - ".concat(t.specific_location)]})]}),t.duration_minutes&&(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(m.Z,{className:"w-4 h-4 text-nav-icon"}),(0,i.jsxs)("span",{className:"text-sm text-card-subtext",children:["Duration: ",t.duration_minutes," minutes"]})]})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("span",{className:(0,k.cn)("px-2 py-1 rounded-full text-xs font-medium",(e=>{switch(e){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(t.severity)),children:t.severity}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("button",{onClick:()=>n(!l),className:"p-2 rounded-lg hover:bg-bg-highlight transition-colors",disabled:_,children:_?(0,i.jsx)(u.Z,{className:"w-4 h-4 animate-spin"}):(0,i.jsx)(h.Z,{className:"w-4 h-4 text-nav-icon"})}),l&&(0,i.jsx)("div",{className:"absolute right-0 top-full mt-2 w-48 bg-bg-primary border border-border-default rounded-lg shadow-card z-50",children:(0,i.jsxs)("div",{className:"py-2",children:[(0,i.jsxs)("button",{onClick:()=>s(t),className:"w-full flex items-center gap-3 px-4 py-2 text-left hover:bg-bg-highlight transition-colors",children:[(0,i.jsx)(p.Z,{className:"w-4 h-4 text-nav-icon"}),(0,i.jsx)("span",{className:"text-sm text-text-primary",children:"View Details"})]}),(0,i.jsxs)("button",{onClick:()=>s(t),className:"w-full flex items-center gap-3 px-4 py-2 text-left hover:bg-bg-highlight transition-colors",children:[(0,i.jsx)(g.Z,{className:"w-4 h-4 text-nav-icon"}),(0,i.jsx)("span",{className:"text-sm text-text-primary",children:"Edit"})]}),(0,i.jsxs)("button",{onClick:handleDelete,disabled:_,className:"w-full flex items-center gap-3 px-4 py-2 text-left hover:bg-bg-highlight transition-colors text-text-danger",children:[_?(0,i.jsx)(u.Z,{className:"w-4 h-4 animate-spin"}):(0,i.jsx)(b.Z,{className:"w-4 h-4"}),(0,i.jsx)("span",{className:"text-sm",children:"Delete"})]})]})})]})]})]}),(0,i.jsx)("div",{className:"mb-4",children:(0,i.jsx)("span",{className:(0,k.cn)("px-3 py-1 rounded-full text-xs font-medium border",(e=>{switch(e){case"aggression":return"bg-red-50 text-red-700 border-red-200";case"self_injury":return"bg-purple-50 text-purple-700 border-purple-200";case"property_damage":return"bg-orange-50 text-orange-700 border-orange-200";case"elopement":return"bg-blue-50 text-blue-700 border-blue-200";case"non_compliance":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"disruption":return"bg-pink-50 text-pink-700 border-pink-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}})(t.behavior_type)),children:t.behavior_type.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())})}),t.behaviors&&t.behaviors.length>0&&(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("p",{className:"text-xs text-card-subtext mb-2",children:"Behaviors Observed:"}),(0,i.jsx)("div",{className:"flex flex-wrap gap-1",children:t.behaviors.map((e,t)=>(0,i.jsx)("span",{className:"px-2 py-1 bg-btn-primary/10 text-btn-primary rounded-full text-xs",children:e},t))})]}),(t.harm_to_self||t.harm_to_others||t.property_damage)&&(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("p",{className:"text-xs text-card-subtext mb-2",children:"Impact:"}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-2",children:[t.harm_to_self&&(0,i.jsxs)("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs flex items-center gap-1",children:[(0,i.jsx)(v.Z,{className:"w-3 h-3"}),"Harm to Self"]}),t.harm_to_others&&(0,i.jsxs)("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs flex items-center gap-1",children:[(0,i.jsx)(f.Z,{className:"w-3 h-3"}),"Harm to Others"]}),t.property_damage&&(0,i.jsxs)("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 rounded-full text-xs flex items-center gap-1",children:[(0,i.jsx)(j.Z,{className:"w-3 h-3"}),"Property Damage"]})]})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("p",{className:"text-xs text-card-subtext mb-2",children:"Intervention:"}),(0,i.jsx)("p",{className:"text-sm text-card-subtext",children:t.intervention_used||"No intervention specified"}),void 0!==t.intervention_effective&&(0,i.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[t.intervention_effective?(0,i.jsx)(y.Z,{className:"w-4 h-4 text-green-500"}):(0,i.jsx)(N.Z,{className:"w-4 h-4 text-red-500"}),(0,i.jsx)("span",{className:"text-xs text-card-subtext",children:t.intervention_effective?"Effective":"Ineffective"})]})]}),t.follow_up_required&&(0,i.jsxs)("div",{className:"mt-4 pt-4 border-t border-border-default",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(o.Z,{className:"w-4 h-4 text-orange-500"}),(0,i.jsx)("span",{className:"text-sm font-medium text-orange-700",children:"Follow-up Required"})]}),t.follow_up_notes&&(0,i.jsx)("p",{className:"text-sm text-card-subtext mt-1",children:t.follow_up_notes})]}),t.notes&&(0,i.jsxs)("div",{className:"mt-4 pt-4 border-t border-border-default",children:[(0,i.jsx)("p",{className:"text-xs text-card-subtext mb-2",children:"Notes:"}),(0,i.jsx)("p",{className:"text-sm text-card-subtext",children:t.notes})]})]})},BehaviorTable=e=>{let{behaviors:t,onEdit:s,onDelete:a}=e;return(0,i.jsxs)("div",{className:"card p-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-card-title",children:"All Behaviors"}),(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(_.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-text-muted"}),(0,i.jsx)("input",{type:"text",placeholder:"Search behaviors...",className:"input-field pl-10 w-64"})]}),(0,i.jsxs)("select",{className:"input-field w-32",children:[(0,i.jsx)("option",{value:"all",children:"All Severity"}),(0,i.jsx)("option",{value:"critical",children:"Critical"}),(0,i.jsx)("option",{value:"high",children:"High"}),(0,i.jsx)("option",{value:"medium",children:"Medium"}),(0,i.jsx)("option",{value:"low",children:"Low"})]})]})]}),(0,i.jsx)("div",{className:"overflow-x-auto",children:(0,i.jsxs)("table",{className:"w-full",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{className:"border-b border-border-default",children:[(0,i.jsx)("th",{className:"text-left py-3 px-4 font-medium text-text-primary",children:"Client"}),(0,i.jsx)("th",{className:"text-left py-3 px-4 font-medium text-text-primary",children:"Date & Time"}),(0,i.jsx)("th",{className:"text-left py-3 px-4 font-medium text-text-primary",children:"Type"}),(0,i.jsx)("th",{className:"text-left py-3 px-4 font-medium text-text-primary",children:"Severity"}),(0,i.jsx)("th",{className:"text-left py-3 px-4 font-medium text-text-primary",children:"Location"}),(0,i.jsx)("th",{className:"text-left py-3 px-4 font-medium text-text-primary",children:"Duration"}),(0,i.jsx)("th",{className:"text-left py-3 px-4 font-medium text-text-primary",children:"Impact"}),(0,i.jsx)("th",{className:"text-left py-3 px-4 font-medium text-text-primary",children:"Intervention"}),(0,i.jsx)("th",{className:"text-left py-3 px-4 font-medium text-text-primary",children:"Actions"})]})}),(0,i.jsx)("tbody",{children:t.map(e=>(0,i.jsxs)("tr",{className:"border-b border-border-default hover:bg-bg-highlight",children:[(0,i.jsx)("td",{className:"py-3 px-4",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-text-primary font-medium",children:e.user.full_name}),(0,i.jsx)("p",{className:"text-sm text-text-secondary",children:e.user.email})]})}),(0,i.jsx)("td",{className:"py-3 px-4",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-text-primary",children:(0,k.p6)(e.date)}),(0,i.jsx)("p",{className:"text-sm text-text-secondary",children:(0,k.mr)(e.time)})]})}),(0,i.jsx)("td",{className:"py-3 px-4",children:(0,i.jsx)("span",{className:"px-2 py-1 bg-btn-primary/10 text-btn-primary rounded-full text-xs",children:e.behavior_type.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())})}),(0,i.jsx)("td",{className:"py-3 px-4",children:(0,i.jsx)("span",{className:(0,k.cn)("px-2 py-1 rounded-full text-xs font-medium","critical"===e.severity&&"bg-red-100 text-red-800","high"===e.severity&&"bg-orange-100 text-orange-800","medium"===e.severity&&"bg-yellow-100 text-yellow-800","low"===e.severity&&"bg-green-100 text-green-800"),children:e.severity})}),(0,i.jsx)("td",{className:"py-3 px-4",children:(0,i.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs",children:e.location})}),(0,i.jsx)("td",{className:"py-3 px-4 text-text-secondary",children:e.duration_minutes?"".concat(e.duration_minutes,"m"):"-"}),(0,i.jsx)("td",{className:"py-3 px-4",children:(0,i.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.harm_to_self&&(0,i.jsx)("span",{className:"px-1 py-0.5 bg-red-100 text-red-800 rounded text-xs",children:"Self"}),e.harm_to_others&&(0,i.jsx)("span",{className:"px-1 py-0.5 bg-red-100 text-red-800 rounded text-xs",children:"Others"}),e.property_damage&&(0,i.jsx)("span",{className:"px-1 py-0.5 bg-orange-100 text-orange-800 rounded text-xs",children:"Property"})]})}),(0,i.jsx)("td",{className:"py-3 px-4",children:(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[void 0!==e.intervention_effective&&(e.intervention_effective?(0,i.jsx)(y.Z,{className:"w-4 h-4 text-green-500"}):(0,i.jsx)(N.Z,{className:"w-4 h-4 text-red-500"})),(0,i.jsx)("span",{className:"text-sm text-card-subtext",children:e.intervention_used?e.intervention_used.substring(0,30)+"...":"No intervention specified"})]})}),(0,i.jsx)("td",{className:"py-3 px-4",children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("button",{onClick:()=>s(e),className:"p-1 text-nav-icon hover:bg-bg-highlight rounded",title:"View Details",children:(0,i.jsx)(p.Z,{className:"w-4 h-4"})}),(0,i.jsx)("button",{onClick:()=>s(e),className:"p-1 text-nav-icon hover:bg-bg-highlight rounded",title:"Edit Behavior",children:(0,i.jsx)(g.Z,{className:"w-4 h-4"})}),(0,i.jsx)("button",{onClick:()=>a(e.id),className:"p-1 text-text-danger hover:bg-text-danger/10 rounded",title:"Delete Behavior",children:(0,i.jsx)(b.Z,{className:"w-4 h-4"})})]})})]},e.id))})]})})]})};function BehaviorsPage(){let{behaviors:e,isLoading:t,mutate:s}=(0,B.SU)(),[n,d]=(0,a.useState)("grid"),[x,h]=(0,a.useState)(""),[p,g]=(0,a.useState)("all"),[b,j]=(0,a.useState)("all"),[N,w]=(0,a.useState)("all"),[F,E]=(0,a.useState)(!1),[Z,S]=(0,a.useState)(!1),[I,q]=(0,a.useState)(!1),[A,T]=(0,a.useState)(null),L=e.filter(e=>{var t,s,i;let a=(null===(t=e.user.full_name)||void 0===t?void 0:t.toLowerCase().includes(x.toLowerCase()))||e.behaviors&&e.behaviors.some(e=>e.toLowerCase().includes(x.toLowerCase()))||(null===(s=e.intervention_used)||void 0===s?void 0:s.toLowerCase().includes(x.toLowerCase()))||(null===(i=e.notes)||void 0===i?void 0:i.toLowerCase().includes(x.toLowerCase())),r="all"===p||e.severity===p,l="all"===b||e.behavior_type===b,n="all"===N||e.location===N;return a&&r&&l&&n}),handleEditBehavior=e=>{T(e),S(!0)},handleDeleteBehavior=t=>{let s=e.find(e=>e.id===t);s&&(T(s),q(!0))},handleModalSuccess=()=>{s()};return t?(0,i.jsx)(r.Z,{children:(0,i.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)(u.Z,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-btn-primary"}),(0,i.jsx)("p",{className:"text-text-secondary",children:"Loading behaviors..."})]})})}):(0,i.jsxs)(r.Z,{children:[(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsx)(l.Z,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Behaviors"}]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"Behavior Management"}),(0,i.jsx)("p",{className:"text-text-secondary",children:"Track, analyze, and manage client behaviors and interventions"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)("div",{className:"flex items-center bg-bg-highlight rounded-lg p-1",children:[(0,i.jsx)("button",{onClick:()=>d("grid"),className:(0,k.cn)("px-3 py-1 rounded-md text-sm font-medium transition-colors","grid"===n?"bg-bg-primary text-text-primary shadow-sm":"text-text-secondary hover:text-text-primary"),children:"Grid"}),(0,i.jsx)("button",{onClick:()=>d("table"),className:(0,k.cn)("px-3 py-1 rounded-md text-sm font-medium transition-colors","table"===n?"bg-bg-primary text-text-primary shadow-sm":"text-text-secondary hover:text-text-primary"),children:"Table"})]}),(0,i.jsxs)("button",{onClick:()=>E(!0),className:"btn-primary flex items-center gap-2",children:[(0,i.jsx)(C.Z,{className:"w-4 h-4"}),"Log Behavior"]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,i.jsx)("div",{className:"card p-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm text-card-subtext",children:"Total Behaviors"}),(0,i.jsx)("p",{className:"text-2xl font-bold text-card-title",children:e.length})]}),(0,i.jsx)("div",{className:"w-12 h-12 bg-btn-primary rounded-lg flex items-center justify-center",children:(0,i.jsx)(v.Z,{className:"w-6 h-6 text-white"})})]})}),(0,i.jsx)("div",{className:"card p-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm text-card-subtext",children:"Critical Behaviors"}),(0,i.jsx)("p",{className:"text-2xl font-bold text-card-title",children:e.filter(e=>e.is_critical).length})]}),(0,i.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:(0,i.jsx)(o.Z,{className:"w-6 h-6 text-red-800"})})]})}),(0,i.jsx)("div",{className:"card p-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm text-card-subtext",children:"Follow-up Required"}),(0,i.jsx)("p",{className:"text-2xl font-bold text-card-title",children:e.filter(e=>e.follow_up_required).length})]}),(0,i.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,i.jsx)(m.Z,{className:"w-6 h-6 text-orange-800"})})]})}),(0,i.jsx)("div",{className:"card p-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm text-card-subtext",children:"Intervention Success"}),(0,i.jsxs)("p",{className:"text-2xl font-bold text-card-title",children:[(()=>{let t=e.filter(e=>!0===e.intervention_effective).length,s=e.filter(e=>void 0!==e.intervention_effective).length;return 0===s?0:Math.round(t/s*100)})(),"%"]})]}),(0,i.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,i.jsx)(y.Z,{className:"w-6 h-6 text-green-800"})})]})})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,i.jsx)("div",{className:"card p-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm text-card-subtext",children:"High Severity"}),(0,i.jsx)("p",{className:"text-2xl font-bold text-card-title",children:e.filter(e=>"high"===e.severity).length+e.filter(e=>"critical"===e.severity).length})]}),(0,i.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,i.jsx)(D.Z,{className:"w-6 h-6 text-orange-800"})})]})}),(0,i.jsx)("div",{className:"card p-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm text-card-subtext",children:"Aggression"}),(0,i.jsx)("p",{className:"text-2xl font-bold text-card-title",children:e.filter(e=>"aggression"===e.behavior_type).length})]}),(0,i.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:(0,i.jsx)(f.Z,{className:"w-6 h-6 text-red-800"})})]})}),(0,i.jsx)("div",{className:"card p-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm text-card-subtext",children:"Self-Injury"}),(0,i.jsx)("p",{className:"text-2xl font-bold text-card-title",children:e.filter(e=>"self_injury"===e.behavior_type).length})]}),(0,i.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,i.jsx)(v.Z,{className:"w-6 h-6 text-purple-800"})})]})}),(0,i.jsx)("div",{className:"card p-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm text-card-subtext",children:"This Week"}),(0,i.jsx)("p",{className:"text-2xl font-bold text-card-title",children:e.filter(e=>{let t=new Date(e.date),s=new Date;return s.setDate(s.getDate()-7),t>=s}).length})]}),(0,i.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,i.jsx)(c.Z,{className:"w-6 h-6 text-blue-800"})})]})})]}),(0,i.jsx)("div",{className:"card p-6",children:(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)("div",{className:"relative flex-1",children:[(0,i.jsx)(_.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-text-muted"}),(0,i.jsx)("input",{type:"text",placeholder:"Search by client name, behaviors, intervention, or notes...",value:x,onChange:e=>h(e.target.value),className:"input-field pl-10"})]}),(0,i.jsxs)("select",{value:p,onChange:e=>g(e.target.value),className:"input-field w-40",children:[(0,i.jsx)("option",{value:"all",children:"All Severity"}),(0,i.jsx)("option",{value:"critical",children:"Critical"}),(0,i.jsx)("option",{value:"high",children:"High"}),(0,i.jsx)("option",{value:"medium",children:"Medium"}),(0,i.jsx)("option",{value:"low",children:"Low"})]}),(0,i.jsxs)("select",{value:b,onChange:e=>j(e.target.value),className:"input-field w-40",children:[(0,i.jsx)("option",{value:"all",children:"All Types"}),(0,i.jsx)("option",{value:"aggression",children:"Aggression"}),(0,i.jsx)("option",{value:"self_injury",children:"Self-Injury"}),(0,i.jsx)("option",{value:"property_damage",children:"Property Damage"}),(0,i.jsx)("option",{value:"elopement",children:"Elopement"}),(0,i.jsx)("option",{value:"non_compliance",children:"Non-Compliance"}),(0,i.jsx)("option",{value:"disruption",children:"Disruption"}),(0,i.jsx)("option",{value:"other",children:"Other"})]}),(0,i.jsxs)("select",{value:N,onChange:e=>w(e.target.value),className:"input-field w-32",children:[(0,i.jsx)("option",{value:"all",children:"All Locations"}),(0,i.jsx)("option",{value:"home",children:"Home"}),(0,i.jsx)("option",{value:"school",children:"School"}),(0,i.jsx)("option",{value:"community",children:"Community"}),(0,i.jsx)("option",{value:"therapy",children:"Therapy"}),(0,i.jsx)("option",{value:"transport",children:"Transport"}),(0,i.jsx)("option",{value:"other",children:"Other"})]})]})}),0===L.length?(0,i.jsxs)("div",{className:"card p-12 text-center",children:[(0,i.jsx)(v.Z,{className:"w-12 h-12 text-text-muted mx-auto mb-4"}),(0,i.jsx)("h3",{className:"text-lg font-semibold text-card-title mb-2",children:"No behaviors found"}),(0,i.jsx)("p",{className:"text-text-secondary",children:x||"all"!==p||"all"!==b||"all"!==N?"Try adjusting your search or filters":"No behaviors have been logged yet"})]}):"grid"===n?(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:L.map(e=>(0,i.jsx)(BehaviorCard,{behavior:e,onEdit:handleEditBehavior,onDelete:handleDeleteBehavior},e.id))}):(0,i.jsx)(BehaviorTable,{behaviors:L,onEdit:handleEditBehavior,onDelete:handleDeleteBehavior}),e.length>0&&(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,i.jsx)(BehaviorChart,{behaviors:e}),(0,i.jsx)(SeverityChart,{behaviors:e})]})]}),(0,i.jsx)(AddBehaviorModal,{isOpen:F,onClose:()=>E(!1),onSuccess:handleModalSuccess}),(0,i.jsx)(EditBehaviorModal,{isOpen:Z,onClose:()=>S(!1),onSuccess:handleModalSuccess,behavior:A}),(0,i.jsx)(DeleteBehaviorModal,{isOpen:I,onClose:()=>q(!1),onSuccess:handleModalSuccess,behavior:A})]})}},6527:function(e,t,s){"use strict";s.d(t,{q_:function(){return a}});var i=s(6704);i.kL.register(i.uw,i.f$,i.od,i.jn,i.ZL,i.qi,i.Dx,i.u,i.De,i.Gu);let a={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#000000",font:{size:12}}},tooltip:{backgroundColor:"#FFFFFF",titleColor:"#000000",bodyColor:"#6D6D6D",borderColor:"#E0E0E0",borderWidth:1,cornerRadius:8,displayColors:!0}},scales:{x:{grid:{color:"#E5E5E5",drawBorder:!1},ticks:{color:"#6D6D6D",font:{size:11}}},y:{grid:{color:"#E5E5E5",drawBorder:!1},ticks:{color:"#6D6D6D",font:{size:11}}}}}}},function(e){e.O(0,[674,186,607,462,149,180,390,971,472,744],function(){return e(e.s=1905)}),_N_E=e.O()}]);