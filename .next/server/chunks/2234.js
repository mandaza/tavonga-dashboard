exports.id=2234,exports.ids=[2234],exports.modules={3037:(e,t,r)=>{Promise.resolve().then(r.bind(r,6927)),Promise.resolve().then(r.bind(r,788)),Promise.resolve().then(r.bind(r,345))},6099:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3724,23)),Promise.resolve().then(r.t.bind(r,5365,23)),Promise.resolve().then(r.t.bind(r,4900,23)),Promise.resolve().then(r.t.bind(r,4714,23)),Promise.resolve().then(r.t.bind(r,5392,23)),Promise.resolve().then(r.t.bind(r,8898,23))},6927:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>SWRProvider});var s=r(784),a=r(5592);function SWRProvider({children:e}){return s.jsx(a.J$,{value:{fetcher:async e=>{let t=await fetch(e,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"}});if(!t.ok)throw Error(`HTTP error! status: ${t.status}`);return t.json()},revalidateOnFocus:!1,revalidateOnReconnect:!0,errorRetryCount:3,errorRetryInterval:5e3},children:e})}},4292:(e,t,r)=>{"use strict";r.d(t,{x:()=>s});let ApiClient=class ApiClient{constructor(e){this.baseURL=e}async request(e,t={}){let r=`${this.baseURL}${e}`,s=this.getAuthToken(),a={"Content-Type":"application/json",...t.headers||{}};s&&(a.Authorization=`Bearer ${s}`);let i={...t,headers:a};try{let e=await fetch(r,i);if(!e.ok){let t=await e.json().catch(()=>({}));throw Error(t.error||`HTTP error! status: ${e.status}`)}return await e.json()}catch(e){throw console.error("API request failed:",e),e}}getAuthToken(){return null}setAuthToken(e){}clearAuthToken(){}async login(e){let t=await this.request("/users/login",{method:"POST",body:JSON.stringify(e)});return this.setAuthToken(t.tokens.access),t}async register(e){let t=await this.request("/users",{method:"POST",body:JSON.stringify(e)});return t}async logout(){this.clearAuthToken()}async getProfile(){return this.request("/users/profile")}async updateProfile(e){return this.request("/users/update_profile",{method:"PUT",body:JSON.stringify(e)})}async changePassword(e){return this.request("/users/change_password",{method:"PUT",body:JSON.stringify(e)})}async getClients(e){let t=e?`?${new URLSearchParams(e).toString()}`:"";return this.request(`/clients${t}`)}async getClient(e){return this.request(`/clients/${e}`)}async createClient(e){return this.request("/clients",{method:"POST",body:JSON.stringify(e)})}async updateClient(e,t){return this.request(`/clients/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteClient(e){return this.request(`/clients/${e}`,{method:"DELETE"})}async getClientSummary(){return this.request("/clients/summary")}async getClientContacts(e){return this.request(`/clients/${e}/contacts`)}async getUsers(e){let t=e?`?${new URLSearchParams(e).toString()}`:"";return this.request(`/users${t}`)}async approveUser(e){return this.request(`/users/${e}/approve`,{method:"POST"})}async disableUser(e){return this.request(`/users/${e}/disable`,{method:"POST"})}async enableUser(e){return this.request(`/users/${e}/enable`,{method:"POST"})}async updateUser(e,t){return this.request(`/users/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteUser(e){return this.request(`/users/${e}`,{method:"DELETE"})}async getBehaviors(e){let t=e?`?${new URLSearchParams(e).toString()}`:"";return this.request(`/behaviors${t}`)}async getBehavior(e){return this.request(`/behaviors/${e}`)}async createBehavior(e){return this.request("/behaviors",{method:"POST",body:JSON.stringify(e)})}async updateBehavior(e,t){return this.request(`/behaviors/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteBehavior(e){return this.request(`/behaviors/${e}`,{method:"DELETE"})}async getMyBehaviors(){return this.request("/behaviors/my_behaviors")}async getCriticalBehaviors(){return this.request("/behaviors/critical")}async getTodayBehaviors(){return this.request("/behaviors/today")}async getActivities(e){let t=e?`?${new URLSearchParams(e).toString()}`:"";return this.request(`/activities${t}`)}async getActivity(e){return this.request(`/activities/${e}`)}async createActivity(e){return this.request("/activities",{method:"POST",body:JSON.stringify(e)})}async updateActivity(e,t){return this.request(`/activities/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteActivity(e){return this.request(`/activities/${e}`,{method:"DELETE"})}async getActivityLogs(e){let t=e?`?${new URLSearchParams(e).toString()}`:"";return this.request(`/activities/logs${t}`)}async createActivityLog(e){return this.request("/activities/logs",{method:"POST",body:JSON.stringify(e)})}async updateActivityLog(e,t){return this.request(`/activities/logs/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteActivityLog(e){return this.request(`/activities/logs/${e}`,{method:"DELETE"})}async getActivityLog(e){return this.request(`/activities/logs/${e}`)}async getTodayActivities(){return this.request("/activities/logs/today")}async getMyActivities(){return this.request("/activities/logs/my_activities")}async getOverdueActivities(){return this.request("/activities/logs/overdue")}async getActivityAnalytics(e){let t=e?`?${new URLSearchParams(e).toString()}`:"";return this.request(`/activities/logs/analytics${t}`)}async getMasteryTracking(e){let t=e?`?${new URLSearchParams(e).toString()}`:"";return this.request(`/activities/logs/mastery_tracking${t}`)}async getSchedules(e){let t=e?`?${new URLSearchParams(e).toString()}`:"";return this.request(`/scheduler/schedules${t}`)}async getSchedule(e){return this.request(`/scheduler/schedules/${e}`)}async createSchedule(e){return this.request("/scheduler/schedules",{method:"POST",body:JSON.stringify(e)})}async updateSchedule(e,t){return this.request(`/scheduler/schedules/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteSchedule(e){return this.request(`/scheduler/schedules/${e}`,{method:"DELETE"})}async getScheduleCalendar(e,t){return this.request(`/scheduler/schedules/calendar?start_date=${e}&end_date=${t}`)}async getTodaySchedules(){return this.request("/scheduler/schedules/today")}async getUpcomingSchedules(){return this.request("/scheduler/schedules/upcoming")}async getOverdueSchedules(){return this.request("/scheduler/schedules/overdue")}async performScheduleAction(e,t,r){return this.request(`/scheduler/schedules/${e}/quick_action`,{method:"POST",body:JSON.stringify({action:t,...r})})}async rescheduleActivity(e,t,r,s){return this.request(`/scheduler/schedules/${e}/reschedule`,{method:"POST",body:JSON.stringify({new_date:t,new_time:r,reason:s})})}async getScheduleStats(){return this.request("/scheduler/schedules/stats")}async getScheduleConflicts(){return this.request("/scheduler/schedules/conflicts")}async getGoals(e){let t=e?`?${new URLSearchParams(e).toString()}`:"";return this.request(`/goals${t}`)}async getGoal(e){return this.request(`/goals/${e}`)}async createGoal(e){return this.request("/goals",{method:"POST",body:JSON.stringify(e)})}async updateGoal(e,t){return this.request(`/goals/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteGoal(e){return this.request(`/goals/${e}`,{method:"DELETE"})}async trackGoalProgress(e,t){return this.request(`/goals/${e}/track`,{method:"POST",body:JSON.stringify(t)})}async getShifts(e){let t=e?`?${new URLSearchParams(e).toString()}`:"";return this.request(`/shifts${t}`)}async getShift(e){return this.request(`/shifts/${e}`)}async createShift(e){return this.request("/shifts",{method:"POST",body:JSON.stringify(e)})}async updateShift(e,t){return this.request(`/shifts/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteShift(e){return this.request(`/shifts/${e}`,{method:"DELETE"})}async clockIn(e,t){return this.request(`/shifts/${e}/clock-in`,{method:"POST",body:JSON.stringify({location:t})})}async clockOut(e,t){return this.request(`/shifts/${e}/clock-out`,{method:"PATCH",body:JSON.stringify({location:t})})}async getMyShifts(){return this.request("/shifts/my_shifts")}async getBehaviorReports(e){let t=e?`?${new URLSearchParams(e).toString()}`:"";return this.request(`/reports/behaviors${t}`)}async getActivityReports(e){let t=e?`?${new URLSearchParams(e).toString()}`:"";return this.request(`/reports/activities${t}`)}async getShiftReports(e){let t=e?`?${new URLSearchParams(e).toString()}`:"";return this.request(`/reports/shifts${t}`)}async uploadMedia(e,t){let r=new FormData;r.append("file",e),t&&r.append("metadata",JSON.stringify(t));let s=this.getAuthToken(),a={};s&&(a.Authorization=`Bearer ${s}`);let i=await fetch(`${this.baseURL}/media/upload`,{method:"POST",headers:a,body:r});if(!i.ok)throw Error(`Upload failed: ${i.status}`);return i.json()}async getDashboardStats(){return this.request("/dashboard/stats")}async generateBehaviorReport(e){let t=e?`?${new URLSearchParams(e).toString()}`:"",r=await fetch(`${this.baseURL}/reports/behaviors${t}`,{headers:{Authorization:`Bearer ${this.getAuthToken()}`}});if(!r.ok)throw Error(`HTTP error! status: ${r.status}`);return r.blob()}async generateActivityReport(e){let t=e?`?${new URLSearchParams(e).toString()}`:"",r=await fetch(`${this.baseURL}/reports/activities${t}`,{headers:{Authorization:`Bearer ${this.getAuthToken()}`}});if(!r.ok)throw Error(`HTTP error! status: ${r.status}`);return r.blob()}async generateShiftReport(e){let t=e?`?${new URLSearchParams(e).toString()}`:"",r=await fetch(`${this.baseURL}/reports/shifts${t}`,{headers:{Authorization:`Bearer ${this.getAuthToken()}`}});if(!r.ok)throw Error(`HTTP error! status: ${r.status}`);return r.blob()}async generateGoalReport(e){let t=e?`?${new URLSearchParams(e).toString()}`:"",r=await fetch(`${this.baseURL}/reports/goals${t}`,{headers:{Authorization:`Bearer ${this.getAuthToken()}`}});if(!r.ok)throw Error(`HTTP error! status: ${r.status}`);return r.blob()}async generateScheduleReport(e){let t=e?`?${new URLSearchParams(e).toString()}`:"",r=await fetch(`${this.baseURL}/reports/schedules${t}`,{headers:{Authorization:`Bearer ${this.getAuthToken()}`}});if(!r.ok)throw Error(`HTTP error! status: ${r.status}`);return r.blob()}};let s=new ApiClient("https://jellyfish-app-ho48c.ondigitalocean.app/api/v1")},788:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AuthProvider:()=>AuthProvider,useAuth:()=>useAuth,useIsAdmin:()=>useIsAdmin,useIsApproved:()=>useIsApproved,useRequireAdmin:()=>useRequireAdmin,useRequireAuth:()=>useRequireAuth});var s=r(784),a=r(9885),i=r(7114),n=r(4292),o=r(345);let u=(0,a.createContext)(void 0);function AuthProvider({children:e}){let[t,r]=(0,a.useState)(null),[c,h]=(0,a.useState)(!0),l=(0,i.useRouter)();(0,a.useEffect)(()=>{checkAuth()},[]);let checkAuth=async()=>{try{let e=localStorage.getItem("access_token");if(e){let e=await n.x.getProfile();r(e)}}catch(e){console.error("Auth check failed:",e),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")}finally{h(!1)}},login=async(e,t)=>{try{h(!0);let s=await n.x.login({email:e,password:t});r(s.user),o.default.success("Login successful!"),l.push("/dashboard")}catch(e){throw o.default.error(e.message||"Login failed"),e}finally{h(!1)}},register=async e=>{try{h(!0),await n.x.register(e),o.default.success("Registration successful! Please wait for admin approval."),l.push("/login")}catch(e){throw o.default.error(e.message||"Registration failed"),e}finally{h(!1)}},updateProfile=async e=>{try{let t=await n.x.updateProfile(e);r(t),o.default.success("Profile updated successfully")}catch(e){throw o.default.error(e.message||"Profile update failed"),e}};return s.jsx(u.Provider,{value:{user:t,loading:c,login,register,logout:()=>{n.x.logout(),r(null),o.default.success("Logged out successfully"),l.push("/login")},updateProfile},children:e})}function useAuth(){let e=(0,a.useContext)(u);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function useIsAdmin(){let{user:e}=useAuth();return e?.is_admin||!1}function useIsApproved(){let{user:e}=useAuth();return e?.approved||!1}function useRequireAuth(){let{user:e,loading:t}=useAuth(),r=(0,i.useRouter)();return(0,a.useEffect)(()=>{t||e||r.push("/login")},[e,t,r]),{user:e,loading:t}}function useRequireAdmin(){let{user:e,loading:t}=useRequireAuth(),r=(0,i.useRouter)();return(0,a.useEffect)(()=>{t||!e||e.is_admin||r.push("/dashboard")},[e,t,r]),{user:e,loading:t}}},498:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>RootLayout,metadata:()=>S});var s=r(4656),a=r(1326),i=r.n(a);r(7272);var n=r(8204),o=r(5153);let u=(0,o.createProxy)(String.raw`/Users/mandaza/Documents/Project/tavonga/web-app/lib/auth.tsx`),{__esModule:c,$$typeof:h}=u;u.default;let l=(0,o.createProxy)(String.raw`/Users/mandaza/Documents/Project/tavonga/web-app/lib/auth.tsx#AuthProvider`);(0,o.createProxy)(String.raw`/Users/mandaza/Documents/Project/tavonga/web-app/lib/auth.tsx#useAuth`),(0,o.createProxy)(String.raw`/Users/mandaza/Documents/Project/tavonga/web-app/lib/auth.tsx#useIsAdmin`),(0,o.createProxy)(String.raw`/Users/mandaza/Documents/Project/tavonga/web-app/lib/auth.tsx#useIsApproved`),(0,o.createProxy)(String.raw`/Users/mandaza/Documents/Project/tavonga/web-app/lib/auth.tsx#useRequireAuth`),(0,o.createProxy)(String.raw`/Users/mandaza/Documents/Project/tavonga/web-app/lib/auth.tsx#useRequireAdmin`);let d=(0,o.createProxy)(String.raw`/Users/mandaza/Documents/Project/tavonga/web-app/components/SWRProvider.tsx`),{__esModule:y,$$typeof:g}=d,m=d.default,S={title:"Tavonga CareConnect Admin Dashboard",description:"Admin dashboard for Tavonga Autism & Intellectual Disability Support System"};function RootLayout({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:i().className,children:s.jsx(m,{children:(0,s.jsxs)(l,{children:[e,s.jsx(n.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#F9F5F4",color:"#000000",border:"1px solid #E0E0E0",borderRadius:"12px"}}})]})})})})}},7272:()=>{}};