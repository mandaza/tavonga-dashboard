(()=>{var e={};e.id=2849,e.ids=[2849],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7310:e=>{"use strict";e.exports=require("url")},814:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>r.a,__next_app__:()=>x,originalPathname:()=>o,pages:()=>m,routeModule:()=>h,tree:()=>c});var a=s(7096),l=s(6132),i=s(7284),r=s.n(i),n=s(2564),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let c=["",{children:["clients",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4972)),"/Users/mandaza/Documents/Project/tavonga/web-app/app/clients/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,498)),"/Users/mandaza/Documents/Project/tavonga/web-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],m=["/Users/mandaza/Documents/Project/tavonga/web-app/app/clients/page.tsx"],o="/clients/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/clients/page",pathname:"/clients",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4869:(e,t,s)=>{Promise.resolve().then(s.bind(s,9816))},9816:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ClientsPage});var a=s(784),l=s(9885),i=s(6729),r=s(7194),n=s(87),d=s(2385),c=s(9518),m=s(2029),o=s(9458),x=s(6206),h=s(5131),p=s(3680),u=s(517),b=s(3436),g=s(4571),j=s(1672),f=s(8626),v=s(9494),N=s(6303),_=s(7371),y=s(1814),C=s(1831),w=s(8699),k=s(4292),S=s(788),I=s(345),P=s(2995);function AddClientModal({isOpen:e,onClose:t,onClientAdded:s}){let[i,r]=(0,l.useState)("basic"),[d,c]=(0,l.useState)(!1),[m,o]=(0,l.useState)({}),[h,u]=(0,l.useState)({first_name:"",middle_name:"",last_name:"",preferred_name:"",date_of_birth:"",gender:"prefer_not_to_say",address:"",phone:"",email:"",diagnosis:"",secondary_diagnoses:"",allergies:"",medications:"",medical_notes:"",care_level:"medium",interests:"",likes:"",dislikes:"",communication_preferences:"",behavioral_triggers:"",calming_strategies:"",notes:"",client_id:""}),handleInputChange=(e,t)=>{u(s=>({...s,[e]:t})),m[e]&&o(t=>({...t,[e]:""}))},validateForm=()=>{let e={};return h.first_name.trim()||(e.first_name="First name is required"),h.last_name.trim()||(e.last_name="Last name is required"),h.date_of_birth||(e.date_of_birth="Date of birth is required"),h.diagnosis.trim()||(e.diagnosis="Primary diagnosis is required"),h.client_id.trim()||(e.client_id="Client ID is required"),o(e),0===Object.keys(e).length},handleSubmit=async e=>{if(e.preventDefault(),validateForm()){c(!0);try{let e={...h,behavioral_triggers:h.behavioral_triggers?h.behavioral_triggers.split(",").map(e=>e.trim()).filter(e=>e):[],calming_strategies:h.calming_strategies?h.calming_strategies.split(",").map(e=>e.trim()).filter(e=>e):[]},t=await k.x.createClient(e);s(t),I.default.success("Client created successfully!"),handleClose()}catch(e){I.default.error(e.message||"Failed to create client")}finally{c(!1)}}},handleClose=()=>{u({first_name:"",middle_name:"",last_name:"",preferred_name:"",date_of_birth:"",gender:"prefer_not_to_say",address:"",phone:"",email:"",diagnosis:"",secondary_diagnoses:"",allergies:"",medications:"",medical_notes:"",care_level:"medium",interests:"",likes:"",dislikes:"",communication_preferences:"",behavioral_triggers:"",calming_strategies:"",notes:"",client_id:""}),o({}),r("basic"),t()},g=[{id:"basic",label:"Basic Info",icon:p.Z},{id:"medical",label:"Medical",icon:b.Z},{id:"personal",label:"Personal",icon:_.Z},{id:"behavioral",label:"Behavioral",icon:y.Z}];return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"card max-w-4xl w-full max-h-[90vh] overflow-hidden",children:(0,a.jsxs)("form",{onSubmit:handleSubmit,className:"h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-card-border",children:[a.jsx("h2",{className:"text-xl font-bold text-card-title",children:"Add New Client"}),a.jsx("button",{type:"button",onClick:handleClose,className:"p-2 hover:bg-bg-highlight rounded-lg transition-colors",children:a.jsx(x.Z,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"flex items-center gap-1 bg-bg-highlight p-1 m-6 mb-0 rounded-lg",children:g.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>r(e.id),className:(0,w.cn)("flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors flex-1 justify-center",i===e.id?"bg-bg-primary text-text-primary shadow-sm":"text-text-secondary hover:text-text-primary"),children:[a.jsx(e.icon,{className:"w-4 h-4"}),e.label]},e.id))}),(0,a.jsxs)("div",{className:"flex-1 overflow-auto p-6",children:["basic"===i&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"First Name *"}),a.jsx("input",{type:"text",value:h.first_name,onChange:e=>handleInputChange("first_name",e.target.value),className:(0,w.cn)("input-field",m.first_name&&"border-red-500"),placeholder:"Enter first name",disabled:d}),m.first_name&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.first_name})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Last Name *"}),a.jsx("input",{type:"text",value:h.last_name,onChange:e=>handleInputChange("last_name",e.target.value),className:(0,w.cn)("input-field",m.last_name&&"border-red-500"),placeholder:"Enter last name",disabled:d}),m.last_name&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.last_name})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Middle Name"}),a.jsx("input",{type:"text",value:h.middle_name,onChange:e=>handleInputChange("middle_name",e.target.value),className:"input-field",placeholder:"Enter middle name (optional)",disabled:d})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Preferred Name"}),a.jsx("input",{type:"text",value:h.preferred_name,onChange:e=>handleInputChange("preferred_name",e.target.value),className:"input-field",placeholder:"What they like to be called",disabled:d})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Client ID *"}),a.jsx("input",{type:"text",value:h.client_id,onChange:e=>handleInputChange("client_id",e.target.value),className:(0,w.cn)("input-field",m.client_id&&"border-red-500"),placeholder:"e.g. CLI-TV-001",disabled:d}),m.client_id&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.client_id})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Date of Birth *"}),a.jsx("input",{type:"date",value:h.date_of_birth,onChange:e=>handleInputChange("date_of_birth",e.target.value),className:(0,w.cn)("input-field",m.date_of_birth&&"border-red-500"),disabled:d}),m.date_of_birth&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.date_of_birth})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Gender"}),(0,a.jsxs)("select",{value:h.gender,onChange:e=>handleInputChange("gender",e.target.value),className:"input-field",disabled:d,children:[a.jsx("option",{value:"male",children:"Male"}),a.jsx("option",{value:"female",children:"Female"}),a.jsx("option",{value:"other",children:"Other"}),a.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Care Level"}),(0,a.jsxs)("select",{value:h.care_level,onChange:e=>handleInputChange("care_level",e.target.value),className:"input-field",disabled:d,children:[a.jsx("option",{value:"low",children:"Low Support"}),a.jsx("option",{value:"medium",children:"Medium Support"}),a.jsx("option",{value:"high",children:"High Support"}),a.jsx("option",{value:"critical",children:"Critical Support"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Phone"}),a.jsx("input",{type:"tel",value:h.phone,onChange:e=>handleInputChange("phone",e.target.value),className:"input-field",placeholder:"Enter phone number",disabled:d})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Email"}),a.jsx("input",{type:"email",value:h.email,onChange:e=>handleInputChange("email",e.target.value),className:"input-field",placeholder:"Enter email address",disabled:d})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Address"}),a.jsx("textarea",{value:h.address,onChange:e=>handleInputChange("address",e.target.value),className:"input-field",rows:3,placeholder:"Enter address",disabled:d})]})]}),"medical"===i&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Primary Diagnosis *"}),a.jsx("textarea",{value:h.diagnosis,onChange:e=>handleInputChange("diagnosis",e.target.value),className:(0,w.cn)("input-field",m.diagnosis&&"border-red-500"),rows:3,placeholder:"Enter primary diagnosis and conditions",disabled:d}),m.diagnosis&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.diagnosis})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Secondary Diagnoses"}),a.jsx("textarea",{value:h.secondary_diagnoses,onChange:e=>handleInputChange("secondary_diagnoses",e.target.value),className:"input-field",rows:3,placeholder:"Additional diagnoses or conditions",disabled:d})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Allergies"}),a.jsx("textarea",{value:h.allergies,onChange:e=>handleInputChange("allergies",e.target.value),className:"input-field",rows:3,placeholder:"Known allergies and reactions",disabled:d})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Current Medications"}),a.jsx("textarea",{value:h.medications,onChange:e=>handleInputChange("medications",e.target.value),className:"input-field",rows:3,placeholder:"Current medications and dosages",disabled:d})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Medical Notes"}),a.jsx("textarea",{value:h.medical_notes,onChange:e=>handleInputChange("medical_notes",e.target.value),className:"input-field",rows:3,placeholder:"Additional medical information",disabled:d})]})]}),"personal"===i&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Interests & Hobbies"}),a.jsx("textarea",{value:h.interests,onChange:e=>handleInputChange("interests",e.target.value),className:"input-field",rows:3,placeholder:"Client's interests and hobbies",disabled:d})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Likes"}),a.jsx("textarea",{value:h.likes,onChange:e=>handleInputChange("likes",e.target.value),className:"input-field",rows:3,placeholder:"Things the client enjoys",disabled:d})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Dislikes"}),a.jsx("textarea",{value:h.dislikes,onChange:e=>handleInputChange("dislikes",e.target.value),className:"input-field",rows:3,placeholder:"Things the client dislikes or finds distressing",disabled:d})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Communication Preferences"}),a.jsx("textarea",{value:h.communication_preferences,onChange:e=>handleInputChange("communication_preferences",e.target.value),className:"input-field",rows:3,placeholder:"How the client prefers to communicate",disabled:d})]})]}),"behavioral"===i&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Behavioral Triggers"}),a.jsx("textarea",{value:h.behavioral_triggers,onChange:e=>handleInputChange("behavioral_triggers",e.target.value),className:"input-field",rows:3,placeholder:"Enter triggers separated by commas",disabled:d}),a.jsx("p",{className:"text-xs text-text-muted mt-1",children:"Separate multiple triggers with commas (e.g. loud noises, crowds, bright lights)"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Calming Strategies"}),a.jsx("textarea",{value:h.calming_strategies,onChange:e=>handleInputChange("calming_strategies",e.target.value),className:"input-field",rows:3,placeholder:"Enter strategies separated by commas",disabled:d}),a.jsx("p",{className:"text-xs text-text-muted mt-1",children:"Separate multiple strategies with commas (e.g. deep breathing, music, quiet space)"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"General Notes"}),a.jsx("textarea",{value:h.notes,onChange:e=>handleInputChange("notes",e.target.value),className:"input-field",rows:4,placeholder:"Any additional notes about the client",disabled:d})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-card-border",children:[a.jsx("button",{type:"button",onClick:handleClose,disabled:d,className:"btn-secondary",children:"Cancel"}),(0,a.jsxs)("button",{type:"submit",disabled:d,className:"btn-primary flex items-center gap-2",children:[d?a.jsx(n.Z,{className:"w-4 h-4 animate-spin"}):a.jsx(P.Z,{className:"w-4 h-4"}),"Create Client"]})]})]})})}):null}function ClientsPage(){let{user:e}=(0,S.useAuth)(),[t,s]=(0,l.useState)([]),[P,Z]=(0,l.useState)(!0),[D,A]=(0,l.useState)(""),[M,E]=(0,l.useState)(!1),[q,F]=(0,l.useState)(!1),[L,z]=(0,l.useState)(!1),[T,$]=(0,l.useState)(null),[G,B]=(0,l.useState)(!1),[U,H]=(0,l.useState)(1),[O,V]=(0,l.useState)(1),[W,Y]=(0,l.useState)(0),[K,R]=(0,l.useState)({search:"",care_level:"",is_active:"true",primary_support_worker:""}),[X,J]=(0,l.useState)(!1);(0,l.useEffect)(()=>{fetchClients()},[U,K]);let fetchClients=async()=>{try{Z(!0);let e={page:U,page_size:12};K.search&&(e.search=K.search),K.care_level&&(e.care_level=K.care_level),K.is_active&&(e.is_active=K.is_active),K.primary_support_worker&&(e.primary_support_worker=K.primary_support_worker);let t=await k.x.getClients(e);s(t.results||[]),V(Math.ceil((t.count||0)/12)),Y(t.count||0)}catch(e){I.default.error(e.message||"Failed to fetch clients")}finally{Z(!1)}},handleSearch=e=>{A(e),R(t=>({...t,search:e})),H(1)},handleFilterChange=(e,t)=>{R(s=>({...s,[e]:t})),H(1)},handleViewClient=e=>{$(e),F(!0)},handleEditClient=e=>{$(e),(0,I.default)("Edit functionality would open here")},handleDeleteClient=e=>{$(e),z(!0)},confirmDelete=async()=>{if(T){B(!0);try{await k.x.deleteClient(T.id),s(e=>e.filter(e=>e.id!==T.id)),z(!1),$(null),I.default.success("Client deleted successfully")}catch(e){I.default.error(e.message||"Failed to delete client")}finally{B(!1)}}},getCareLevelColor=e=>{switch(e){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-orange-100 text-orange-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},getAge=e=>{let t=new Date,s=new Date(e),a=t.getFullYear()-s.getFullYear(),l=t.getMonth()-s.getMonth();return(l<0||0===l&&t.getDate()<s.getDate())&&a--,a};return P&&0===t.length?a.jsx(i.Z,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(n.Z,{className:"w-8 h-8 animate-spin text-btn-primary"})})}):a.jsx(i.Z,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx(r.Z,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Clients"}]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"Client Management"}),(0,a.jsxs)("p",{className:"text-text-secondary",children:["Manage and view all clients in the system (",W," total)"]})]}),(0,a.jsxs)("button",{onClick:()=>E(!0),className:"btn-primary flex items-center gap-2",children:[a.jsx(d.Z,{className:"w-4 h-4"}),"Add New Client"]})]}),(0,a.jsxs)("div",{className:"card p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[a.jsx(c.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-text-muted"}),a.jsx("input",{type:"text",placeholder:"Search clients by name, ID, or diagnosis...",value:D,onChange:e=>handleSearch(e.target.value),className:"input-field pl-10"})]}),(0,a.jsxs)("button",{onClick:()=>J(!X),className:(0,w.cn)("flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors",X?"bg-btn-primary text-white border-btn-primary":"bg-white text-text-primary border-card-border hover:bg-bg-highlight"),children:[a.jsx(m.Z,{className:"w-4 h-4"}),"Filters",a.jsx(o.Z,{className:(0,w.cn)("w-4 h-4 transition-transform",X&&"rotate-180")})]})]}),X&&(0,a.jsxs)("div",{className:"border-t border-card-border pt-4 grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Care Level"}),(0,a.jsxs)("select",{value:K.care_level,onChange:e=>handleFilterChange("care_level",e.target.value),className:"input-field",children:[a.jsx("option",{value:"",children:"All Levels"}),a.jsx("option",{value:"low",children:"Low Support"}),a.jsx("option",{value:"medium",children:"Medium Support"}),a.jsx("option",{value:"high",children:"High Support"}),a.jsx("option",{value:"critical",children:"Critical Support"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Status"}),(0,a.jsxs)("select",{value:K.is_active,onChange:e=>handleFilterChange("is_active",e.target.value),className:"input-field",children:[a.jsx("option",{value:"",children:"All Clients"}),a.jsx("option",{value:"true",children:"Active"}),a.jsx("option",{value:"false",children:"Inactive"})]})]}),a.jsx("div",{className:"md:col-span-2 flex items-end gap-2",children:(0,a.jsxs)("button",{onClick:()=>{R({search:"",care_level:"",is_active:"true",primary_support_worker:""}),A(""),H(1)},className:"btn-secondary flex items-center gap-2",children:[a.jsx(x.Z,{className:"w-4 h-4"}),"Clear Filters"]})})]})]}),0===t.length?(0,a.jsxs)("div",{className:"card p-12 text-center",children:[a.jsx(h.Z,{className:"w-16 h-16 text-text-muted mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-text-primary mb-2",children:"No Clients Found"}),a.jsx("p",{className:"text-text-secondary mb-6",children:K.search||K.care_level?"No clients match your current filters.":"Get started by adding your first client."}),!K.search&&!K.care_level&&a.jsx("button",{onClick:()=>E(!0),className:"btn-primary",children:"Add First Client"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(e=>(0,a.jsxs)("div",{className:"card p-6 hover:shadow-lg transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-icon-profile-container rounded-full flex items-center justify-center mr-3",children:e.profile_picture?a.jsx("img",{src:e.profile_picture,alt:e.first_name,className:"w-12 h-12 rounded-full object-cover"}):a.jsx(p.Z,{className:"w-6 h-6 text-icon-profile"})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-card-title text-sm",children:e.preferred_name||`${e.first_name} ${e.last_name}`}),(0,a.jsxs)("p",{className:"text-xs text-card-subtext",children:["ID: ",e.client_id]})]}),a.jsx("div",{className:(0,w.cn)("w-3 h-3 rounded-full",e.is_active?"bg-text-positive":"bg-text-muted")})]}),(0,a.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-card-subtext",children:[a.jsx(u.Z,{className:"w-3 h-3"}),"Age ",getAge(e.date_of_birth)]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-card-subtext",children:[a.jsx(b.Z,{className:"w-3 h-3"}),e.diagnosis.length>30?`${e.diagnosis.substring(0,30)}...`:e.diagnosis]}),e.phone&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-card-subtext",children:[a.jsx(g.Z,{className:"w-3 h-3"}),e.phone]})]}),a.jsx("div",{className:"mb-4",children:(0,a.jsxs)("span",{className:(0,w.cn)("inline-block px-2 py-1 rounded-full text-xs font-medium",getCareLevelColor(e.care_level)),children:[e.care_level.charAt(0).toUpperCase()+e.care_level.slice(1)," Support"]})}),e.primary_support_worker&&(0,a.jsxs)("div",{className:"mb-4 p-2 bg-bg-highlight rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx(j.Z,{className:"w-3 h-3 text-text-positive"}),a.jsx("span",{className:"text-card-subtext",children:"Primary Support:"})]}),(0,a.jsxs)("p",{className:"text-xs font-medium text-card-title mt-1",children:[e.primary_support_worker.first_name," ",e.primary_support_worker.last_name]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{onClick:()=>handleViewClient(e),className:"flex-1 btn-secondary text-xs py-2 flex items-center justify-center gap-1",children:[a.jsx(f.Z,{className:"w-3 h-3"}),"View"]}),(0,a.jsxs)("button",{onClick:()=>handleEditClient(e),className:"flex-1 btn-primary text-xs py-2 flex items-center justify-center gap-1",children:[a.jsx(v.Z,{className:"w-3 h-3"}),"Edit"]}),a.jsx("button",{onClick:()=>handleDeleteClient(e),className:"px-3 py-2 text-text-danger hover:bg-red-50 rounded-lg transition-colors",children:a.jsx(N.Z,{className:"w-3 h-3"})})]})]},e.id))}),O>1&&(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{onClick:()=>H(e=>Math.max(e-1,1)),disabled:1===U,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,a.jsxs)("span",{className:"text-sm text-text-secondary",children:["Page ",U," of ",O]}),a.jsx("button",{onClick:()=>H(e=>Math.min(e+1,O)),disabled:U===O,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),q&&T&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"card max-w-4xl w-full max-h-[90vh] overflow-auto p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-card-title",children:"Client Details"}),a.jsx("button",{onClick:()=>F(!1),className:"p-2 hover:bg-bg-highlight rounded-lg transition-colors",children:a.jsx(x.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-1",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"w-24 h-24 bg-icon-profile-container rounded-full flex items-center justify-center mx-auto mb-4",children:T.profile_picture?a.jsx("img",{src:T.profile_picture,alt:T.first_name,className:"w-24 h-24 rounded-full object-cover"}):a.jsx(p.Z,{className:"w-12 h-12 text-icon-profile"})}),a.jsx("h3",{className:"text-lg font-semibold text-card-title mb-1",children:T.preferred_name||`${T.first_name} ${T.last_name}`}),(0,a.jsxs)("p",{className:"text-card-subtext mb-2",children:["ID: ",T.client_id]}),(0,a.jsxs)("span",{className:(0,w.cn)("inline-block px-3 py-1 rounded-full text-sm font-medium",getCareLevelColor(T.care_level)),children:[T.care_level.charAt(0).toUpperCase()+T.care_level.slice(1)," Support"]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Age"}),(0,a.jsxs)("p",{className:"text-card-subtext",children:[getAge(T.date_of_birth)," years old"]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Gender"}),a.jsx("p",{className:"text-card-subtext capitalize",children:T.gender.replace("_"," ")})]}),T.phone&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Phone"}),a.jsx("p",{className:"text-card-subtext",children:T.phone})]}),T.email&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Email"}),a.jsx("p",{className:"text-card-subtext",children:T.email})]}),T.address&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Address"}),a.jsx("p",{className:"text-card-subtext",children:T.address})]})]})]}),(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-lg font-semibold text-card-title mb-4 flex items-center gap-2",children:[a.jsx(b.Z,{className:"w-5 h-5"}),"Medical Information"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Primary Diagnosis"}),a.jsx("p",{className:"text-card-subtext",children:T.diagnosis})]}),T.secondary_diagnoses&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Secondary Diagnoses"}),a.jsx("p",{className:"text-card-subtext",children:T.secondary_diagnoses})]}),T.allergies&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Allergies"}),a.jsx("p",{className:"text-card-subtext",children:T.allergies})]}),T.medications&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Medications"}),a.jsx("p",{className:"text-card-subtext",children:T.medications})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-lg font-semibold text-card-title mb-4 flex items-center gap-2",children:[a.jsx(_.Z,{className:"w-5 h-5"}),"Personal Information"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[T.interests&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Interests"}),a.jsx("p",{className:"text-card-subtext",children:T.interests})]}),T.likes&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Likes"}),a.jsx("p",{className:"text-card-subtext",children:T.likes})]}),T.dislikes&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Dislikes"}),a.jsx("p",{className:"text-card-subtext",children:T.dislikes})]}),T.communication_preferences&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Communication Preferences"}),a.jsx("p",{className:"text-card-subtext",children:T.communication_preferences})]})]})]}),(T.behavioral_triggers.length>0||T.calming_strategies.length>0)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-lg font-semibold text-card-title mb-4 flex items-center gap-2",children:[a.jsx(y.Z,{className:"w-5 h-5"}),"Behavioral Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.behavioral_triggers.length>0&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-card-title mb-2",children:"Behavioral Triggers"}),a.jsx("div",{className:"space-y-1",children:T.behavioral_triggers.map((e,t)=>a.jsx("span",{className:"inline-block bg-red-100 text-red-800 px-2 py-1 rounded-lg text-xs mr-1 mb-1",children:e},t))})]}),T.calming_strategies.length>0&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-card-title mb-2",children:"Calming Strategies"}),a.jsx("div",{className:"space-y-1",children:T.calming_strategies.map((e,t)=>a.jsx("span",{className:"inline-block bg-green-100 text-green-800 px-2 py-1 rounded-lg text-xs mr-1 mb-1",children:e},t))})]})]})]}),(T.primary_support_worker||T.case_manager||T.support_team.length>0)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-lg font-semibold text-card-title mb-4 flex items-center gap-2",children:[a.jsx(j.Z,{className:"w-5 h-5"}),"Support Team"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[T.primary_support_worker&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Primary Support Worker"}),(0,a.jsxs)("p",{className:"text-card-subtext",children:[T.primary_support_worker.first_name," ",T.primary_support_worker.last_name]})]}),T.case_manager&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-card-title mb-1",children:"Case Manager"}),(0,a.jsxs)("p",{className:"text-card-subtext",children:[T.case_manager.first_name," ",T.case_manager.last_name]})]}),T.support_team.length>0&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-card-title mb-2",children:"Support Team Members"}),a.jsx("div",{className:"space-y-1",children:T.support_team.map((e,t)=>(0,a.jsxs)("span",{className:"inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded-lg text-xs mr-1 mb-1",children:[e.first_name," ",e.last_name]},t))})]})]})]})]})]})]})}),L&&T&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"card max-w-md w-full p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(C.Z,{className:"w-6 h-6 text-red-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-card-title mb-2",children:"Delete Client"}),(0,a.jsxs)("p",{className:"text-card-subtext mb-6",children:["Are you sure you want to delete ",T.preferred_name||`${T.first_name} ${T.last_name}`,"? This action cannot be undone."]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>z(!1),disabled:G,className:"flex-1 btn-secondary",children:"Cancel"}),(0,a.jsxs)("button",{onClick:confirmDelete,disabled:G,className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[G?a.jsx(n.Z,{className:"w-4 h-4 animate-spin"}):a.jsx(N.Z,{className:"w-4 h-4"}),"Delete"]})]})]})})}),a.jsx(AddClientModal,{isOpen:M,onClose:()=>E(!1),onClientAdded:e=>{s(t=>[e,...t]),Y(e=>e+1)}})]})})}},4972:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>r,__esModule:()=>i,default:()=>d});var a=s(5153);let l=(0,a.createProxy)(String.raw`/Users/mandaza/Documents/Project/tavonga/web-app/app/clients/page.tsx`),{__esModule:i,$$typeof:r}=l,n=l.default,d=n}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[4312,9708,6897,516,5564,3120,2234,3672],()=>__webpack_exec__(814));module.exports=s})();