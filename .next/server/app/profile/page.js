(()=>{var e={};e.id=4178,e.ids=[4178],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7310:e=>{"use strict";e.exports=require("url")},93:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>o,originalPathname:()=>m,pages:()=>x,routeModule:()=>h,tree:()=>n});var a=s(7096),i=s(6132),r=s(7284),l=s.n(r),c=s(2564),d={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>c[e]);s.d(t,d);let n=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6408)),"/Users/mandaza/Documents/Project/tavonga/web-app/app/profile/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,498)),"/Users/mandaza/Documents/Project/tavonga/web-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],x=["/Users/mandaza/Documents/Project/tavonga/web-app/app/profile/page.tsx"],m="/profile/page",o={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},2286:(e,t,s)=>{Promise.resolve().then(s.bind(s,1503))},1503:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>UserProfilePage});var a=s(784),i=s(6729),r=s(7194),l=s(87),c=s(1831),d=s(3680),n=s(976),x=s(987),m=s(1672),o=s(776),h=s(517),p=s(9494),j=s(9490),u=s(4571),g=s(7094),v=s(5131),N=s(4901),b=s(5441),f=s(9815),y=s(7932),w=s(7371),_=s(9546),A=s(8973),P=s(8699),Z=s(788),C=s(5905),S=s(7114);let ProfileHeader=({user:e,isLoading:t})=>{let s=(0,S.useRouter)();return t?a.jsx("div",{className:"card p-6",children:a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx(l.Z,{className:"w-8 h-8 animate-spin text-btn-primary"})})}):e?a.jsx("div",{className:"card p-6",children:(0,a.jsxs)("div",{className:"flex items-start gap-6",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx("div",{className:"w-24 h-24 bg-btn-primary/20 rounded-full flex items-center justify-center",children:e.profile_image?a.jsx("img",{src:e.profile_image,alt:e.full_name,className:"w-24 h-24 rounded-full object-cover"}):a.jsx(d.Z,{className:"w-12 h-12 text-btn-primary"})}),a.jsx("button",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-btn-primary rounded-full flex items-center justify-center",children:a.jsx(n.Z,{className:"w-4 h-4 text-white"})})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[a.jsx("h1",{className:"text-3xl font-bold text-text-primary",children:e.full_name}),a.jsx("span",{className:(0,P.cn)("px-3 py-1 rounded-full text-sm font-medium",e.approved?"bg-text-positive/10 text-text-positive":"bg-yellow-100 text-yellow-800"),children:e.approved?"Active":"Pending Approval"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(x.Z,{className:"w-4 h-4 text-nav-icon"}),a.jsx("span",{className:"text-sm text-card-subtext",children:e.is_admin?"Administrator":e.is_active_carer?"Carer":"User"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(m.Z,{className:"w-4 h-4 text-nav-icon"}),a.jsx("span",{className:"text-sm text-card-subtext",children:e.username})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(o.Z,{className:"w-4 h-4 text-nav-icon"}),(0,a.jsxs)("span",{className:"text-sm text-card-subtext",children:["ID: ",e.id]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(h.Z,{className:"w-4 h-4 text-nav-icon"}),(0,a.jsxs)("span",{className:"text-sm text-card-subtext",children:["Since ",(0,P.p6)(e.created_at)]})]})]}),a.jsx("p",{className:"text-card-subtext leading-relaxed",children:e.is_admin?"System administrator with full access to all features and settings.":e.is_active_carer?"Active carer providing support services. Passionate about helping clients achieve their goals.":"Team member contributing to quality care and support services."})]}),(0,a.jsxs)("button",{onClick:()=>s.push("/profile/edit"),className:"btn-primary flex items-center gap-2",children:[a.jsx(p.Z,{className:"w-4 h-4"}),"Edit Profile"]})]})}):a.jsx("div",{className:"card p-6",children:a.jsx("div",{className:"flex items-center justify-center h-32",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(c.Z,{className:"w-8 h-8 text-text-danger mx-auto mb-2"}),a.jsx("p",{className:"text-text-danger",children:"Unable to load profile"})]})})})},ContactInfo=({user:e,isLoading:t})=>t?(0,a.jsxs)("div",{className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-card-title mb-4",children:"Contact Information"}),a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx(l.Z,{className:"w-6 h-6 animate-spin text-btn-primary"})})]}):(0,a.jsxs)("div",{className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-card-title mb-4",children:"Contact Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-btn-primary/10 rounded-lg flex items-center justify-center",children:a.jsx(j.Z,{className:"w-5 h-5 text-btn-primary"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-card-title",children:e?.email||"Not provided"}),a.jsx("p",{className:"text-sm text-card-subtext",children:"Email Address"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-btn-primary/10 rounded-lg flex items-center justify-center",children:a.jsx(u.Z,{className:"w-5 h-5 text-btn-primary"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-card-title",children:e?.phone||"Not provided"}),a.jsx("p",{className:"text-sm text-card-subtext",children:"Phone Number"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-btn-primary/10 rounded-lg flex items-center justify-center",children:a.jsx(g.Z,{className:"w-5 h-5 text-btn-primary"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-card-title",children:e?.address||"Not provided"}),a.jsx("p",{className:"text-sm text-card-subtext",children:"Address"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-btn-primary/10 rounded-lg flex items-center justify-center",children:a.jsx(v.Z,{className:"w-5 h-5 text-btn-primary"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-card-title",children:e?.emergency_contact||"Not provided"}),a.jsx("p",{className:"text-sm text-card-subtext",children:"Emergency Contact"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-btn-primary/10 rounded-lg flex items-center justify-center",children:a.jsx(u.Z,{className:"w-5 h-5 text-btn-primary"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-card-title",children:e?.emergency_phone||"Not provided"}),a.jsx("p",{className:"text-sm text-card-subtext",children:"Emergency Phone"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-btn-primary/10 rounded-lg flex items-center justify-center",children:a.jsx(N.Z,{className:"w-5 h-5 text-btn-primary"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-card-title",children:e?.is_active_carer?"Active Carer":e?.is_admin?"Administrator":"Team Member"}),a.jsx("p",{className:"text-sm text-card-subtext",children:"Role Status"})]})]})]})]})]}),ProfessionalInfo=({user:e,stats:t,isLoading:s})=>s?(0,a.jsxs)("div",{className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-card-title mb-4",children:"Professional Information"}),a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx(l.Z,{className:"w-6 h-6 animate-spin text-btn-primary"})})]}):(0,a.jsxs)("div",{className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-card-title mb-4",children:"Professional Information"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-card-title mb-3",children:"Role & Responsibilities"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e?.is_admin&&a.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm",children:"Administrator"}),e?.is_active_carer&&a.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:"Active Carer"}),e?.approved&&a.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm",children:"Approved"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-card-title mb-3",children:"Experience & Certifications"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("p",{className:"text-sm text-card-subtext",children:[a.jsx("span",{className:"font-medium",children:"Member Since:"})," ",(0,P.p6)(e?.created_at)]}),(0,a.jsxs)("p",{className:"text-sm text-card-subtext",children:[a.jsx("span",{className:"font-medium",children:"Account Status:"})," ",e?.approved?"Approved & Active":"Pending Approval"]}),(0,a.jsxs)("p",{className:"text-sm text-card-subtext",children:[a.jsx("span",{className:"font-medium",children:"User Type:"})," ",e?.is_admin?"System Administrator":e?.is_active_carer?"Professional Carer":"Team Member"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-bg-highlight rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-btn-primary",children:t.totalShifts}),a.jsx("div",{className:"text-sm text-card-subtext",children:"Total Shifts"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-bg-highlight rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-btn-primary",children:t.totalActivities}),a.jsx("div",{className:"text-sm text-card-subtext",children:"Activities Completed"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-bg-highlight rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-btn-primary",children:t.totalBehaviors}),a.jsx("div",{className:"text-sm text-card-subtext",children:"Behavior Logs"})]})]})]})]}),StatisticsCards=({stats:e,isLoading:t})=>t?a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[...Array(6)].map((e,t)=>(0,a.jsxs)("div",{className:"card p-4 text-center",children:[a.jsx(l.Z,{className:"w-6 h-6 animate-spin mx-auto mb-2 text-btn-primary"}),a.jsx("div",{className:"h-6 bg-gray-200 rounded mb-1"}),a.jsx("div",{className:"h-4 bg-gray-100 rounded"})]},t))}):(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,a.jsxs)("div",{className:"card p-4 text-center",children:[a.jsx(b.Z,{className:"w-6 h-6 text-btn-primary mx-auto mb-2"}),a.jsx("div",{className:"text-xl font-bold text-card-title",children:e.totalShifts}),a.jsx("div",{className:"text-xs text-card-subtext",children:"Total Shifts"})]}),(0,a.jsxs)("div",{className:"card p-4 text-center",children:[a.jsx(f.Z,{className:"w-6 h-6 text-btn-primary mx-auto mb-2"}),a.jsx("div",{className:"text-xl font-bold text-card-title",children:e.totalActivities}),a.jsx("div",{className:"text-xs text-card-subtext",children:"Activities"})]}),(0,a.jsxs)("div",{className:"card p-4 text-center",children:[a.jsx(m.Z,{className:"w-6 h-6 text-btn-primary mx-auto mb-2"}),a.jsx("div",{className:"text-xl font-bold text-card-title",children:e.thisMonthActivities}),a.jsx("div",{className:"text-xs text-card-subtext",children:"This Month"})]}),(0,a.jsxs)("div",{className:"card p-4 text-center",children:[a.jsx(y.Z,{className:"w-6 h-6 text-btn-primary mx-auto mb-2"}),a.jsx("div",{className:"text-xl font-bold text-card-title",children:e.completedActivities}),a.jsx("div",{className:"text-xs text-card-subtext",children:"Completed"})]}),(0,a.jsxs)("div",{className:"card p-4 text-center",children:[a.jsx(w.Z,{className:"w-6 h-6 text-btn-primary mx-auto mb-2"}),a.jsx("div",{className:"text-xl font-bold text-card-title",children:e.recentShifts}),a.jsx("div",{className:"text-xs text-card-subtext",children:"Recent Shifts"})]}),(0,a.jsxs)("div",{className:"card p-4 text-center",children:[a.jsx(_.Z,{className:"w-6 h-6 text-btn-primary mx-auto mb-2"}),a.jsx("div",{className:"text-xl font-bold text-card-title",children:e.totalBehaviors}),a.jsx("div",{className:"text-xs text-card-subtext",children:"Behavior Logs"})]})]}),RecentActivity=({activities:e,shifts:t,behaviors:s,isLoading:i})=>{if(i)return(0,a.jsxs)("div",{className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-card-title mb-4",children:"Recent Activity"}),a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx(l.Z,{className:"w-6 h-6 animate-spin text-btn-primary"})})]});let r=[...e.slice(0,3).map(e=>({id:e.id,type:"activity",description:`Completed activity: ${e.activity_name||e.name}`,date:e.scheduled_datetime||e.created_at,status:e.status})),...t.slice(0,2).map(e=>({id:e.id,type:"shift",description:`Shift: ${e.shift_type} shift`,date:e.date,status:e.status})),...s.slice(0,2).map(e=>({id:e.id,type:"behavior",description:`Behavior log: ${e.behavior_type}`,date:e.date,status:"logged"}))].sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).slice(0,5),getActivityIcon=e=>{switch(e){case"activity":default:return f.Z;case"shift":return b.Z;case"behavior":return _.Z}},getActivityColor=(e,t)=>"activity"===e?"completed"===t?"text-green-600":"text-blue-600":"shift"===e?"completed"===t?"text-green-600":"text-orange-600":"text-red-600";return(0,a.jsxs)("div",{className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-card-title mb-4",children:"Recent Activity"}),a.jsx("div",{className:"space-y-4",children:r.length>0?r.map(e=>{let t=getActivityIcon(e.type);return(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-bg-highlight rounded-lg",children:[a.jsx("div",{className:(0,P.cn)("w-8 h-8 rounded-lg flex items-center justify-center","activity"===e.type?"bg-blue-100":"shift"===e.type?"bg-green-100":"bg-red-100"),children:a.jsx(t,{className:(0,P.cn)("w-4 h-4",getActivityColor(e.type,e.status))})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-card-title",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-1",children:[a.jsx("p",{className:"text-sm text-card-subtext",children:(0,P.p6)(e.date)}),a.jsx("span",{className:(0,P.cn)("px-2 py-1 rounded-full text-xs font-medium","completed"===e.status?"bg-green-100 text-green-800":"in_progress"===e.status?"bg-blue-100 text-blue-800":"scheduled"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.status||"logged"})]})]})]},`${e.type}-${e.id}`)}):a.jsx("p",{className:"text-center text-card-subtext py-8",children:"No recent activity to display"})})]})},WorkPreferences=({user:e})=>(0,a.jsxs)("div",{className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-card-title mb-4",children:"Account Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-card-title mb-3",children:"Account Details"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-card-subtext",children:"Username:"}),a.jsx("span",{className:"text-card-title font-medium",children:e?.username})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-card-subtext",children:"User ID:"}),a.jsx("span",{className:"text-card-title font-medium",children:e?.id})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-card-subtext",children:"Account Type:"}),a.jsx("span",{className:"text-card-title font-medium",children:e?.is_admin?"Administrator":e?.is_active_carer?"Carer":"User"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-card-subtext",children:"Status:"}),a.jsx("span",{className:(0,P.cn)("font-medium",e?.approved?"text-green-600":"text-yellow-600"),children:e?.approved?"Approved":"Pending"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-card-title mb-3",children:"Permissions"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-card-subtext",children:"Admin Access"}),a.jsx("span",{className:(0,P.cn)("px-2 py-1 rounded-full text-xs font-medium",e?.is_admin?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"),children:e?.is_admin?"Yes":"No"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-card-subtext",children:"Carer Status"}),a.jsx("span",{className:(0,P.cn)("px-2 py-1 rounded-full text-xs font-medium",e?.is_active_carer?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"),children:e?.is_active_carer?"Active":"Inactive"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-card-subtext",children:"Account Approved"}),a.jsx("span",{className:(0,P.cn)("px-2 py-1 rounded-full text-xs font-medium",e?.approved?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e?.approved?"Yes":"Pending"})]})]})]})]})]}),Achievements=({stats:e})=>(0,a.jsxs)("div",{className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-card-title mb-4",children:"Achievements & Milestones"}),(0,a.jsxs)("div",{className:"space-y-4",children:[e.totalActivities>=100&&(0,a.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-bg-highlight rounded-lg",children:[a.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:a.jsx(A.Z,{className:"w-5 h-5 text-yellow-600"})}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-card-title",children:"Activity Champion"}),a.jsx("p",{className:"text-sm text-card-subtext",children:"Completed 100+ activities"})]})]}),e.totalShifts>=50&&(0,a.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-bg-highlight rounded-lg",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(b.Z,{className:"w-5 h-5 text-blue-600"})}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-card-title",children:"Reliable Carer"}),a.jsx("p",{className:"text-sm text-card-subtext",children:"Completed 50+ shifts"})]})]}),e.totalBehaviors>=20&&(0,a.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-bg-highlight rounded-lg",children:[a.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx(_.Z,{className:"w-5 h-5 text-green-600"})}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-card-title",children:"Detail Oriented"}),a.jsx("p",{className:"text-sm text-card-subtext",children:"Logged 20+ behavior observations"})]})]}),e.totalActivities<10&&e.totalShifts<10&&e.totalBehaviors<5&&(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(A.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-card-subtext",children:"Complete more activities to unlock achievements!"})]})]})]});function UserProfilePage(){let{user:e,loading:t}=(0,Z.useAuth)(),{activities:s,isLoading:d}=(0,C.dP)(),{shifts:n,isLoading:x}=(0,C.Q9)(),{behaviors:m,isLoading:o}=(0,C.sE)(),h={totalShifts:n?.length||0,totalActivities:s?.length||0,totalBehaviors:m?.length||0,completedActivities:s?.filter(e=>"completed"===e.status).length||0,thisMonthActivities:s?.filter(e=>{let t=new Date(e.scheduled_datetime||e.created_at),s=new Date;return t.getMonth()===s.getMonth()&&t.getFullYear()===s.getFullYear()}).length||0,recentShifts:n?.filter(e=>{let t=new Date(e.date),s=new Date;return s.setDate(s.getDate()-7),t>=s}).length||0},p=t||d||x||o;return t?a.jsx(i.Z,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(l.Z,{className:"w-8 h-8 animate-spin text-btn-primary"})})}):e?a.jsx(i.Z,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx(r.Z,{items:[{label:"Dashboard",href:"/dashboard"},{label:"My Profile"}]}),a.jsx(ProfileHeader,{user:e,isLoading:t}),a.jsx(StatisticsCards,{stats:h,isLoading:p}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(ContactInfo,{user:e,isLoading:t}),a.jsx(ProfessionalInfo,{user:e,stats:h,isLoading:p})]}),a.jsx(WorkPreferences,{user:e}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(RecentActivity,{activities:s||[],shifts:n||[],behaviors:m||[],isLoading:p}),a.jsx(Achievements,{stats:h})]})]})}):a.jsx(i.Z,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(c.Z,{className:"w-12 h-12 text-text-danger mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-2",children:"Access Denied"}),a.jsx("p",{className:"text-card-subtext",children:"Please log in to view your profile."})]})})})}},6408:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>d});var a=s(5153);let i=(0,a.createProxy)(String.raw`/Users/mandaza/Documents/Project/tavonga/web-app/app/profile/page.tsx`),{__esModule:r,$$typeof:l}=i,c=i.default,d=c}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[4312,9708,6897,1717,5564,7956,7844,2234,3672,5905],()=>__webpack_exec__(93));module.exports=s})();