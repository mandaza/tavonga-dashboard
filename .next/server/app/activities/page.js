(()=>{var e={};e.id=9018,e.ids=[9018],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7310:e=>{"use strict";e.exports=require("url")},9385:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>r.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>c});var a=s(7096),l=s(6132),i=s(7284),r=s.n(i),n=s(2564),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let c=["",{children:["activities",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1042)),"/Users/mandaza/Documents/Project/tavonga/web-app/app/activities/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,498)),"/Users/mandaza/Documents/Project/tavonga/web-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/mandaza/Documents/Project/tavonga/web-app/app/activities/page.tsx"],x="/activities/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/activities/page",pathname:"/activities",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4433:(e,t,s)=>{Promise.resolve().then(s.bind(s,6811))},6811:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ActivitiesPage});var a=s(784),l=s(9885),i=s(6729),r=s(7194),n=s(2385),d=s(6206),c=s(6315),o=s(6087),x=s(87),m=s(8699),u=s(4292),h=s(345);let g=[{value:"daily_living",label:"Daily Living"},{value:"social",label:"Social"},{value:"educational",label:"Educational"},{value:"recreational",label:"Recreational"},{value:"therapeutic",label:"Therapeutic"},{value:"other",label:"Other"}],p=[{value:"easy",label:"Easy"},{value:"medium",label:"Medium"},{value:"hard",label:"Hard"}];function AddActivityModal({isOpen:e,onClose:t,onSuccess:s}){let[i,r]=(0,l.useState)({name:"",description:"",category:"daily_living",difficulty:"easy",instructions:"",prerequisites:"",estimated_duration:"",primary_goal:"",related_goals:[],goal_contribution_weight:"1.0",image_url:"",video_url:"",is_active:!0}),[b,v]=(0,l.useState)([]),[j,f]=(0,l.useState)(!1),[y,N]=(0,l.useState)(!1),[D,_]=(0,l.useState)({});(0,l.useEffect)(()=>{e&&loadGoals()},[e]);let loadGoals=async()=>{N(!0);try{let e=await u.x.getGoals();v(e.results||[])}catch(e){console.error("Error loading goals:",e),h.default.error("Failed to load goals")}finally{N(!1)}},handleInputChange=(e,t)=>{r(s=>({...s,[e]:t})),D[e]&&_(t=>({...t,[e]:""}))},handleGoalToggle=e=>{r(t=>({...t,related_goals:t.related_goals.includes(e)?t.related_goals.filter(t=>t!==e):[...t.related_goals,e]}))},validateForm=()=>{let e={};return i.name.trim()||(e.name="Activity name is required"),i.description.trim()||(e.description="Description is required"),i.instructions.trim()||(e.instructions="Instructions are required"),i.estimated_duration&&isNaN(Number(i.estimated_duration))&&(e.estimated_duration="Duration must be a valid number"),i.goal_contribution_weight&&isNaN(Number(i.goal_contribution_weight))&&(e.goal_contribution_weight="Weight must be a valid number"),i.image_url&&!isValidUrl(i.image_url)&&(e.image_url="Please enter a valid URL"),i.video_url&&!isValidUrl(i.video_url)&&(e.video_url="Please enter a valid URL"),_(e),0===Object.keys(e).length},isValidUrl=e=>{try{return new URL(e),!0}catch{return!1}},handleSubmit=async e=>{if(e.preventDefault(),validateForm()){f(!0);try{let e={name:i.name,description:i.description,category:i.category,difficulty:i.difficulty,instructions:i.instructions,prerequisites:i.prerequisites||void 0,estimated_duration:i.estimated_duration?parseInt(i.estimated_duration):void 0,primary_goal:i.primary_goal||void 0,related_goals:i.related_goals.length>0?i.related_goals:void 0,goal_contribution_weight:i.goal_contribution_weight?parseFloat(i.goal_contribution_weight):1,image_url:i.image_url||void 0,video_url:i.video_url||void 0,is_active:i.is_active};await u.x.createActivity(e),h.default.success("Activity created successfully!"),s(),handleClose()}catch(e){console.error("Error creating activity:",e),h.default.error(e.message||"Failed to create activity")}finally{f(!1)}}},handleClose=()=>{j||(r({name:"",description:"",category:"daily_living",difficulty:"easy",instructions:"",prerequisites:"",estimated_duration:"",primary_goal:"",related_goals:[],goal_contribution_weight:"1.0",image_url:"",video_url:"",is_active:!0}),_({}),t())};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-[20px] w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-[#4ECDC4] rounded-lg flex items-center justify-center",children:a.jsx(n.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-[#000000]",children:"Add New Activity"}),a.jsx("p",{className:"text-sm text-[#6D6D6D]",children:"Create a new activity for care programs"})]})]}),a.jsx("button",{onClick:handleClose,disabled:j,className:"p-2 hover:bg-[#F9F5F4] rounded-lg transition-colors",children:a.jsx(d.Z,{className:"w-5 h-5 text-[#6D6D6D]"})})]}),(0,a.jsxs)("form",{onSubmit:handleSubmit,className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#000000]",children:"Basic Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Activity Name *"}),a.jsx("input",{type:"text",value:i.name,onChange:e=>handleInputChange("name",e.target.value),className:(0,m.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",D.name?"border-[#FF6B6B]":"border-[#D3D3D3]"),placeholder:"Enter activity name",disabled:j}),D.name&&a.jsx("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:D.name})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Category *"}),a.jsx("select",{value:i.category,onChange:e=>handleInputChange("category",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",disabled:j,children:g.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Description *"}),a.jsx("textarea",{value:i.description,onChange:e=>handleInputChange("description",e.target.value),className:(0,m.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] resize-none",D.description?"border-[#FF6B6B]":"border-[#D3D3D3]"),placeholder:"Describe the activity",rows:3,disabled:j}),D.description&&a.jsx("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:D.description})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Instructions *"}),a.jsx("textarea",{value:i.instructions,onChange:e=>handleInputChange("instructions",e.target.value),className:(0,m.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] resize-none",D.instructions?"border-[#FF6B6B]":"border-[#D3D3D3]"),placeholder:"Provide detailed instructions for the activity",rows:4,disabled:j}),D.instructions&&a.jsx("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:D.instructions})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#000000]",children:"Activity Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Difficulty *"}),a.jsx("select",{value:i.difficulty,onChange:e=>handleInputChange("difficulty",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",disabled:j,children:p.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Duration (minutes)"}),a.jsx("input",{type:"number",value:i.estimated_duration,onChange:e=>handleInputChange("estimated_duration",e.target.value),className:(0,m.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",D.estimated_duration?"border-[#FF6B6B]":"border-[#D3D3D3]"),placeholder:"30",min:"1",disabled:j}),D.estimated_duration&&a.jsx("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:D.estimated_duration})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Goal Weight"}),a.jsx("input",{type:"number",value:i.goal_contribution_weight,onChange:e=>handleInputChange("goal_contribution_weight",e.target.value),className:(0,m.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",D.goal_contribution_weight?"border-[#FF6B6B]":"border-[#D3D3D3]"),placeholder:"1.0",step:"0.1",min:"0",max:"10",disabled:j}),D.goal_contribution_weight&&a.jsx("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:D.goal_contribution_weight})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Prerequisites"}),a.jsx("textarea",{value:i.prerequisites,onChange:e=>handleInputChange("prerequisites",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] resize-none",placeholder:"List any prerequisites or requirements",rows:2,disabled:j})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#000000]",children:"Goal Associations"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Primary Goal"}),(0,a.jsxs)("select",{value:i.primary_goal,onChange:e=>handleInputChange("primary_goal",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",disabled:j||y,children:[a.jsx("option",{value:"",children:"Select a primary goal"}),b.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Related Goals"}),a.jsx("div",{className:"border border-[#D3D3D3] rounded-lg p-3 max-h-32 overflow-y-auto",children:y?a.jsx("div",{className:"text-center text-[#6D6D6D]",children:"Loading goals..."}):0===b.length?a.jsx("div",{className:"text-center text-[#6D6D6D]",children:"No goals available"}):a.jsx("div",{className:"space-y-2",children:b.map(e=>(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:i.related_goals.includes(e.id),onChange:()=>handleGoalToggle(e.id),disabled:j,className:"w-4 h-4 text-[#4ECDC4] border-[#D3D3D3] rounded focus:ring-[#4ECDC4]"}),a.jsx("span",{className:"text-sm text-[#000000]",children:e.name})]},e.id))})})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#000000]",children:"Media & Settings"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:[a.jsx(c.Z,{className:"w-4 h-4 inline mr-1"}),"Image URL"]}),a.jsx("input",{type:"url",value:i.image_url,onChange:e=>handleInputChange("image_url",e.target.value),className:(0,m.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",D.image_url?"border-[#FF6B6B]":"border-[#D3D3D3]"),placeholder:"https://example.com/image.jpg",disabled:j}),D.image_url&&a.jsx("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:D.image_url})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:[a.jsx(o.Z,{className:"w-4 h-4 inline mr-1"}),"Video URL"]}),a.jsx("input",{type:"url",value:i.video_url,onChange:e=>handleInputChange("video_url",e.target.value),className:(0,m.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",D.video_url?"border-[#FF6B6B]":"border-[#D3D3D3]"),placeholder:"https://example.com/video.mp4",disabled:j}),D.video_url&&a.jsx("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:D.video_url})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"is_active",checked:i.is_active,onChange:e=>handleInputChange("is_active",e.target.checked),disabled:j,className:"w-4 h-4 text-[#4ECDC4] border-[#D3D3D3] rounded focus:ring-[#4ECDC4]"}),a.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-[#000000]",children:"Activity is active and available for use"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:handleClose,disabled:j,className:"px-6 py-2 border border-[#E0E0E0] rounded-lg text-[#000000] hover:bg-[#F0F0F0] transition-colors disabled:opacity-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:j,className:"px-6 py-2 bg-[#4ECDC4] text-white rounded-lg hover:bg-[#3DB9B2] transition-colors disabled:opacity-50 flex items-center space-x-2",children:j?(0,a.jsxs)(a.Fragment,{children:[a.jsx(x.Z,{className:"w-4 h-4 animate-spin"}),a.jsx("span",{children:"Creating..."})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(n.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Create Activity"})]})})]})]})]})}):null}var b=s(9494),v=s(9815),j=s(5441),f=s(696),y=s(7094);let N=[{value:"daily_living",label:"Daily Living"},{value:"social",label:"Social"},{value:"educational",label:"Educational"},{value:"recreational",label:"Recreational"},{value:"therapeutic",label:"Therapeutic"},{value:"other",label:"Other"}],D=[{value:"easy",label:"Easy"},{value:"medium",label:"Medium"},{value:"hard",label:"Hard"}];function EditActivityModal({isOpen:e,onClose:t,onSuccess:s,activity:i}){let[r,n]=(0,l.useState)({name:"",description:"",category:"daily_living",difficulty:"easy",instructions:"",prerequisites:"",estimated_duration:"",primary_goal:"",related_goals:[],goal_contribution_weight:"1.0",image_url:"",video_url:"",is_active:!0}),[g,p]=(0,l.useState)([]),[_,C]=(0,l.useState)(!1),[w,F]=(0,l.useState)(!1),[E,B]=(0,l.useState)({});(0,l.useEffect)(()=>{e&&(loadGoals(),i&&populateForm(i))},[e,i]);let loadGoals=async()=>{F(!0);try{let e=await u.x.getGoals();p(e.results||[])}catch(e){console.error("Error loading goals:",e),h.default.error("Failed to load goals")}finally{F(!1)}},populateForm=e=>{n({name:e.name||"",description:e.description||"",category:e.category||"daily_living",difficulty:e.difficulty||"easy",instructions:e.instructions||"",prerequisites:e.prerequisites||"",estimated_duration:e.estimated_duration?e.estimated_duration.toString():"",primary_goal:e.primary_goal?.id||"",related_goals:e.related_goals?.map(e=>e.id)||[],goal_contribution_weight:e.goal_contribution_weight?e.goal_contribution_weight.toString():"1.0",image_url:e.image_url||"",video_url:e.video_url||"",is_active:e.is_active})},handleInputChange=(e,t)=>{n(s=>({...s,[e]:t})),E[e]&&B(t=>({...t,[e]:""}))},handleGoalToggle=e=>{n(t=>({...t,related_goals:t.related_goals.includes(e)?t.related_goals.filter(t=>t!==e):[...t.related_goals,e]}))},validateForm=()=>{let e={};return r.name.trim()||(e.name="Activity name is required"),r.description.trim()||(e.description="Description is required"),r.instructions.trim()||(e.instructions="Instructions are required"),r.estimated_duration&&isNaN(Number(r.estimated_duration))&&(e.estimated_duration="Duration must be a valid number"),r.goal_contribution_weight&&isNaN(Number(r.goal_contribution_weight))&&(e.goal_contribution_weight="Weight must be a valid number"),r.image_url&&!isValidUrl(r.image_url)&&(e.image_url="Please enter a valid URL"),r.video_url&&!isValidUrl(r.video_url)&&(e.video_url="Please enter a valid URL"),B(e),0===Object.keys(e).length},isValidUrl=e=>{try{return new URL(e),!0}catch{return!1}},handleSubmit=async e=>{if(e.preventDefault(),i&&validateForm()){C(!0);try{let e={name:r.name,description:r.description,category:r.category,difficulty:r.difficulty,instructions:r.instructions,prerequisites:r.prerequisites||void 0,estimated_duration:r.estimated_duration?parseInt(r.estimated_duration):void 0,primary_goal:r.primary_goal||void 0,related_goals:r.related_goals.length>0?r.related_goals:void 0,goal_contribution_weight:r.goal_contribution_weight?parseFloat(r.goal_contribution_weight):1,image_url:r.image_url||void 0,video_url:r.video_url||void 0,is_active:r.is_active};await u.x.updateActivity(i.id,e),h.default.success("Activity updated successfully!"),s(),handleClose()}catch(e){console.error("Error updating activity:",e),h.default.error(e.message||"Failed to update activity")}finally{C(!1)}}},handleClose=()=>{_||(B({}),t())};return e&&i?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-[20px] w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-[#4ECDC4] rounded-lg flex items-center justify-center",children:a.jsx(b.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-[#000000]",children:"Edit Activity"}),a.jsx("p",{className:"text-sm text-[#6D6D6D]",children:"Update activity information and settings"})]})]}),a.jsx("button",{onClick:handleClose,disabled:_,className:"p-2 hover:bg-[#F9F5F4] rounded-lg transition-colors",children:a.jsx(d.Z,{className:"w-5 h-5 text-[#6D6D6D]"})})]}),a.jsx("div",{className:"p-6 bg-[#F9F5F4] border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-[#4ECDC4] rounded-lg flex items-center justify-center",children:a.jsx(v.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#000000]",children:i.name}),a.jsx("span",{className:(0,m.cn)("px-2 py-1 rounded-full text-xs font-medium",(e=>{switch(e){case"daily_living":return"bg-green-100 text-green-800";case"social":return"bg-blue-100 text-blue-800";case"educational":return"bg-purple-100 text-purple-800";case"recreational":return"bg-orange-100 text-orange-800";case"therapeutic":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}})(i.category)),children:i.category.replace("_"," ")}),a.jsx("span",{className:(0,m.cn)("px-2 py-1 rounded-full text-xs font-medium",(e=>{switch(e){case"easy":return"bg-[#4ECDC4]/10 text-[#4ECDC4]";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-[#FF6B6B]/10 text-[#FF6B6B]";default:return"bg-gray-100 text-gray-800"}})(i.difficulty)),children:i.difficulty})]}),a.jsx("p",{className:"text-sm text-[#6D6D6D] mb-3",children:i.description}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-[#6D6D6D]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(j.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[i.estimated_duration||"Variable"," mins"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(f.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[i.all_goals?.length||0," goals"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(y.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[i.completion_rate?.toFixed(1)||0,"% completion"]})]})]})]})]})}),(0,a.jsxs)("form",{onSubmit:handleSubmit,className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#000000]",children:"Basic Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Activity Name *"}),a.jsx("input",{type:"text",value:r.name,onChange:e=>handleInputChange("name",e.target.value),className:(0,m.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",E.name?"border-[#FF6B6B]":"border-[#D3D3D3]"),placeholder:"Enter activity name",disabled:_}),E.name&&a.jsx("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:E.name})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Category *"}),a.jsx("select",{value:r.category,onChange:e=>handleInputChange("category",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",disabled:_,children:N.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Description *"}),a.jsx("textarea",{value:r.description,onChange:e=>handleInputChange("description",e.target.value),className:(0,m.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] resize-none",E.description?"border-[#FF6B6B]":"border-[#D3D3D3]"),placeholder:"Describe the activity",rows:3,disabled:_}),E.description&&a.jsx("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:E.description})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Instructions *"}),a.jsx("textarea",{value:r.instructions,onChange:e=>handleInputChange("instructions",e.target.value),className:(0,m.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] resize-none",E.instructions?"border-[#FF6B6B]":"border-[#D3D3D3]"),placeholder:"Provide detailed instructions for the activity",rows:4,disabled:_}),E.instructions&&a.jsx("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:E.instructions})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#000000]",children:"Activity Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Difficulty *"}),a.jsx("select",{value:r.difficulty,onChange:e=>handleInputChange("difficulty",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",disabled:_,children:D.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Duration (minutes)"}),a.jsx("input",{type:"number",value:r.estimated_duration,onChange:e=>handleInputChange("estimated_duration",e.target.value),className:(0,m.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",E.estimated_duration?"border-[#FF6B6B]":"border-[#D3D3D3]"),placeholder:"30",min:"1",disabled:_}),E.estimated_duration&&a.jsx("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:E.estimated_duration})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Goal Weight"}),a.jsx("input",{type:"number",value:r.goal_contribution_weight,onChange:e=>handleInputChange("goal_contribution_weight",e.target.value),className:(0,m.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",E.goal_contribution_weight?"border-[#FF6B6B]":"border-[#D3D3D3]"),placeholder:"1.0",step:"0.1",min:"0",max:"10",disabled:_}),E.goal_contribution_weight&&a.jsx("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:E.goal_contribution_weight})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Prerequisites"}),a.jsx("textarea",{value:r.prerequisites,onChange:e=>handleInputChange("prerequisites",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] resize-none",placeholder:"List any prerequisites or requirements",rows:2,disabled:_})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#000000]",children:"Goal Associations"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Primary Goal"}),(0,a.jsxs)("select",{value:r.primary_goal,onChange:e=>handleInputChange("primary_goal",e.target.value),className:"w-full px-3 py-2 border border-[#D3D3D3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",disabled:_||w,children:[a.jsx("option",{value:"",children:"Select a primary goal"}),g.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:"Related Goals"}),a.jsx("div",{className:"border border-[#D3D3D3] rounded-lg p-3 max-h-32 overflow-y-auto",children:w?a.jsx("div",{className:"text-center text-[#6D6D6D]",children:"Loading goals..."}):0===g.length?a.jsx("div",{className:"text-center text-[#6D6D6D]",children:"No goals available"}):a.jsx("div",{className:"space-y-2",children:g.map(e=>(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:r.related_goals.includes(e.id),onChange:()=>handleGoalToggle(e.id),disabled:_,className:"w-4 h-4 text-[#4ECDC4] border-[#D3D3D3] rounded focus:ring-[#4ECDC4]"}),a.jsx("span",{className:"text-sm text-[#000000]",children:e.name})]},e.id))})})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#000000]",children:"Media & Settings"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:[a.jsx(c.Z,{className:"w-4 h-4 inline mr-1"}),"Image URL"]}),a.jsx("input",{type:"url",value:r.image_url,onChange:e=>handleInputChange("image_url",e.target.value),className:(0,m.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",E.image_url?"border-[#FF6B6B]":"border-[#D3D3D3]"),placeholder:"https://example.com/image.jpg",disabled:_}),E.image_url&&a.jsx("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:E.image_url})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#000000] mb-2",children:[a.jsx(o.Z,{className:"w-4 h-4 inline mr-1"}),"Video URL"]}),a.jsx("input",{type:"url",value:r.video_url,onChange:e=>handleInputChange("video_url",e.target.value),className:(0,m.cn)("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4]",E.video_url?"border-[#FF6B6B]":"border-[#D3D3D3]"),placeholder:"https://example.com/video.mp4",disabled:_}),E.video_url&&a.jsx("p",{className:"mt-1 text-sm text-[#FF6B6B]",children:E.video_url})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"is_active",checked:r.is_active,onChange:e=>handleInputChange("is_active",e.target.checked),disabled:_,className:"w-4 h-4 text-[#4ECDC4] border-[#D3D3D3] rounded focus:ring-[#4ECDC4]"}),a.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-[#000000]",children:"Activity is active and available for use"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:handleClose,disabled:_,className:"px-6 py-2 border border-[#E0E0E0] rounded-lg text-[#000000] hover:bg-[#F0F0F0] transition-colors disabled:opacity-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:_,className:"px-6 py-2 bg-[#4ECDC4] text-white rounded-lg hover:bg-[#3DB9B2] transition-colors disabled:opacity-50 flex items-center space-x-2",children:_?(0,a.jsxs)(a.Fragment,{children:[a.jsx(x.Z,{className:"w-4 h-4 animate-spin"}),a.jsx("span",{children:"Updating..."})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(b.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Update Activity"})]})})]})]})]})}):null}var _=s(6303),C=s(4409),w=s(8937);function DeleteActivityModal({isOpen:e,onClose:t,onSuccess:s,activity:i}){let[r,n]=(0,l.useState)(!1),[c,o]=(0,l.useState)(1),handleDelete=async()=>{if(i){n(!0);try{await u.x.deleteActivity(i.id),h.default.success("Activity deleted successfully!"),s(),handleClose()}catch(e){console.error("Error deleting activity:",e),h.default.error(e.message||"Failed to delete activity")}finally{n(!1)}}},handleClose=()=>{r||(o(1),t())};return e&&i?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-[20px] w-full max-w-2xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-[#FF6B6B] rounded-lg flex items-center justify-center",children:a.jsx(_.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-[#000000]",children:"Delete Activity"}),a.jsx("p",{className:"text-sm text-[#6D6D6D]",children:1===c?"Review activity details":"Confirm deletion"})]})]}),a.jsx("button",{onClick:handleClose,disabled:r,className:"p-2 hover:bg-[#F9F5F4] rounded-lg transition-colors",children:a.jsx(d.Z,{className:"w-5 h-5 text-[#6D6D6D]"})})]}),a.jsx("div",{className:"p-6",children:1===c?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-[#FF6B6B]/10 rounded-lg border border-[#FF6B6B]/20",children:[a.jsx(C.Z,{className:"w-5 h-5 text-[#FF6B6B] mt-0.5"}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-[#FF6B6B] mb-1",children:"Warning"}),a.jsx("p",{className:"text-sm text-[#6D6D6D]",children:"You are about to permanently delete this activity. This action cannot be undone."})]})]}),a.jsx("div",{className:"bg-[#F9F5F4] rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-[#4ECDC4] rounded-lg flex items-center justify-center",children:a.jsx(v.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#000000]",children:i.name}),a.jsx("span",{className:(0,m.cn)("px-2 py-1 rounded-full text-xs font-medium",(e=>{switch(e){case"daily_living":return"bg-green-100 text-green-800";case"social":return"bg-blue-100 text-blue-800";case"educational":return"bg-purple-100 text-purple-800";case"recreational":return"bg-orange-100 text-orange-800";case"therapeutic":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}})(i.category)),children:i.category.replace("_"," ")}),a.jsx("span",{className:(0,m.cn)("px-2 py-1 rounded-full text-xs font-medium",(e=>{switch(e){case"easy":return"bg-[#4ECDC4]/10 text-[#4ECDC4]";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-[#FF6B6B]/10 text-[#FF6B6B]";default:return"bg-gray-100 text-gray-800"}})(i.difficulty)),children:i.difficulty})]}),a.jsx("p",{className:"text-sm text-[#6D6D6D] mb-3",children:i.description}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-[#6D6D6D]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(j.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[i.estimated_duration||"Variable"," mins"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(f.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[i.all_goals?.length||0," goals"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(y.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[i.completion_rate?.toFixed(1)||0,"% completion"]})]})]})]})]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#000000]",children:"Impact Assessment"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white border border-[#E0E0E0] rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-[#000000]",children:"Linked Goals"}),a.jsx(f.Z,{className:"w-4 h-4 text-[#4ECDC4]"})]}),a.jsx("div",{className:"text-2xl font-bold text-[#000000]",children:i.all_goals?.length||0}),a.jsx("p",{className:"text-xs text-[#6D6D6D]",children:"Goals will be unlinked"})]}),(0,a.jsxs)("div",{className:"bg-white border border-[#E0E0E0] rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-[#000000]",children:"Completion Rate"}),a.jsx(v.Z,{className:"w-4 h-4 text-[#4ECDC4]"})]}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-[#000000]",children:[i.completion_rate?.toFixed(1)||0,"%"]}),a.jsx("p",{className:"text-xs text-[#6D6D6D]",children:"Historical data lost"})]}),(0,a.jsxs)("div",{className:"bg-white border border-[#E0E0E0] rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-[#000000]",children:"Status"}),a.jsx(w.Z,{className:"w-4 h-4 text-[#4ECDC4]"})]}),a.jsx("div",{className:"text-2xl font-bold text-[#000000]",children:i.is_active?"Active":"Inactive"}),(0,a.jsxs)("p",{className:"text-xs text-[#6D6D6D]",children:["Currently ",i.is_active?"in use":"disabled"]})]})]})]}),i.all_goals&&i.all_goals.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h4",{className:"text-sm font-semibold text-[#000000]",children:["Linked Goals (",i.all_goals.length,")"]}),a.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:i.all_goals.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-white border border-[#E0E0E0] rounded-lg",children:[a.jsx("div",{className:"w-6 h-6 bg-[#4ECDC4]/10 rounded-full flex items-center justify-center",children:a.jsx(f.Z,{className:"w-3 h-3 text-[#4ECDC4]"})}),a.jsx("span",{className:"text-sm text-[#000000] font-medium",children:e.name})]},e.id))})]})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 bg-[#FF6B6B]/10 rounded-full flex items-center justify-center mx-auto",children:a.jsx(C.Z,{className:"w-8 h-8 text-[#FF6B6B]"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-[#000000] mb-2",children:"Are you absolutely sure?"}),(0,a.jsxs)("p",{className:"text-[#6D6D6D]",children:['This will permanently delete the activity "',a.jsx("strong",{children:i.name}),'" and all associated data.']})]})]}),a.jsx("div",{className:"bg-[#FF6B6B]/10 border border-[#FF6B6B]/20 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx(C.Z,{className:"w-5 h-5 text-[#FF6B6B] mt-0.5"}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-semibold text-[#FF6B6B] mb-1",children:"This action is irreversible"}),(0,a.jsxs)("ul",{className:"text-sm text-[#6D6D6D] space-y-1",children:[a.jsx("li",{children:"• Activity will be permanently deleted"}),a.jsx("li",{children:"• All completion history will be lost"}),a.jsx("li",{children:"• Goal associations will be removed"}),a.jsx("li",{children:"• This cannot be undone"})]})]})]})})]})}),(0,a.jsxs)("div",{className:"flex justify-between items-center p-6 border-t border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-sm text-[#6D6D6D]",children:["Step ",c," of 2"]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[a.jsx("div",{className:(0,m.cn)("w-2 h-2 rounded-full",c>=1?"bg-[#4ECDC4]":"bg-gray-300")}),a.jsx("div",{className:(0,m.cn)("w-2 h-2 rounded-full",c>=2?"bg-[#FF6B6B]":"bg-gray-300")})]})]}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[a.jsx("button",{onClick:handleClose,disabled:r,className:"px-6 py-2 border border-[#E0E0E0] rounded-lg text-[#000000] hover:bg-[#F0F0F0] transition-colors disabled:opacity-50",children:"Cancel"}),1===c?a.jsx("button",{onClick:()=>o(2),className:"px-6 py-2 bg-[#FF6B6B] text-white rounded-lg hover:bg-[#FF5252] transition-colors",children:"Continue"}):a.jsx("button",{onClick:handleDelete,disabled:r,className:"px-6 py-2 bg-[#FF6B6B] text-white rounded-lg hover:bg-[#FF5252] transition-colors disabled:opacity-50 flex items-center space-x-2",children:r?(0,a.jsxs)(a.Fragment,{children:[a.jsx(x.Z,{className:"w-4 h-4 animate-spin"}),a.jsx("span",{children:"Deleting..."})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(_.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Delete Forever"})]})})]})]})]})}):null}var F=s(6665),E=s(9518),B=s(5905);let ActivityCard=({activity:e,onEdit:t,onDelete:s})=>{let[i,r]=(0,l.useState)(!1),[n,d]=(0,l.useState)(!1),handleDelete=async()=>{d(!0);try{await s(e.id),r(!1)}catch(e){console.error("Error deleting activity:",e)}finally{d(!1)}};return(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"font-semibold text-card-title",children:e.name}),!e.is_active&&a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs",children:"Inactive"})]}),a.jsx("p",{className:"text-sm text-card-subtext mb-3",children:e.description}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(y.Z,{className:"w-4 h-4 text-nav-icon"}),a.jsx("span",{className:"text-sm text-card-subtext capitalize",children:e.category.replace("_"," ")})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(j.Z,{className:"w-4 h-4 text-nav-icon"}),(0,a.jsxs)("span",{className:"text-sm text-card-subtext",children:[e.estimated_duration||"Variable"," minutes"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(f.Z,{className:"w-4 h-4 text-nav-icon"}),(0,a.jsxs)("span",{className:"text-sm text-card-subtext",children:[e.all_goals.length," goal",1!==e.all_goals.length?"s":""," linked"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:(0,m.cn)("px-2 py-1 rounded-full text-xs font-medium",(e=>{switch(e){case"easy":return"bg-text-positive/10 text-text-positive";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-text-danger/10 text-text-danger";default:return"bg-gray-100 text-gray-800"}})(e.difficulty)),children:e.difficulty}),a.jsx("span",{className:(0,m.cn)("px-2 py-1 rounded-full text-xs font-medium",(e=>{switch(e){case"daily_living":return"bg-green-100 text-green-800";case"social":return"bg-blue-100 text-blue-800";case"educational":return"bg-purple-100 text-purple-800";case"recreational":return"bg-orange-100 text-orange-800";case"therapeutic":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}})(e.category)),children:e.category.replace("_"," ")})]})]})]}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("button",{onClick:()=>r(!i),className:"p-2 rounded-lg hover:bg-bg-highlight transition-colors",disabled:n,children:n?a.jsx(x.Z,{className:"w-4 h-4 animate-spin"}):a.jsx(F.Z,{className:"w-4 h-4 text-nav-icon"})}),i&&a.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-bg-primary border border-border-default rounded-lg shadow-card z-50",children:(0,a.jsxs)("div",{className:"py-2",children:[(0,a.jsxs)("button",{onClick:()=>t(e),className:"w-full flex items-center gap-3 px-4 py-2 text-left hover:bg-bg-highlight transition-colors",children:[a.jsx(b.Z,{className:"w-4 h-4 text-nav-icon"}),a.jsx("span",{className:"text-sm text-text-primary",children:"Edit Activity"})]}),(0,a.jsxs)("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-left hover:bg-bg-highlight transition-colors",children:[a.jsx(w.Z,{className:"w-4 h-4 text-nav-icon"}),a.jsx("span",{className:"text-sm text-text-primary",children:"View Details"})]}),(0,a.jsxs)("button",{onClick:handleDelete,disabled:n,className:"w-full flex items-center gap-3 px-4 py-2 text-left hover:bg-bg-highlight transition-colors text-text-danger",children:[n?a.jsx(x.Z,{className:"w-4 h-4 animate-spin"}):a.jsx(_.Z,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Delete"})]})]})})]})]}),e.all_goals.length>0&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-border-default",children:[a.jsx("p",{className:"text-xs text-card-subtext mb-2",children:"Linked Goals:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.all_goals.map(e=>a.jsx("span",{className:"px-2 py-1 bg-btn-primary/10 text-btn-primary rounded-full text-xs",children:e.name},e.id))})]}),(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-border-default",children:[a.jsx("p",{className:"text-xs text-card-subtext mb-2",children:"Instructions:"}),a.jsx("p",{className:"text-sm text-card-subtext line-clamp-2",children:e.instructions})]}),e.completion_rate>0&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-border-default",children:[a.jsx("p",{className:"text-xs text-card-subtext mb-2",children:"Completion Rate:"}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-btn-primary h-2 rounded-full",style:{width:`${e.completion_rate}%`}})}),(0,a.jsxs)("p",{className:"text-xs text-card-subtext mt-1",children:[e.completion_rate.toFixed(1),"%"]})]})]})},ActivityTable=({activities:e,onEdit:t,onDelete:s})=>(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-card-title",children:"All Activities"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx(E.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-text-muted"}),a.jsx("input",{type:"text",placeholder:"Search activities...",className:"input-field pl-10 w-64"})]}),(0,a.jsxs)("select",{className:"input-field w-32",children:[a.jsx("option",{value:"all",children:"All Categories"}),a.jsx("option",{value:"daily_living",children:"Daily Living"}),a.jsx("option",{value:"social",children:"Social"}),a.jsx("option",{value:"educational",children:"Educational"}),a.jsx("option",{value:"recreational",children:"Recreational"}),a.jsx("option",{value:"therapeutic",children:"Therapeutic"}),a.jsx("option",{value:"other",children:"Other"})]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-border-default",children:[a.jsx("th",{className:"text-left py-3 px-4 font-medium text-text-primary",children:"Activity"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-text-primary",children:"Category"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-text-primary",children:"Difficulty"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-text-primary",children:"Duration"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-text-primary",children:"Goals"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-text-primary",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-text-primary",children:"Created"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-text-primary",children:"Actions"})]})}),a.jsx("tbody",{children:e.map(e=>(0,a.jsxs)("tr",{className:"border-b border-border-default hover:bg-bg-highlight",children:[a.jsx("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-text-primary font-medium",children:e.name}),a.jsx("p",{className:"text-sm text-text-secondary",children:e.description})]})}),a.jsx("td",{className:"py-3 px-4 text-text-secondary capitalize",children:e.category.replace("_"," ")}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:(0,m.cn)("px-2 py-1 rounded-full text-xs font-medium","easy"===e.difficulty&&"bg-text-positive/10 text-text-positive","medium"===e.difficulty&&"bg-yellow-100 text-yellow-800","hard"===e.difficulty&&"bg-text-danger/10 text-text-danger"),children:e.difficulty})}),(0,a.jsxs)("td",{className:"py-3 px-4 text-text-secondary",children:[e.estimated_duration||"Variable"," min"]}),a.jsx("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.all_goals.slice(0,2).map(e=>a.jsx("span",{className:"px-2 py-1 bg-btn-primary/10 text-btn-primary rounded-full text-xs",children:e.name},e.id)),e.all_goals.length>2&&(0,a.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs",children:["+",e.all_goals.length-2]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:(0,m.cn)("px-2 py-1 rounded-full text-xs font-medium",e.is_active?"bg-text-positive/10 text-text-positive":"bg-gray-100 text-gray-600"),children:e.is_active?"Active":"Inactive"})}),a.jsx("td",{className:"py-3 px-4 text-text-secondary",children:(0,m.p6)(e.created_at)}),a.jsx("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>t(e),className:"p-1 text-nav-icon hover:bg-bg-highlight rounded",title:"Edit Activity",children:a.jsx(b.Z,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-1 text-nav-icon hover:bg-bg-highlight rounded",title:"View Details",children:a.jsx(w.Z,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>s(e.id),className:"p-1 text-text-danger hover:bg-text-danger/10 rounded",title:"Delete Activity",children:a.jsx(_.Z,{className:"w-4 h-4"})})]})})]},e.id))})]})})]});function ActivitiesPage(){let{activities:e,isLoading:t,mutate:s}=(0,B.G$)(),[d,c]=(0,l.useState)("grid"),[o,u]=(0,l.useState)(""),[h,g]=(0,l.useState)("all"),[p,b]=(0,l.useState)("all"),[j,N]=(0,l.useState)(!1),[D,_]=(0,l.useState)(!1),[C,F]=(0,l.useState)(!1),[k,A]=(0,l.useState)(null),Z=e.filter(e=>{let t=e.name?.toLowerCase().includes(o.toLowerCase())||e.description?.toLowerCase().includes(o.toLowerCase()),s="all"===h||e.category===h,a="all"===p||e.difficulty===p;return t&&s&&a}),handleEditActivity=e=>{A(e),_(!0)},handleDeleteActivity=t=>{let s=e.find(e=>e.id===t);s&&(A(s),F(!0))},handleModalClose=()=>{N(!1),_(!1),F(!1),A(null)},handleModalSuccess=()=>{s(),handleModalClose()};return t?a.jsx(i.Z,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(x.Z,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-btn-primary"}),a.jsx("p",{className:"text-text-secondary",children:"Loading activities..."})]})})}):(0,a.jsxs)(i.Z,{children:[(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx(r.Z,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Activities"}]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"Activity Management"}),a.jsx("p",{className:"text-text-secondary",children:"Create, edit, and manage activities for care programs"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center bg-bg-highlight rounded-lg p-1",children:[a.jsx("button",{onClick:()=>c("grid"),className:(0,m.cn)("px-3 py-1 rounded-md text-sm font-medium transition-colors","grid"===d?"bg-bg-primary text-text-primary shadow-sm":"text-text-secondary hover:text-text-primary"),children:"Grid"}),a.jsx("button",{onClick:()=>c("table"),className:(0,m.cn)("px-3 py-1 rounded-md text-sm font-medium transition-colors","table"===d?"bg-bg-primary text-text-primary shadow-sm":"text-text-secondary hover:text-text-primary"),children:"Table"})]}),(0,a.jsxs)("button",{onClick:()=>{N(!0)},className:"btn-primary flex items-center gap-2",children:[a.jsx(n.Z,{className:"w-4 h-4"}),"Add Activity"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"card p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-card-subtext",children:"Total Activities"}),a.jsx("p",{className:"text-2xl font-bold text-card-title",children:e.length})]}),a.jsx("div",{className:"w-12 h-12 bg-btn-primary rounded-lg flex items-center justify-center",children:a.jsx(v.Z,{className:"w-6 h-6 text-white"})})]})}),a.jsx("div",{className:"card p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-card-subtext",children:"Daily Living"}),a.jsx("p",{className:"text-2xl font-bold text-card-title",children:e.filter(e=>"daily_living"===e.category).length})]}),a.jsx("div",{className:"w-12 h-12 bg-text-positive/10 rounded-lg flex items-center justify-center",children:a.jsx(y.Z,{className:"w-6 h-6 text-text-positive"})})]})}),a.jsx("div",{className:"card p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-card-subtext",children:"Therapeutic"}),a.jsx("p",{className:"text-2xl font-bold text-card-title",children:e.filter(e=>"therapeutic"===e.category).length})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(w.Z,{className:"w-6 h-6 text-blue-800"})})]})}),a.jsx("div",{className:"card p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-card-subtext",children:"Social"}),a.jsx("p",{className:"text-2xl font-bold text-card-title",children:e.filter(e=>"social"===e.category).length})]}),a.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:a.jsx(f.Z,{className:"w-6 h-6 text-yellow-800"})})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"card p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-card-subtext",children:"Easy Activities"}),a.jsx("p",{className:"text-2xl font-bold text-card-title",children:e.filter(e=>"easy"===e.difficulty).length})]}),a.jsx("div",{className:"w-12 h-12 bg-text-positive/10 rounded-lg flex items-center justify-center",children:a.jsx(v.Z,{className:"w-6 h-6 text-text-positive"})})]})}),a.jsx("div",{className:"card p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-card-subtext",children:"Medium Activities"}),a.jsx("p",{className:"text-2xl font-bold text-card-title",children:e.filter(e=>"medium"===e.difficulty).length})]}),a.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:a.jsx(v.Z,{className:"w-6 h-6 text-yellow-800"})})]})}),a.jsx("div",{className:"card p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-card-subtext",children:"Hard Activities"}),a.jsx("p",{className:"text-2xl font-bold text-card-title",children:e.filter(e=>"hard"===e.difficulty).length})]}),a.jsx("div",{className:"w-12 h-12 bg-text-danger/10 rounded-lg flex items-center justify-center",children:a.jsx(v.Z,{className:"w-6 h-6 text-text-danger"})})]})})]}),a.jsx("div",{className:"card p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[a.jsx(E.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-text-muted"}),a.jsx("input",{type:"text",placeholder:"Search activities by name or description...",value:o,onChange:e=>u(e.target.value),className:"input-field pl-10"})]}),(0,a.jsxs)("select",{value:h,onChange:e=>g(e.target.value),className:"input-field w-40",children:[a.jsx("option",{value:"all",children:"All Categories"}),a.jsx("option",{value:"daily_living",children:"Daily Living"}),a.jsx("option",{value:"social",children:"Social"}),a.jsx("option",{value:"educational",children:"Educational"}),a.jsx("option",{value:"recreational",children:"Recreational"}),a.jsx("option",{value:"therapeutic",children:"Therapeutic"}),a.jsx("option",{value:"other",children:"Other"})]}),(0,a.jsxs)("select",{value:p,onChange:e=>b(e.target.value),className:"input-field w-32",children:[a.jsx("option",{value:"all",children:"All Difficulties"}),a.jsx("option",{value:"easy",children:"Easy"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"hard",children:"Hard"})]})]})}),0===Z.length?(0,a.jsxs)("div",{className:"card p-12 text-center",children:[a.jsx(v.Z,{className:"w-12 h-12 text-text-muted mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-card-title mb-2",children:"No activities found"}),a.jsx("p",{className:"text-text-secondary",children:o||"all"!==h||"all"!==p?"Try adjusting your search or filters":"No activities have been created yet"})]}):"grid"===d?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Z.map(e=>a.jsx(ActivityCard,{activity:e,onEdit:handleEditActivity,onDelete:handleDeleteActivity},e.id))}):a.jsx(ActivityTable,{activities:Z,onEdit:handleEditActivity,onDelete:handleDeleteActivity})]}),a.jsx(AddActivityModal,{isOpen:j,onClose:handleModalClose,onSuccess:handleModalSuccess}),a.jsx(EditActivityModal,{isOpen:D,onClose:handleModalClose,onSuccess:handleModalSuccess,activity:k}),a.jsx(DeleteActivityModal,{isOpen:C,onClose:handleModalClose,onSuccess:handleModalSuccess,activity:k})]})}},1042:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>r,__esModule:()=>i,default:()=>d});var a=s(5153);let l=(0,a.createProxy)(String.raw`/Users/mandaza/Documents/Project/tavonga/web-app/app/activities/page.tsx`),{__esModule:i,$$typeof:r}=l,n=l.default,d=n}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[4312,9708,6897,516,1717,4809,9407,2234,3672,5905],()=>__webpack_exec__(9385));module.exports=s})();